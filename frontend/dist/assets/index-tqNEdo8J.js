var Aj=Object.defineProperty;var Dj=(e,t,s)=>t in e?Aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var H=(e,t,s)=>Dj(e,typeof t!="symbol"?t+"":t,s);function Rj(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();function My(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ly={exports:{}},Ac={},Oy={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),Mj=Symbol.for("react.portal"),Lj=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),Ij=Symbol.for("react.profiler"),Bj=Symbol.for("react.provider"),Fj=Symbol.for("react.context"),zj=Symbol.for("react.forward_ref"),Vj=Symbol.for("react.suspense"),$j=Symbol.for("react.memo"),Uj=Symbol.for("react.lazy"),fm=Symbol.iterator;function Hj(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var Iy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},By=Object.assign,Fy={};function yr(e,t,s){this.props=e,this.context=t,this.refs=Fy,this.updater=s||Iy}yr.prototype.isReactComponent={};yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zy(){}zy.prototype=yr.prototype;function xf(e,t,s){this.props=e,this.context=t,this.refs=Fy,this.updater=s||Iy}var yf=xf.prototype=new zy;yf.constructor=xf;By(yf,yr.prototype);yf.isPureReactComponent=!0;var pm=Array.isArray,Vy=Object.prototype.hasOwnProperty,vf={current:null},$y={key:!0,ref:!0,__self:!0,__source:!0};function Uy(e,t,s){var n,i={},r=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)Vy.call(t,n)&&!$y.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:ta,type:e,key:r,ref:o,props:i,_owner:vf.current}}function Wj(e,t){return{$$typeof:ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ta}function qj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var mm=/\/+/g;function Sd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qj(""+e.key):t.toString(36)}function dl(e,t,s,n,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ta:case Mj:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Sd(o,0):n,pm(i)?(s="",e!=null&&(s=e.replace(mm,"$&/")+"/"),dl(i,t,s,"",function(d){return d})):i!=null&&(bf(i)&&(i=Wj(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",pm(e))for(var l=0;l<e.length;l++){r=e[l];var c=n+Sd(r,l);o+=dl(r,t,s,c,i)}else if(c=Hj(e),typeof c=="function")for(e=c.call(e),l=0;!(r=e.next()).done;)r=r.value,c=n+Sd(r,l++),o+=dl(r,t,s,c,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(e,t,s){if(e==null)return e;var n=[],i=0;return dl(e,n,"","",function(r){return t.call(s,r,i++)}),n}function Kj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ul={transition:null},Yj={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:vf};function Hy(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ba,forEach:function(e,t,s){ba(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=yr;J.Fragment=Lj;J.Profiler=Ij;J.PureComponent=xf;J.StrictMode=Oj;J.Suspense=Vj;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yj;J.act=Hy;J.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=By({},e.props),i=e.key,r=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=vf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Vy.call(t,c)&&!$y.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:ta,type:e.type,key:i,ref:r,props:n,_owner:o}};J.createContext=function(e){return e={$$typeof:Fj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bj,_context:e},e.Consumer=e};J.createElement=Uy;J.createFactory=function(e){var t=Uy.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:zj,render:e}};J.isValidElement=bf;J.lazy=function(e){return{$$typeof:Uj,_payload:{_status:-1,_result:e},_init:Kj}};J.memo=function(e,t){return{$$typeof:$j,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ul.transition;ul.transition={};try{e()}finally{ul.transition=t}};J.unstable_act=Hy;J.useCallback=function(e,t){return lt.current.useCallback(e,t)};J.useContext=function(e){return lt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};J.useEffect=function(e,t){return lt.current.useEffect(e,t)};J.useId=function(){return lt.current.useId()};J.useImperativeHandle=function(e,t,s){return lt.current.useImperativeHandle(e,t,s)};J.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return lt.current.useMemo(e,t)};J.useReducer=function(e,t,s){return lt.current.useReducer(e,t,s)};J.useRef=function(e){return lt.current.useRef(e)};J.useState=function(e){return lt.current.useState(e)};J.useSyncExternalStore=function(e,t,s){return lt.current.useSyncExternalStore(e,t,s)};J.useTransition=function(){return lt.current.useTransition()};J.version="18.3.1";Oy.exports=J;var N=Oy.exports;const ie=My(N),Gj=Rj({__proto__:null,default:ie},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=N,Qj=Symbol.for("react.element"),Jj=Symbol.for("react.fragment"),Zj=Object.prototype.hasOwnProperty,eN=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tN={key:!0,ref:!0,__self:!0,__source:!0};function Wy(e,t,s){var n,i={},r=null,o=null;s!==void 0&&(r=""+s),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Zj.call(t,n)&&!tN.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Qj,type:e,key:r,ref:o,props:i,_owner:eN.current}}Ac.Fragment=Jj;Ac.jsx=Wy;Ac.jsxs=Wy;Ly.exports=Ac;var a=Ly.exports,Lu={},qy={exports:{}},Ct={},Ky={exports:{}},Yy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var K=L.length;L.push(z);e:for(;0<K;){var U=K-1>>>1,Q=L[U];if(0<i(Q,z))L[U]=z,L[K]=Q,K=U;else break e}}function s(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var z=L[0],K=L.pop();if(K!==z){L[0]=K;e:for(var U=0,Q=L.length,ze=Q>>>1;U<ze;){var pe=2*(U+1)-1,nt=L[pe],Se=pe+1,An=L[Se];if(0>i(nt,K))Se<Q&&0>i(An,nt)?(L[U]=An,L[Se]=K,U=Se):(L[U]=nt,L[pe]=K,U=pe);else if(Se<Q&&0>i(An,K))L[U]=An,L[Se]=K,U=Se;else break e}}return z}function i(L,z){var K=L.sortIndex-z.sortIndex;return K!==0?K:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=s(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=L)n(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=s(d)}}function w(L){if(v=!1,b(L),!g)if(s(c)!==null)g=!0,M(j);else{var z=s(d);z!==null&&$(w,z.startTime-L)}}function j(L,z){g=!1,v&&(v=!1,m(_),_=-1),p=!0;var K=f;try{for(b(z),h=s(c);h!==null&&(!(h.expirationTime>z)||L&&!P());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var Q=U(h.expirationTime<=z);z=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===s(c)&&n(c),b(z)}else n(c);h=s(c)}if(h!==null)var ze=!0;else{var pe=s(d);pe!==null&&$(w,pe.startTime-z),ze=!1}return ze}finally{h=null,f=K,p=!1}}var k=!1,C=null,_=-1,S=5,T=-1;function P(){return!(e.unstable_now()-T<S)}function E(){if(C!==null){var L=e.unstable_now();T=L;var z=!0;try{z=C(!0,L)}finally{z?O():(k=!1,C=null)}}else k=!1}var O;if(typeof y=="function")O=function(){y(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,D=F.port2;F.port1.onmessage=E,O=function(){D.postMessage(null)}}else O=function(){x(E,0)};function M(L){C=L,k||(k=!0,O())}function $(L,z){_=x(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return L()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=f;f=L;try{return z()}finally{f=K}},e.unstable_scheduleCallback=function(L,z,K){var U=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?U+K:U):K=U,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,L={id:u++,callback:z,priorityLevel:L,startTime:K,expirationTime:Q,sortIndex:-1},K>U?(L.sortIndex=K,t(d,L),s(c)===null&&L===s(d)&&(v?(m(_),_=-1):v=!0,$(w,K-U))):(L.sortIndex=Q,t(c,L),g||p||(g=!0,M(j))),L},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(L){var z=f;return function(){var K=f;f=z;try{return L.apply(this,arguments)}finally{f=K}}}})(Yy);Ky.exports=Yy;var sN=Ky.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=N,kt=sN;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gy=new Set,No={};function Ni(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(No[e]=t,e=0;e<t.length;e++)Gy.add(t[e])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,iN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gm={},xm={};function rN(e){return Ou.call(xm,e)?!0:Ou.call(gm,e)?!1:iN.test(e)?xm[e]=!0:(gm[e]=!0,!1)}function oN(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aN(e,t,s,n){if(t===null||typeof t>"u"||oN(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,s,n,i,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function jf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wf,jf);We[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wf,jf);We[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wf,jf);We[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nf(e,t,s,n){var i=We.hasOwnProperty(t)?We[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aN(t,s,i,n)&&(s=null),n||i===null?rN(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var zs=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),Xy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),_f=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),Jy=Symbol.for("react.offscreen"),ym=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=ym&&e[ym]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,kd;function Hr(e){if(kd===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);kd=t&&t[1]||""}return`
`+kd+e}var _d=!1;function Cd(e,t){if(!e||_d)return"";_d=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),r=n.stack.split(`
`),o=i.length-1,l=r.length-1;1<=o&&0<=l&&i[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==r[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{_d=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Hr(e):""}function lN(e){switch(e.tag){case 5:return Hr(e.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return e=Cd(e.type,!1),e;case 11:return e=Cd(e.type.render,!1),e;case 1:return e=Cd(e.type,!0),e;default:return""}}function zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ri:return"Fragment";case Di:return"Portal";case Iu:return"Profiler";case Sf:return"StrictMode";case Bu:return"Suspense";case Fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qy:return(e.displayName||"Context")+".Consumer";case Xy:return(e._context.displayName||"Context")+".Provider";case kf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _f:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case Gs:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}function cN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zu(t);case 8:return t===Sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dN(e){var t=Zy(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=dN(e))}function ev(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Zy(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var s=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function vm(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=wn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tv(e,t){t=t.checked,t!=null&&Nf(e,"checked",t,!1)}function $u(e,t){tv(e,t);var s=wn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uu(e,t.type,s):t.hasOwnProperty("defaultValue")&&Uu(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bm(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Uu(e,t,s){(t!=="number"||zl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Wr=Array.isArray;function Gi(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+wn(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(B(92));if(Wr(s)){if(1<s.length)throw Error(B(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:wn(s)}}function sv(e,t){var s=wn(t.value),n=wn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function jm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,iv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function So(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uN=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(e){uN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),so[t]=so[e]})});function rv(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||so.hasOwnProperty(e)&&so[e]?(""+t).trim():t+"px"}function ov(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=rv(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var hN=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qu(e,t){if(t){if(hN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Ku(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=null;function Cf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gu=null,Xi=null,Qi=null;function Nm(e){if(e=ia(e)){if(typeof Gu!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Oc(t),Gu(e.stateNode,e.type,t))}}function av(e){Xi?Qi?Qi.push(e):Qi=[e]:Xi=e}function lv(){if(Xi){var e=Xi,t=Qi;if(Qi=Xi=null,Nm(e),t)for(e=0;e<t.length;e++)Nm(t[e])}}function cv(e,t){return e(t)}function dv(){}var Pd=!1;function uv(e,t,s){if(Pd)return e(t,s);Pd=!0;try{return cv(e,t,s)}finally{Pd=!1,(Xi!==null||Qi!==null)&&(dv(),lv())}}function ko(e,t){var s=e.stateNode;if(s===null)return null;var n=Oc(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(B(231,t,typeof s));return s}var Xu=!1;if(Ms)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Xu=!1}function fN(e,t,s,n,i,r,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var no=!1,Vl=null,$l=!1,Qu=null,pN={onError:function(e){no=!0,Vl=e}};function mN(e,t,s,n,i,r,o,l,c){no=!1,Vl=null,fN.apply(pN,arguments)}function gN(e,t,s,n,i,r,o,l,c){if(mN.apply(this,arguments),no){if(no){var d=Vl;no=!1,Vl=null}else throw Error(B(198));$l||($l=!0,Qu=d)}}function Si(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function hv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sm(e){if(Si(e)!==e)throw Error(B(188))}function xN(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(B(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===s)return Sm(i),e;if(r===n)return Sm(i),t;r=r.sibling}throw Error(B(188))}if(s.return!==n.return)s=i,n=r;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=r;break}if(l===n){o=!0,n=i,s=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===s){o=!0,s=r,n=i;break}if(l===n){o=!0,n=r,s=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(s.alternate!==n)throw Error(B(190))}if(s.tag!==3)throw Error(B(188));return s.stateNode.current===s?e:t}function fv(e){return e=xN(e),e!==null?pv(e):null}function pv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pv(e);if(t!==null)return t;e=e.sibling}return null}var mv=kt.unstable_scheduleCallback,km=kt.unstable_cancelCallback,yN=kt.unstable_shouldYield,vN=kt.unstable_requestPaint,ke=kt.unstable_now,bN=kt.unstable_getCurrentPriorityLevel,Pf=kt.unstable_ImmediatePriority,gv=kt.unstable_UserBlockingPriority,Ul=kt.unstable_NormalPriority,wN=kt.unstable_LowPriority,xv=kt.unstable_IdlePriority,Dc=null,fs=null;function jN(e){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Dc,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:kN,NN=Math.log,SN=Math.LN2;function kN(e){return e>>>=0,e===0?32:31-(NN(e)/SN|0)|0}var Sa=64,ka=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hl(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=qr(l):(r&=o,r!==0&&(n=qr(r)))}else o=s&~i,o!==0?n=qr(o):r!==0&&(n=qr(r));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Zt(t),i=1<<s,n|=e[s],t&=~i;return n}function _N(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CN(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-Zt(r),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=_N(l,t)):c<=t&&(e.expiredLanes|=l),r&=~l}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yv(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function Td(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function sa(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=s}function PN(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Zt(s),r=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~r}}function Tf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Zt(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var oe=0;function vv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bv,Ef,wv,jv,Nv,Zu=!1,_a=[],cn=null,dn=null,un=null,_o=new Map,Co=new Map,Js=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _m(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(t.pointerId)}}function Tr(e,t,s,n,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},t!==null&&(t=ia(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function EN(e,t,s,n,i){switch(t){case"focusin":return cn=Tr(cn,e,t,s,n,i),!0;case"dragenter":return dn=Tr(dn,e,t,s,n,i),!0;case"mouseover":return un=Tr(un,e,t,s,n,i),!0;case"pointerover":var r=i.pointerId;return _o.set(r,Tr(_o.get(r)||null,e,t,s,n,i)),!0;case"gotpointercapture":return r=i.pointerId,Co.set(r,Tr(Co.get(r)||null,e,t,s,n,i)),!0}return!1}function Sv(e){var t=Xn(e.target);if(t!==null){var s=Si(t);if(s!==null){if(t=s.tag,t===13){if(t=hv(s),t!==null){e.blockedOn=t,Nv(e.priority,function(){wv(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=eh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Yu=n,s.target.dispatchEvent(n),Yu=null}else return t=ia(s),t!==null&&Ef(t),e.blockedOn=s,!1;t.shift()}return!0}function Cm(e,t,s){hl(e)&&s.delete(t)}function AN(){Zu=!1,cn!==null&&hl(cn)&&(cn=null),dn!==null&&hl(dn)&&(dn=null),un!==null&&hl(un)&&(un=null),_o.forEach(Cm),Co.forEach(Cm)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,AN)))}function Po(e){function t(i){return Er(i,e)}if(0<_a.length){Er(_a[0],e);for(var s=1;s<_a.length;s++){var n=_a[s];n.blockedOn===e&&(n.blockedOn=null)}}for(cn!==null&&Er(cn,e),dn!==null&&Er(dn,e),un!==null&&Er(un,e),_o.forEach(t),Co.forEach(t),s=0;s<Js.length;s++)n=Js[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Js.length&&(s=Js[0],s.blockedOn===null);)Sv(s),s.blockedOn===null&&Js.shift()}var Ji=zs.ReactCurrentBatchConfig,Wl=!0;function DN(e,t,s,n){var i=oe,r=Ji.transition;Ji.transition=null;try{oe=1,Af(e,t,s,n)}finally{oe=i,Ji.transition=r}}function RN(e,t,s,n){var i=oe,r=Ji.transition;Ji.transition=null;try{oe=4,Af(e,t,s,n)}finally{oe=i,Ji.transition=r}}function Af(e,t,s,n){if(Wl){var i=eh(e,t,s,n);if(i===null)Fd(e,t,n,ql,s),_m(e,n);else if(EN(i,e,t,s,n))n.stopPropagation();else if(_m(e,n),t&4&&-1<TN.indexOf(e)){for(;i!==null;){var r=ia(i);if(r!==null&&bv(r),r=eh(e,t,s,n),r===null&&Fd(e,t,n,ql,s),r===i)break;i=r}i!==null&&n.stopPropagation()}else Fd(e,t,n,null,s)}}var ql=null;function eh(e,t,s,n){if(ql=null,e=Cf(n),e=Xn(e),e!==null)if(t=Si(e),t===null)e=null;else if(s=t.tag,s===13){if(e=hv(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function kv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bN()){case Pf:return 1;case gv:return 4;case Ul:case wN:return 16;case xv:return 536870912;default:return 16}default:return 16}}var en=null,Df=null,fl=null;function _v(){if(fl)return fl;var e,t=Df,s=t.length,n,i="value"in en?en.value:en.textContent,r=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[r-n];n++);return fl=i.slice(e,1<n?1-n:void 0)}function pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ca(){return!0}function Pm(){return!1}function Pt(e){function t(s,n,i,r,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ca:Pm,this.isPropagationStopped=Pm,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=Pt(vr),na=be({},vr,{view:0,detail:0}),MN=Pt(na),Ed,Ad,Ar,Rc=be({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(Ed=e.screenX-Ar.screenX,Ad=e.screenY-Ar.screenY):Ad=Ed=0,Ar=e),Ed)},movementY:function(e){return"movementY"in e?e.movementY:Ad}}),Tm=Pt(Rc),LN=be({},Rc,{dataTransfer:0}),ON=Pt(LN),IN=be({},na,{relatedTarget:0}),Dd=Pt(IN),BN=be({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),FN=Pt(BN),zN=be({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VN=Pt(zN),$N=be({},vr,{data:0}),Em=Pt($N),UN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WN[e])?!!t[e]:!1}function Mf(){return qN}var KN=be({},na,{key:function(e){if(e.key){var t=UN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YN=Pt(KN),GN=be({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=Pt(GN),XN=be({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),QN=Pt(XN),JN=be({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZN=Pt(JN),eS=be({},Rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tS=Pt(eS),sS=[9,13,27,32],Lf=Ms&&"CompositionEvent"in window,io=null;Ms&&"documentMode"in document&&(io=document.documentMode);var nS=Ms&&"TextEvent"in window&&!io,Cv=Ms&&(!Lf||io&&8<io&&11>=io),Dm=" ",Rm=!1;function Pv(e,t){switch(e){case"keyup":return sS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mi=!1;function iS(e,t){switch(e){case"compositionend":return Tv(t);case"keypress":return t.which!==32?null:(Rm=!0,Dm);case"textInput":return e=t.data,e===Dm&&Rm?null:e;default:return null}}function rS(e,t){if(Mi)return e==="compositionend"||!Lf&&Pv(e,t)?(e=_v(),fl=Df=en=null,Mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cv&&t.locale!=="ko"?null:t.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oS[e.type]:t==="textarea"}function Ev(e,t,s,n){av(n),t=Kl(t,"onChange"),0<t.length&&(s=new Rf("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ro=null,To=null;function aS(e){Vv(e,0)}function Mc(e){var t=Ii(e);if(ev(t))return e}function lS(e,t){if(e==="change")return t}var Av=!1;if(Ms){var Rd;if(Ms){var Md="oninput"in document;if(!Md){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),Md=typeof Lm.oninput=="function"}Rd=Md}else Rd=!1;Av=Rd&&(!document.documentMode||9<document.documentMode)}function Om(){ro&&(ro.detachEvent("onpropertychange",Dv),To=ro=null)}function Dv(e){if(e.propertyName==="value"&&Mc(To)){var t=[];Ev(t,To,e,Cf(e)),uv(aS,t)}}function cS(e,t,s){e==="focusin"?(Om(),ro=t,To=s,ro.attachEvent("onpropertychange",Dv)):e==="focusout"&&Om()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mc(To)}function uS(e,t){if(e==="click")return Mc(t)}function hS(e,t){if(e==="input"||e==="change")return Mc(t)}function fS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ts=typeof Object.is=="function"?Object.is:fS;function Eo(e,t){if(ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Ou.call(t,i)||!ts(e[i],t[i]))return!1}return!0}function Im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bm(e,t){var s=Im(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Im(s)}}function Rv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mv(){for(var e=window,t=zl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=zl(e.document)}return t}function Of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pS(e){var t=Mv(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Rv(s.ownerDocument.documentElement,s)){if(n!==null&&Of(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,r=Math.min(n.start,i);n=n.end===void 0?r:Math.min(n.end,i),!e.extend&&r>n&&(i=n,n=r,r=i),i=Bm(s,r);var o=Bm(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mS=Ms&&"documentMode"in document&&11>=document.documentMode,Li=null,th=null,oo=null,sh=!1;function Fm(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;sh||Li==null||Li!==zl(n)||(n=Li,"selectionStart"in n&&Of(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oo&&Eo(oo,n)||(oo=n,n=Kl(th,"onSelect"),0<n.length&&(t=new Rf("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Li)))}function Pa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Oi={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Ld={},Lv={};Ms&&(Lv=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Lc(e){if(Ld[e])return Ld[e];if(!Oi[e])return e;var t=Oi[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Lv)return Ld[e]=t[s];return e}var Ov=Lc("animationend"),Iv=Lc("animationiteration"),Bv=Lc("animationstart"),Fv=Lc("transitionend"),zv=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){zv.set(e,t),Ni(t,[e])}for(var Od=0;Od<zm.length;Od++){var Id=zm[Od],gS=Id.toLowerCase(),xS=Id[0].toUpperCase()+Id.slice(1);_n(gS,"on"+xS)}_n(Ov,"onAnimationEnd");_n(Iv,"onAnimationIteration");_n(Bv,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Fv,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function Vm(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,gN(n,t,void 0,e),e.currentTarget=null}function Vv(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==r&&i.isPropagationStopped())break e;Vm(i,l,d),r=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==r&&i.isPropagationStopped())break e;Vm(i,l,d),r=c}}}if($l)throw e=Qu,$l=!1,Qu=null,e}function de(e,t){var s=t[ah];s===void 0&&(s=t[ah]=new Set);var n=e+"__bubble";s.has(n)||($v(t,e,2,!1),s.add(n))}function Bd(e,t,s){var n=0;t&&(n|=4),$v(s,e,n,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[Ta]){e[Ta]=!0,Gy.forEach(function(s){s!=="selectionchange"&&(yS.has(s)||Bd(s,!1,e),Bd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,Bd("selectionchange",!1,t))}}function $v(e,t,s,n){switch(kv(t)){case 1:var i=DN;break;case 4:i=RN;break;default:i=Af}s=i.bind(null,t,s,e),i=void 0,!Xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Fd(e,t,s,n,i){var r=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Xn(l),o===null)return;if(c=o.tag,c===5||c===6){n=r=o;continue e}l=l.parentNode}}n=n.return}uv(function(){var d=r,u=Cf(s),h=[];e:{var f=zv.get(e);if(f!==void 0){var p=Rf,g=e;switch(e){case"keypress":if(pl(s)===0)break e;case"keydown":case"keyup":p=YN;break;case"focusin":g="focus",p=Dd;break;case"focusout":g="blur",p=Dd;break;case"beforeblur":case"afterblur":p=Dd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ON;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QN;break;case Ov:case Iv:case Bv:p=FN;break;case Fv:p=ZN;break;case"scroll":p=MN;break;case"wheel":p=tS;break;case"copy":case"cut":case"paste":p=VN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Am}var v=(t&4)!==0,x=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=d,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,m!==null&&(w=ko(y,m),w!=null&&v.push(Do(y,w,b)))),x)break;y=y.return}0<v.length&&(f=new p(f,g,null,s,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&s!==Yu&&(g=s.relatedTarget||s.fromElement)&&(Xn(g)||g[Ls]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=s.relatedTarget||s.toElement,p=d,g=g?Xn(g):null,g!==null&&(x=Si(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(v=Tm,w="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Am,w="onPointerLeave",m="onPointerEnter",y="pointer"),x=p==null?f:Ii(p),b=g==null?f:Ii(g),f=new v(w,y+"leave",p,s,u),f.target=x,f.relatedTarget=b,w=null,Xn(u)===d&&(v=new v(m,y+"enter",g,s,u),v.target=b,v.relatedTarget=x,w=v),x=w,p&&g)t:{for(v=p,m=g,y=0,b=v;b;b=Ti(b))y++;for(b=0,w=m;w;w=Ti(w))b++;for(;0<y-b;)v=Ti(v),y--;for(;0<b-y;)m=Ti(m),b--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ti(v),m=Ti(m)}v=null}else v=null;p!==null&&$m(h,f,p,v,!1),g!==null&&x!==null&&$m(h,x,g,v,!0)}}e:{if(f=d?Ii(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=lS;else if(Mm(f))if(Av)j=hS;else{j=dS;var k=cS}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=uS);if(j&&(j=j(e,d))){Ev(h,j,s,u);break e}k&&k(e,f,d),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Uu(f,"number",f.value)}switch(k=d?Ii(d):window,e){case"focusin":(Mm(k)||k.contentEditable==="true")&&(Li=k,th=d,oo=null);break;case"focusout":oo=th=Li=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Fm(h,s,u);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":Fm(h,s,u)}var C;if(Lf)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Mi?Pv(e,s)&&(_="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(Cv&&s.locale!=="ko"&&(Mi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Mi&&(C=_v()):(en=u,Df="value"in en?en.value:en.textContent,Mi=!0)),k=Kl(d,_),0<k.length&&(_=new Em(_,e,null,s,u),h.push({event:_,listeners:k}),C?_.data=C:(C=Tv(s),C!==null&&(_.data=C)))),(C=nS?iS(e,s):rS(e,s))&&(d=Kl(d,"onBeforeInput"),0<d.length&&(u=new Em("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=C))}Vv(h,t)})}function Do(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Kl(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=ko(e,s),r!=null&&n.unshift(Do(e,r,i)),r=ko(e,t),r!=null&&n.push(Do(e,r,i))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $m(e,t,s,n,i){for(var r=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=ko(s,r),c!=null&&o.unshift(Do(s,c,l))):i||(c=ko(s,r),c!=null&&o.push(Do(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var vS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(vS,`
`).replace(bS,"")}function Ea(e,t,s){if(t=Um(t),Um(e)!==t&&s)throw Error(B(425))}function Yl(){}var nh=null,ih=null;function rh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(NS)}:oh;function NS(e){setTimeout(function(){throw e})}function zd(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),Po(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);Po(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),cs="__reactFiber$"+br,Ro="__reactProps$"+br,Ls="__reactContainer$"+br,ah="__reactEvents$"+br,SS="__reactListeners$"+br,kS="__reactHandles$"+br;function Xn(e){var t=e[cs];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ls]||s[cs]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Wm(e);e!==null;){if(s=e[cs])return s;e=Wm(e)}return t}e=s,s=e.parentNode}return null}function ia(e){return e=e[cs]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Oc(e){return e[Ro]||null}var lh=[],Bi=-1;function Cn(e){return{current:e}}function he(e){0>Bi||(e.current=lh[Bi],lh[Bi]=null,Bi--)}function le(e,t){Bi++,lh[Bi]=e.current,e.current=t}var jn={},et=Cn(jn),mt=Cn(!1),di=jn;function ir(e,t){var s=e.type.contextTypes;if(!s)return jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in s)i[r]=t[r];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return e=e.childContextTypes,e!=null}function Gl(){he(mt),he(et)}function qm(e,t,s){if(et.current!==jn)throw Error(B(168));le(et,t),le(mt,s)}function Uv(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,cN(e)||"Unknown",i));return be({},s,n)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,di=et.current,le(et,e),le(mt,mt.current),!0}function Km(e,t,s){var n=e.stateNode;if(!n)throw Error(B(169));s?(e=Uv(e,t,di),n.__reactInternalMemoizedMergedChildContext=e,he(mt),he(et),le(et,e)):he(mt),le(mt,s)}var Ss=null,Ic=!1,Vd=!1;function Hv(e){Ss===null?Ss=[e]:Ss.push(e)}function _S(e){Ic=!0,Hv(e)}function Pn(){if(!Vd&&Ss!==null){Vd=!0;var e=0,t=oe;try{var s=Ss;for(oe=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Ss=null,Ic=!1}catch(i){throw Ss!==null&&(Ss=Ss.slice(e+1)),mv(Pf,Pn),i}finally{oe=t,Vd=!1}}return null}var Fi=[],zi=0,Ql=null,Jl=0,It=[],Bt=0,ui=null,_s=1,Cs="";function Vn(e,t){Fi[zi++]=Jl,Fi[zi++]=Ql,Ql=e,Jl=t}function Wv(e,t,s){It[Bt++]=_s,It[Bt++]=Cs,It[Bt++]=ui,ui=e;var n=_s;e=Cs;var i=32-Zt(n)-1;n&=~(1<<i),s+=1;var r=32-Zt(t)+i;if(30<r){var o=i-i%5;r=(n&(1<<o)-1).toString(32),n>>=o,i-=o,_s=1<<32-Zt(t)+i|s<<i|n,Cs=r+e}else _s=1<<r|s<<i|n,Cs=e}function If(e){e.return!==null&&(Vn(e,1),Wv(e,1,0))}function Bf(e){for(;e===Ql;)Ql=Fi[--zi],Fi[zi]=null,Jl=Fi[--zi],Fi[zi]=null;for(;e===ui;)ui=It[--Bt],It[Bt]=null,Cs=It[--Bt],It[Bt]=null,_s=It[--Bt],It[Bt]=null}var St=null,Nt=null,fe=!1,Qt=null;function qv(e,t){var s=zt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Ym(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,Nt=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ui!==null?{id:_s,overflow:Cs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=zt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,St=e,Nt=null,!0):!1;default:return!1}}function ch(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dh(e){if(fe){var t=Nt;if(t){var s=t;if(!Ym(e,t)){if(ch(e))throw Error(B(418));t=hn(s.nextSibling);var n=St;t&&Ym(e,t)?qv(n,s):(e.flags=e.flags&-4097|2,fe=!1,St=e)}}else{if(ch(e))throw Error(B(418));e.flags=e.flags&-4097|2,fe=!1,St=e}}}function Gm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Aa(e){if(e!==St)return!1;if(!fe)return Gm(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rh(e.type,e.memoizedProps)),t&&(t=Nt)){if(ch(e))throw Kv(),Error(B(418));for(;t;)qv(e,t),t=hn(t.nextSibling)}if(Gm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Nt=hn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=St?hn(e.stateNode.nextSibling):null;return!0}function Kv(){for(var e=Nt;e;)e=hn(e.nextSibling)}function rr(){Nt=St=null,fe=!1}function Ff(e){Qt===null?Qt=[e]:Qt.push(e)}var CS=zs.ReactCurrentBatchConfig;function Dr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(B(309));var n=s.stateNode}if(!n)throw Error(B(147,e));var i=n,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var l=i.refs;o===null?delete l[r]:l[r]=o},t._stringRef=r,t)}if(typeof e!="string")throw Error(B(284));if(!s._owner)throw Error(B(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xm(e){var t=e._init;return t(e._payload)}function Yv(e){function t(m,y){if(e){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function s(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=gn(m,y),m.index=0,m.sibling=null,m}function r(m,y,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=2,y):b):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,b,w){return y===null||y.tag!==6?(y=Yd(b,m.mode,w),y.return=m,y):(y=i(y,b),y.return=m,y)}function c(m,y,b,w){var j=b.type;return j===Ri?u(m,y,b.props.children,w,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&Xm(j)===y.type)?(w=i(y,b.props),w.ref=Dr(m,y,b),w.return=m,w):(w=wl(b.type,b.key,b.props,null,m.mode,w),w.ref=Dr(m,y,b),w.return=m,w)}function d(m,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Gd(b,m.mode,w),y.return=m,y):(y=i(y,b.children||[]),y.return=m,y)}function u(m,y,b,w,j){return y===null||y.tag!==7?(y=ii(b,m.mode,w,j),y.return=m,y):(y=i(y,b),y.return=m,y)}function h(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yd(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:return b=wl(y.type,y.key,y.props,null,m.mode,b),b.ref=Dr(m,null,y),b.return=m,b;case Di:return y=Gd(y,m.mode,b),y.return=m,y;case Gs:var w=y._init;return h(m,w(y._payload),b)}if(Wr(y)||Cr(y))return y=ii(y,m.mode,b,null),y.return=m,y;Da(m,y)}return null}function f(m,y,b,w){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(m,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wa:return b.key===j?c(m,y,b,w):null;case Di:return b.key===j?d(m,y,b,w):null;case Gs:return j=b._init,f(m,y,j(b._payload),w)}if(Wr(b)||Cr(b))return j!==null?null:u(m,y,b,w,null);Da(m,b)}return null}function p(m,y,b,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(b)||null,l(y,m,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wa:return m=m.get(w.key===null?b:w.key)||null,c(y,m,w,j);case Di:return m=m.get(w.key===null?b:w.key)||null,d(y,m,w,j);case Gs:var k=w._init;return p(m,y,b,k(w._payload),j)}if(Wr(w)||Cr(w))return m=m.get(b)||null,u(y,m,w,j,null);Da(y,w)}return null}function g(m,y,b,w){for(var j=null,k=null,C=y,_=y=0,S=null;C!==null&&_<b.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var T=f(m,C,b[_],w);if(T===null){C===null&&(C=S);break}e&&C&&T.alternate===null&&t(m,C),y=r(T,y,_),k===null?j=T:k.sibling=T,k=T,C=S}if(_===b.length)return s(m,C),fe&&Vn(m,_),j;if(C===null){for(;_<b.length;_++)C=h(m,b[_],w),C!==null&&(y=r(C,y,_),k===null?j=C:k.sibling=C,k=C);return fe&&Vn(m,_),j}for(C=n(m,C);_<b.length;_++)S=p(C,m,_,b[_],w),S!==null&&(e&&S.alternate!==null&&C.delete(S.key===null?_:S.key),y=r(S,y,_),k===null?j=S:k.sibling=S,k=S);return e&&C.forEach(function(P){return t(m,P)}),fe&&Vn(m,_),j}function v(m,y,b,w){var j=Cr(b);if(typeof j!="function")throw Error(B(150));if(b=j.call(b),b==null)throw Error(B(151));for(var k=j=null,C=y,_=y=0,S=null,T=b.next();C!==null&&!T.done;_++,T=b.next()){C.index>_?(S=C,C=null):S=C.sibling;var P=f(m,C,T.value,w);if(P===null){C===null&&(C=S);break}e&&C&&P.alternate===null&&t(m,C),y=r(P,y,_),k===null?j=P:k.sibling=P,k=P,C=S}if(T.done)return s(m,C),fe&&Vn(m,_),j;if(C===null){for(;!T.done;_++,T=b.next())T=h(m,T.value,w),T!==null&&(y=r(T,y,_),k===null?j=T:k.sibling=T,k=T);return fe&&Vn(m,_),j}for(C=n(m,C);!T.done;_++,T=b.next())T=p(C,m,_,T.value,w),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?_:T.key),y=r(T,y,_),k===null?j=T:k.sibling=T,k=T);return e&&C.forEach(function(E){return t(m,E)}),fe&&Vn(m,_),j}function x(m,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Ri&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wa:e:{for(var j=b.key,k=y;k!==null;){if(k.key===j){if(j=b.type,j===Ri){if(k.tag===7){s(m,k.sibling),y=i(k,b.props.children),y.return=m,m=y;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&Xm(j)===k.type){s(m,k.sibling),y=i(k,b.props),y.ref=Dr(m,k,b),y.return=m,m=y;break e}s(m,k);break}else t(m,k);k=k.sibling}b.type===Ri?(y=ii(b.props.children,m.mode,w,b.key),y.return=m,m=y):(w=wl(b.type,b.key,b.props,null,m.mode,w),w.ref=Dr(m,y,b),w.return=m,m=w)}return o(m);case Di:e:{for(k=b.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){s(m,y.sibling),y=i(y,b.children||[]),y.return=m,m=y;break e}else{s(m,y);break}else t(m,y);y=y.sibling}y=Gd(b,m.mode,w),y.return=m,m=y}return o(m);case Gs:return k=b._init,x(m,y,k(b._payload),w)}if(Wr(b))return g(m,y,b,w);if(Cr(b))return v(m,y,b,w);Da(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(s(m,y.sibling),y=i(y,b),y.return=m,m=y):(s(m,y),y=Yd(b,m.mode,w),y.return=m,m=y),o(m)):s(m,y)}return x}var or=Yv(!0),Gv=Yv(!1),Zl=Cn(null),ec=null,Vi=null,zf=null;function Vf(){zf=Vi=ec=null}function $f(e){var t=Zl.current;he(Zl),e._currentValue=t}function uh(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Zi(e,t){ec=e,zf=Vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(zf!==e)if(e={context:e,memoizedValue:t,next:null},Vi===null){if(ec===null)throw Error(B(308));Vi=e,ec.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var Qn=null;function Uf(e){Qn===null?Qn=[e]:Qn.push(e)}function Xv(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,Uf(t)):(s.next=i.next,i.next=s),t.interleaved=s,Os(e,n)}function Os(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Xs=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function As(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Os(e,s)}return i=n.interleaved,i===null?(t.next=t,Uf(n)):(t.next=i.next,i.next=t),n.interleaved=t,Os(e,s)}function ml(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Tf(e,s)}}function Qm(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,r=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};r===null?i=r=o:r=r.next=o,s=s.next}while(s!==null);r===null?i=r=t:r=r.next=t}else i=r=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function tc(e,t,s,n){var i=e.updateQueue;Xs=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?r=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,u=d=c=null,l=r;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(f=t,p=s,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=be({},h,f);break e;case 2:Xs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);fi|=o,e.lanes=o,e.memoizedState=h}}function Jm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var ra={},ps=Cn(ra),Mo=Cn(ra),Lo=Cn(ra);function Jn(e){if(e===ra)throw Error(B(174));return e}function Wf(e,t){switch(le(Lo,t),le(Mo,e),le(ps,ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wu(t,e)}he(ps),le(ps,t)}function ar(){he(ps),he(Mo),he(Lo)}function Jv(e){Jn(Lo.current);var t=Jn(ps.current),s=Wu(t,e.type);t!==s&&(le(Mo,e),le(ps,s))}function qf(e){Mo.current===e&&(he(ps),he(Mo))}var me=Cn(0);function sc(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $d=[];function Kf(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var gl=zs.ReactCurrentDispatcher,Ud=zs.ReactCurrentBatchConfig,hi=0,ye=null,Le=null,Be=null,nc=!1,ao=!1,Oo=0,PS=0;function qe(){throw Error(B(321))}function Yf(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ts(e[s],t[s]))return!1;return!0}function Gf(e,t,s,n,i,r){if(hi=r,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gl.current=e===null||e.memoizedState===null?DS:RS,e=s(n,i),ao){r=0;do{if(ao=!1,Oo=0,25<=r)throw Error(B(301));r+=1,Be=Le=null,t.updateQueue=null,gl.current=MS,e=s(n,i)}while(ao)}if(gl.current=ic,t=Le!==null&&Le.next!==null,hi=0,Be=Le=ye=null,nc=!1,t)throw Error(B(300));return e}function Xf(){var e=Oo!==0;return Oo=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ye.memoizedState=Be=e:Be=Be.next=e,Be}function Wt(){if(Le===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Be===null?ye.memoizedState:Be.next;if(t!==null)Be=t,Le=e;else{if(e===null)throw Error(B(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Be===null?ye.memoizedState=Be=e:Be=Be.next=e}return Be}function Io(e,t){return typeof t=="function"?t(e):t}function Hd(e){var t=Wt(),s=t.queue;if(s===null)throw Error(B(311));s.lastRenderedReducer=e;var n=Le,i=n.baseQueue,r=s.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}n.baseQueue=i=r,s.pending=null}if(i!==null){r=i.next,n=n.baseState;var l=o=null,c=null,d=r;do{var u=d.lane;if((hi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ye.lanes|=u,fi|=u}d=d.next}while(d!==null&&d!==r);c===null?o=n:c.next=l,ts(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do r=i.lane,ye.lanes|=r,fi|=r,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Wd(e){var t=Wt(),s=t.queue;if(s===null)throw Error(B(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,r=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do r=e(r,o.action),o=o.next;while(o!==i);ts(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),s.lastRenderedState=r}return[r,n]}function Zv(){}function eb(e,t){var s=ye,n=Wt(),i=t(),r=!ts(n.memoizedState,i);if(r&&(n.memoizedState=i,ft=!0),n=n.queue,Qf(nb.bind(null,s,n,e),[e]),n.getSnapshot!==t||r||Be!==null&&Be.memoizedState.tag&1){if(s.flags|=2048,Bo(9,sb.bind(null,s,n,i,t),void 0,null),Fe===null)throw Error(B(349));hi&30||tb(s,t,i)}return i}function tb(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function sb(e,t,s,n){t.value=s,t.getSnapshot=n,ib(t)&&rb(e)}function nb(e,t,s){return s(function(){ib(t)&&rb(e)})}function ib(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ts(e,s)}catch{return!0}}function rb(e){var t=Os(e,1);t!==null&&es(t,e,1,-1)}function Zm(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=AS.bind(null,ye,e),[t.memoizedState,e]}function Bo(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function ob(){return Wt().memoizedState}function xl(e,t,s,n){var i=as();ye.flags|=e,i.memoizedState=Bo(1|t,s,void 0,n===void 0?null:n)}function Bc(e,t,s,n){var i=Wt();n=n===void 0?null:n;var r=void 0;if(Le!==null){var o=Le.memoizedState;if(r=o.destroy,n!==null&&Yf(n,o.deps)){i.memoizedState=Bo(t,s,r,n);return}}ye.flags|=e,i.memoizedState=Bo(1|t,s,r,n)}function e0(e,t){return xl(8390656,8,e,t)}function Qf(e,t){return Bc(2048,8,e,t)}function ab(e,t){return Bc(4,2,e,t)}function lb(e,t){return Bc(4,4,e,t)}function cb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function db(e,t,s){return s=s!=null?s.concat([e]):null,Bc(4,4,cb.bind(null,t,e),s)}function Jf(){}function ub(e,t){var s=Wt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Yf(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function hb(e,t){var s=Wt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Yf(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function fb(e,t,s){return hi&21?(ts(s,t)||(s=yv(),ye.lanes|=s,fi|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=s)}function TS(e,t){var s=oe;oe=s!==0&&4>s?s:4,e(!0);var n=Ud.transition;Ud.transition={};try{e(!1),t()}finally{oe=s,Ud.transition=n}}function pb(){return Wt().memoizedState}function ES(e,t,s){var n=mn(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},mb(e))gb(t,s);else if(s=Xv(e,t,s,n),s!==null){var i=at();es(s,e,n,i),xb(s,t,n)}}function AS(e,t,s){var n=mn(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(mb(e))gb(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,l=r(o,s);if(i.hasEagerState=!0,i.eagerState=l,ts(l,o)){var c=t.interleaved;c===null?(i.next=i,Uf(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Xv(e,t,i,n),s!==null&&(i=at(),es(s,e,n,i),xb(s,t,n))}}function mb(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function gb(e,t){ao=nc=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xb(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Tf(e,s)}}var ic={readContext:Ht,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},DS={readContext:Ht,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:e0,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,xl(4194308,4,cb.bind(null,t,e),s)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){return xl(4,2,e,t)},useMemo:function(e,t){var s=as();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=as();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ES.bind(null,ye,e),[n.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:Zm,useDebugValue:Jf,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=Zm(!1),t=e[0];return e=TS.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ye,i=as();if(fe){if(s===void 0)throw Error(B(407));s=s()}else{if(s=t(),Fe===null)throw Error(B(349));hi&30||tb(n,t,s)}i.memoizedState=s;var r={value:s,getSnapshot:t};return i.queue=r,e0(nb.bind(null,n,r,e),[e]),n.flags|=2048,Bo(9,sb.bind(null,n,r,s,t),void 0,null),s},useId:function(){var e=as(),t=Fe.identifierPrefix;if(fe){var s=Cs,n=_s;s=(n&~(1<<32-Zt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Oo++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=PS++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RS={readContext:Ht,useCallback:ub,useContext:Ht,useEffect:Qf,useImperativeHandle:db,useInsertionEffect:ab,useLayoutEffect:lb,useMemo:hb,useReducer:Hd,useRef:ob,useState:function(){return Hd(Io)},useDebugValue:Jf,useDeferredValue:function(e){var t=Wt();return fb(t,Le.memoizedState,e)},useTransition:function(){var e=Hd(Io)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Zv,useSyncExternalStore:eb,useId:pb,unstable_isNewReconciler:!1},MS={readContext:Ht,useCallback:ub,useContext:Ht,useEffect:Qf,useImperativeHandle:db,useInsertionEffect:ab,useLayoutEffect:lb,useMemo:hb,useReducer:Wd,useRef:ob,useState:function(){return Wd(Io)},useDebugValue:Jf,useDeferredValue:function(e){var t=Wt();return Le===null?t.memoizedState=e:fb(t,Le.memoizedState,e)},useTransition:function(){var e=Wd(Io)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Zv,useSyncExternalStore:eb,useId:pb,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function hh(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:be({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Fc={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=at(),i=mn(e),r=As(n,i);r.payload=t,s!=null&&(r.callback=s),t=fn(e,r,i),t!==null&&(es(t,e,i,n),ml(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=at(),i=mn(e),r=As(n,i);r.tag=1,r.payload=t,s!=null&&(r.callback=s),t=fn(e,r,i),t!==null&&(es(t,e,i,n),ml(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=at(),n=mn(e),i=As(s,n);i.tag=2,t!=null&&(i.callback=t),t=fn(e,i,n),t!==null&&(es(t,e,n,s),ml(t,e,n))}};function t0(e,t,s,n,i,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!Eo(s,n)||!Eo(i,r):!0}function yb(e,t,s){var n=!1,i=jn,r=t.contextType;return typeof r=="object"&&r!==null?r=Ht(r):(i=gt(t)?di:et.current,n=t.contextTypes,r=(n=n!=null)?ir(e,i):jn),t=new t(s,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function s0(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Fc.enqueueReplaceState(t,t.state,null)}function fh(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Hf(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=Ht(r):(r=gt(t)?di:et.current,i.context=ir(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(hh(e,t,r,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fc.enqueueReplaceState(i,i.state,null),tc(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var s="",n=t;do s+=lN(n),n=n.return;while(n);var i=s}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function qd(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ph(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var LS=typeof WeakMap=="function"?WeakMap:Map;function vb(e,t,s){s=As(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){oc||(oc=!0,Sh=n),ph(e,t)},s}function bb(e,t,s){s=As(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){ph(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(s.callback=function(){ph(e,t),typeof n!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function n0(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new LS;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=GS.bind(null,e,t,s),t.then(e,e))}function i0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r0(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=As(-1,1),t.tag=2,fn(s,t,1))),s.lanes|=1),e)}var OS=zs.ReactCurrentOwner,ft=!1;function rt(e,t,s,n){t.child=e===null?Gv(t,null,s,n):or(t,e.child,s,n)}function o0(e,t,s,n,i){s=s.render;var r=t.ref;return Zi(t,i),n=Gf(e,t,s,n,r,i),s=Xf(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Is(e,t,i)):(fe&&s&&If(t),t.flags|=1,rt(e,t,n,i),t.child)}function a0(e,t,s,n,i){if(e===null){var r=s.type;return typeof r=="function"&&!op(r)&&r.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=r,wb(e,t,r,n,i)):(e=wl(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var o=r.memoizedProps;if(s=s.compare,s=s!==null?s:Eo,s(o,n)&&e.ref===t.ref)return Is(e,t,i)}return t.flags|=1,e=gn(r,n),e.ref=t.ref,e.return=t,t.child=e}function wb(e,t,s,n,i){if(e!==null){var r=e.memoizedProps;if(Eo(r,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=r,(e.lanes&i)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,Is(e,t,i)}return mh(e,t,s,n,i)}function jb(e,t,s){var n=t.pendingProps,i=n.children,r=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Ui,wt),wt|=s;else{if(!(s&1073741824))return e=r!==null?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Ui,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:s,le(Ui,wt),wt|=n}else r!==null?(n=r.baseLanes|s,t.memoizedState=null):n=s,le(Ui,wt),wt|=n;return rt(e,t,i,s),t.child}function Nb(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function mh(e,t,s,n,i){var r=gt(s)?di:et.current;return r=ir(t,r),Zi(t,i),s=Gf(e,t,s,n,r,i),n=Xf(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Is(e,t,i)):(fe&&n&&If(t),t.flags|=1,rt(e,t,s,i),t.child)}function l0(e,t,s,n,i){if(gt(s)){var r=!0;Xl(t)}else r=!1;if(Zi(t,i),t.stateNode===null)yl(e,t),yb(t,s,n),fh(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ht(d):(d=gt(s)?di:et.current,d=ir(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&s0(t,o,n,d),Xs=!1;var f=t.memoizedState;o.state=f,tc(t,n,o,i),c=t.memoizedState,l!==n||f!==c||mt.current||Xs?(typeof u=="function"&&(hh(t,s,u,n),c=t.memoizedState),(l=Xs||t0(t,s,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Qv(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Yt(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ht(c):(c=gt(s)?di:et.current,c=ir(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&s0(t,o,n,c),Xs=!1,f=t.memoizedState,o.state=f,tc(t,n,o,i);var g=t.memoizedState;l!==h||f!==g||mt.current||Xs?(typeof p=="function"&&(hh(t,s,p,n),g=t.memoizedState),(d=Xs||t0(t,s,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return gh(e,t,s,n,r,i)}function gh(e,t,s,n,i,r){Nb(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Km(t,s,!1),Is(e,t,r);n=t.stateNode,OS.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=or(t,e.child,null,r),t.child=or(t,null,l,r)):rt(e,t,l,r),t.memoizedState=n.state,i&&Km(t,s,!0),t.child}function Sb(e){var t=e.stateNode;t.pendingContext?qm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qm(e,t.context,!1),Wf(e,t.containerInfo)}function c0(e,t,s,n,i){return rr(),Ff(i),t.flags|=256,rt(e,t,s,n),t.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function yh(e){return{baseLanes:e,cachePool:null,transitions:null}}function kb(e,t,s){var n=t.pendingProps,i=me.current,r=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(me,i&1),e===null)return dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,r?(n=t.mode,r=t.child,o={mode:"hidden",children:o},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=$c(o,n,0,null),e=ii(e,n,s,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=yh(s),t.memoizedState=xh,e):Zf(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return IS(e,t,o,n,l,i,s);if(r){r=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gn(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?r=gn(l,r):(r=ii(r,o,s,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,o=e.child.memoizedState,o=o===null?yh(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=e.childLanes&~s,t.memoizedState=xh,n}return r=e.child,e=r.sibling,n=gn(r,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Zf(e,t){return t=$c({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ra(e,t,s,n){return n!==null&&Ff(n),or(t,e.child,null,s),e=Zf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IS(e,t,s,n,i,r,o){if(s)return t.flags&256?(t.flags&=-257,n=qd(Error(B(422))),Ra(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=n.fallback,i=t.mode,n=$c({mode:"visible",children:n.children},i,0,null),r=ii(r,i,o,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,t.mode&1&&or(t,e.child,null,o),t.child.memoizedState=yh(o),t.memoizedState=xh,r);if(!(t.mode&1))return Ra(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,r=Error(B(419)),n=qd(r,n,void 0),Ra(e,t,o,n)}if(l=(o&e.childLanes)!==0,ft||l){if(n=Fe,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Os(e,i),es(n,e,i,-1))}return rp(),n=qd(Error(B(421))),Ra(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=XS.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,Nt=hn(i.nextSibling),St=t,fe=!0,Qt=null,e!==null&&(It[Bt++]=_s,It[Bt++]=Cs,It[Bt++]=ui,_s=e.id,Cs=e.overflow,ui=t),t=Zf(t,n.children),t.flags|=4096,t)}function d0(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),uh(e.return,t,s)}function Kd(e,t,s,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=s,r.tailMode=i)}function _b(e,t,s){var n=t.pendingProps,i=n.revealOrder,r=n.tail;if(rt(e,t,n.children,s),n=me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d0(e,s,t);else if(e.tag===19)d0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(me,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&sc(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Kd(t,!1,i,s,r);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sc(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Kd(t,!0,s,null,r);break;case"together":Kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Is(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,s=gn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=gn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function BS(e,t,s){switch(t.tag){case 3:Sb(t),rr();break;case 5:Jv(t);break;case 1:gt(t.type)&&Xl(t);break;case 4:Wf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;le(Zl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(me,me.current&1),t.flags|=128,null):s&t.child.childLanes?kb(e,t,s):(le(me,me.current&1),e=Is(e,t,s),e!==null?e.sibling:null);le(me,me.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return _b(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(me,me.current),n)break;return null;case 22:case 23:return t.lanes=0,jb(e,t,s)}return Is(e,t,s)}var Cb,vh,Pb,Tb;Cb=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};vh=function(){};Pb=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Jn(ps.current);var r=null;switch(s){case"input":i=Vu(e,i),n=Vu(e,n),r=[];break;case"select":i=be({},i,{value:void 0}),n=be({},n,{value:void 0}),r=[];break;case"textarea":i=Hu(e,i),n=Hu(e,n),r=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yl)}qu(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(No.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(r||(r=[]),r.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(r=r||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(No.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&de("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}s&&(r=r||[]).push("style",s);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};Tb=function(e,t,s,n){s!==n&&(t.flags|=4)};function Rr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function FS(e,t,s){var n=t.pendingProps;switch(Bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return gt(t.type)&&Gl(),Ke(t),null;case 3:return n=t.stateNode,ar(),he(mt),he(et),Kf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Ch(Qt),Qt=null))),vh(e,t),Ke(t),null;case 5:qf(t);var i=Jn(Lo.current);if(s=t.type,e!==null&&t.stateNode!=null)Pb(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return Ke(t),null}if(e=Jn(ps.current),Aa(t)){n=t.stateNode,s=t.type;var r=t.memoizedProps;switch(n[cs]=t,n[Ro]=r,e=(t.mode&1)!==0,s){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(i=0;i<Kr.length;i++)de(Kr[i],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":vm(n,r),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},de("invalid",n);break;case"textarea":wm(n,r),de("invalid",n)}qu(s,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?n.textContent!==l&&(r.suppressHydrationWarning!==!0&&Ea(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Ea(n.textContent,l,e),i=["children",""+l]):No.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&de("scroll",n)}switch(s){case"input":ja(n),bm(n,r,!0);break;case"textarea":ja(n),jm(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=Yl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nv(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[cs]=t,e[Ro]=n,Cb(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ku(s,n),s){case"dialog":de("cancel",e),de("close",e),i=n;break;case"iframe":case"object":case"embed":de("load",e),i=n;break;case"video":case"audio":for(i=0;i<Kr.length;i++)de(Kr[i],e);i=n;break;case"source":de("error",e),i=n;break;case"img":case"image":case"link":de("error",e),de("load",e),i=n;break;case"details":de("toggle",e),i=n;break;case"input":vm(e,n),i=Vu(e,n),de("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=be({},n,{value:void 0}),de("invalid",e);break;case"textarea":wm(e,n),i=Hu(e,n),de("invalid",e);break;default:i=n}qu(s,i),l=i;for(r in l)if(l.hasOwnProperty(r)){var c=l[r];r==="style"?ov(e,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iv(e,c)):r==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&So(e,c):typeof c=="number"&&So(e,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(No.hasOwnProperty(r)?c!=null&&r==="onScroll"&&de("scroll",e):c!=null&&Nf(e,r,c,o))}switch(s){case"input":ja(e),bm(e,n,!1);break;case"textarea":ja(e),jm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wn(n.value));break;case"select":e.multiple=!!n.multiple,r=n.value,r!=null?Gi(e,!!n.multiple,r,!1):n.defaultValue!=null&&Gi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Yl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Tb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(s=Jn(Lo.current),Jn(ps.current),Aa(t)){if(n=t.stateNode,s=t.memoizedProps,n[cs]=t,(r=n.nodeValue!==s)&&(e=St,e!==null))switch(e.tag){case 3:Ea(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ea(n.nodeValue,s,(e.mode&1)!==0)}r&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[cs]=t,t.stateNode=n}return Ke(t),null;case 13:if(he(me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Nt!==null&&t.mode&1&&!(t.flags&128))Kv(),rr(),t.flags|=98560,r=!1;else if(r=Aa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(B(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(B(317));r[cs]=t}else rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),r=!1}else Qt!==null&&(Ch(Qt),Qt=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Oe===0&&(Oe=3):rp())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return ar(),vh(e,t),e===null&&Ao(t.stateNode.containerInfo),Ke(t),null;case 10:return $f(t.type._context),Ke(t),null;case 17:return gt(t.type)&&Gl(),Ke(t),null;case 19:if(he(me),r=t.memoizedState,r===null)return Ke(t),null;if(n=(t.flags&128)!==0,o=r.rendering,o===null)if(n)Rr(r,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sc(e),o!==null){for(t.flags|=128,Rr(r,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)r=s,e=n,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return le(me,me.current&1|2),t.child}e=e.sibling}r.tail!==null&&ke()>cr&&(t.flags|=128,n=!0,Rr(r,!1),t.lanes=4194304)}else{if(!n)if(e=sc(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Rr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!fe)return Ke(t),null}else 2*ke()-r.renderingStartTime>cr&&s!==1073741824&&(t.flags|=128,n=!0,Rr(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(s=r.last,s!==null?s.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ke(),t.sibling=null,s=me.current,le(me,n?s&1|2:s&1),t):(Ke(t),null);case 22:case 23:return ip(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function zS(e,t){switch(Bf(t),t.tag){case 1:return gt(t.type)&&Gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),he(mt),he(et),Kf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qf(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return ar(),null;case 10:return $f(t.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var Ma=!1,Xe=!1,VS=typeof WeakSet=="function"?WeakSet:Set,V=null;function $i(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){we(e,t,n)}else s.current=null}function bh(e,t,s){try{s()}catch(n){we(e,t,n)}}var u0=!1;function $S(e,t){if(nh=Wl,e=Mv(),Of(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{s.nodeType,r.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==r||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===s&&++d===i&&(l=o),f===r&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ih={focusedElem:e,selectionRange:s},Wl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Yt(t.type,v),x);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){we(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=u0,u0=!1,g}function lo(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&bh(t,s,r)}i=i.next}while(i!==n)}}function zc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function wh(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Eb(e){var t=e.alternate;t!==null&&(e.alternate=null,Eb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cs],delete t[Ro],delete t[ah],delete t[SS],delete t[kS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ab(e){return e.tag===5||e.tag===3||e.tag===4}function h0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ab(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jh(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Yl));else if(n!==4&&(e=e.child,e!==null))for(jh(e,t,s),e=e.sibling;e!==null;)jh(e,t,s),e=e.sibling}function Nh(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nh(e,t,s),e=e.sibling;e!==null;)Nh(e,t,s),e=e.sibling}var $e=null,Gt=!1;function Ws(e,t,s){for(s=s.child;s!==null;)Db(e,t,s),s=s.sibling}function Db(e,t,s){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Dc,s)}catch{}switch(s.tag){case 5:Xe||$i(s,t);case 6:var n=$e,i=Gt;$e=null,Ws(e,t,s),$e=n,Gt=i,$e!==null&&(Gt?(e=$e,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):$e.removeChild(s.stateNode));break;case 18:$e!==null&&(Gt?(e=$e,s=s.stateNode,e.nodeType===8?zd(e.parentNode,s):e.nodeType===1&&zd(e,s),Po(e)):zd($e,s.stateNode));break;case 4:n=$e,i=Gt,$e=s.stateNode.containerInfo,Gt=!0,Ws(e,t,s),$e=n,Gt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&bh(s,t,o),i=i.next}while(i!==n)}Ws(e,t,s);break;case 1:if(!Xe&&($i(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){we(s,t,l)}Ws(e,t,s);break;case 21:Ws(e,t,s);break;case 22:s.mode&1?(Xe=(n=Xe)||s.memoizedState!==null,Ws(e,t,s),Xe=n):Ws(e,t,s);break;default:Ws(e,t,s)}}function f0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new VS),t.forEach(function(n){var i=QS.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Kt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var r=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,Gt=!1;break e;case 3:$e=l.stateNode.containerInfo,Gt=!0;break e;case 4:$e=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if($e===null)throw Error(B(160));Db(r,o,i),$e=null,Gt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){we(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rb(t,e),t=t.sibling}function Rb(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),is(e),n&4){try{lo(3,e,e.return),zc(3,e)}catch(v){we(e,e.return,v)}try{lo(5,e,e.return)}catch(v){we(e,e.return,v)}}break;case 1:Kt(t,e),is(e),n&512&&s!==null&&$i(s,s.return);break;case 5:if(Kt(t,e),is(e),n&512&&s!==null&&$i(s,s.return),e.flags&32){var i=e.stateNode;try{So(i,"")}catch(v){we(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,o=s!==null?s.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&tv(i,r),Ku(l,o);var d=Ku(l,r);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?ov(i,h):u==="dangerouslySetInnerHTML"?iv(i,h):u==="children"?So(i,h):Nf(i,u,h,d)}switch(l){case"input":$u(i,r);break;case"textarea":sv(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Gi(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?Gi(i,!!r.multiple,r.defaultValue,!0):Gi(i,!!r.multiple,r.multiple?[]:"",!1))}i[Ro]=r}catch(v){we(e,e.return,v)}}break;case 6:if(Kt(t,e),is(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(v){we(e,e.return,v)}}break;case 3:if(Kt(t,e),is(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(v){we(e,e.return,v)}break;case 4:Kt(t,e),is(e);break;case 13:Kt(t,e),is(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(sp=ke())),n&4&&f0(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Xe=(d=Xe)||u,Kt(t,e),Xe=d):Kt(t,e),is(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(h=V=u;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:lo(4,f,f.return);break;case 1:$i(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,s=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){we(n,s,v)}}break;case 5:$i(f,f.return);break;case 22:if(f.memoizedState!==null){m0(h);continue}}p!==null?(p.return=f,V=p):m0(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rv("display",o))}catch(v){we(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){we(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kt(t,e),is(e),n&4&&f0(e);break;case 21:break;default:Kt(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ab(s)){var n=s;break e}s=s.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(So(i,""),n.flags&=-33);var r=h0(e);Nh(e,r,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=h0(e);jh(e,l,o);break;default:throw Error(B(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function US(e,t,s){V=e,Mb(e)}function Mb(e,t,s){for(var n=(e.mode&1)!==0;V!==null;){var i=V,r=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ma;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Xe;l=Ma;var d=Xe;if(Ma=o,(Xe=c)&&!d)for(V=i;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?g0(i):c!==null?(c.return=o,V=c):g0(i);for(;r!==null;)V=r,Mb(r),r=r.sibling;V=i,Ma=l,Xe=d}p0(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,V=r):p0(e)}}function p0(e){for(;V!==null;){var t=V;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||zc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xe)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Yt(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Jm(t,r,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Jm(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Po(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Xe||t.flags&512&&wh(t)}catch(f){we(t,t.return,f)}}if(t===e){V=null;break}if(s=t.sibling,s!==null){s.return=t.return,V=s;break}V=t.return}}function m0(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var s=t.sibling;if(s!==null){s.return=t.return,V=s;break}V=t.return}}function g0(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{zc(4,t)}catch(c){we(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){we(t,i,c)}}var r=t.return;try{wh(t)}catch(c){we(t,r,c)}break;case 5:var o=t.return;try{wh(t)}catch(c){we(t,o,c)}}}catch(c){we(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var HS=Math.ceil,rc=zs.ReactCurrentDispatcher,ep=zs.ReactCurrentOwner,$t=zs.ReactCurrentBatchConfig,te=0,Fe=null,Ae=null,He=0,wt=0,Ui=Cn(0),Oe=0,Fo=null,fi=0,Vc=0,tp=0,co=null,ut=null,sp=0,cr=1/0,Ns=null,oc=!1,Sh=null,pn=null,La=!1,tn=null,ac=0,uo=0,kh=null,vl=-1,bl=0;function at(){return te&6?ke():vl!==-1?vl:vl=ke()}function mn(e){return e.mode&1?te&2&&He!==0?He&-He:CS.transition!==null?(bl===0&&(bl=yv()),bl):(e=oe,e!==0||(e=window.event,e=e===void 0?16:kv(e.type)),e):1}function es(e,t,s,n){if(50<uo)throw uo=0,kh=null,Error(B(185));sa(e,s,n),(!(te&2)||e!==Fe)&&(e===Fe&&(!(te&2)&&(Vc|=s),Oe===4&&Zs(e,He)),xt(e,n),s===1&&te===0&&!(t.mode&1)&&(cr=ke()+500,Ic&&Pn()))}function xt(e,t){var s=e.callbackNode;CN(e,t);var n=Hl(e,e===Fe?He:0);if(n===0)s!==null&&km(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&km(s),t===1)e.tag===0?_S(x0.bind(null,e)):Hv(x0.bind(null,e)),jS(function(){!(te&6)&&Pn()}),s=null;else{switch(vv(n)){case 1:s=Pf;break;case 4:s=gv;break;case 16:s=Ul;break;case 536870912:s=xv;break;default:s=Ul}s=$b(s,Lb.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Lb(e,t){if(vl=-1,bl=0,te&6)throw Error(B(327));var s=e.callbackNode;if(er()&&e.callbackNode!==s)return null;var n=Hl(e,e===Fe?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lc(e,n);else{t=n;var i=te;te|=2;var r=Ib();(Fe!==e||He!==t)&&(Ns=null,cr=ke()+500,ni(e,t));do try{KS();break}catch(l){Ob(e,l)}while(!0);Vf(),rc.current=r,te=i,Ae!==null?t=0:(Fe=null,He=0,t=Oe)}if(t!==0){if(t===2&&(i=Ju(e),i!==0&&(n=i,t=_h(e,i))),t===1)throw s=Fo,ni(e,0),Zs(e,n),xt(e,ke()),s;if(t===6)Zs(e,n);else{if(i=e.current.alternate,!(n&30)&&!WS(i)&&(t=lc(e,n),t===2&&(r=Ju(e),r!==0&&(n=r,t=_h(e,r))),t===1))throw s=Fo,ni(e,0),Zs(e,n),xt(e,ke()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:$n(e,ut,Ns);break;case 3:if(Zs(e,n),(n&130023424)===n&&(t=sp+500-ke(),10<t)){if(Hl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){at(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oh($n.bind(null,e,ut,Ns),t);break}$n(e,ut,Ns);break;case 4:if(Zs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Zt(n);r=1<<o,o=t[o],o>i&&(i=o),n&=~r}if(n=i,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*HS(n/1960))-n,10<n){e.timeoutHandle=oh($n.bind(null,e,ut,Ns),n);break}$n(e,ut,Ns);break;case 5:$n(e,ut,Ns);break;default:throw Error(B(329))}}}return xt(e,ke()),e.callbackNode===s?Lb.bind(null,e):null}function _h(e,t){var s=co;return e.current.memoizedState.isDehydrated&&(ni(e,t).flags|=256),e=lc(e,t),e!==2&&(t=ut,ut=s,t!==null&&Ch(t)),e}function Ch(e){ut===null?ut=e:ut.push.apply(ut,e)}function WS(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],r=i.getSnapshot;i=i.value;try{if(!ts(r(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zs(e,t){for(t&=~tp,t&=~Vc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Zt(t),n=1<<s;e[s]=-1,t&=~n}}function x0(e){if(te&6)throw Error(B(327));er();var t=Hl(e,0);if(!(t&1))return xt(e,ke()),null;var s=lc(e,t);if(e.tag!==0&&s===2){var n=Ju(e);n!==0&&(t=n,s=_h(e,n))}if(s===1)throw s=Fo,ni(e,0),Zs(e,t),xt(e,ke()),s;if(s===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,ut,Ns),xt(e,ke()),null}function np(e,t){var s=te;te|=1;try{return e(t)}finally{te=s,te===0&&(cr=ke()+500,Ic&&Pn())}}function pi(e){tn!==null&&tn.tag===0&&!(te&6)&&er();var t=te;te|=1;var s=$t.transition,n=oe;try{if($t.transition=null,oe=1,e)return e()}finally{oe=n,$t.transition=s,te=t,!(te&6)&&Pn()}}function ip(){wt=Ui.current,he(Ui)}function ni(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,wS(s)),Ae!==null)for(s=Ae.return;s!==null;){var n=s;switch(Bf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gl();break;case 3:ar(),he(mt),he(et),Kf();break;case 5:qf(n);break;case 4:ar();break;case 13:he(me);break;case 19:he(me);break;case 10:$f(n.type._context);break;case 22:case 23:ip()}s=s.return}if(Fe=e,Ae=e=gn(e.current,null),He=wt=t,Oe=0,Fo=null,tp=Vc=fi=0,ut=co=null,Qn!==null){for(t=0;t<Qn.length;t++)if(s=Qn[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,r=s.pending;if(r!==null){var o=r.next;r.next=i,n.next=o}s.pending=n}Qn=null}return e}function Ob(e,t){do{var s=Ae;try{if(Vf(),gl.current=ic,nc){for(var n=ye.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nc=!1}if(hi=0,Be=Le=ye=null,ao=!1,Oo=0,ep.current=null,s===null||s.return===null){Oe=1,Fo=t,Ae=null;break}e:{var r=e,o=s.return,l=s,c=t;if(t=He,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=i0(o);if(p!==null){p.flags&=-257,r0(p,o,l,r,t),p.mode&1&&n0(r,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){n0(r,d,t),rp();break e}c=Error(B(426))}}else if(fe&&l.mode&1){var x=i0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),r0(x,o,l,r,t),Ff(lr(c,l));break e}}r=c=lr(c,l),Oe!==4&&(Oe=2),co===null?co=[r]:co.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var m=vb(r,c,t);Qm(r,m);break e;case 1:l=c;var y=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(pn===null||!pn.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t;var w=bb(r,l,t);Qm(r,w);break e}}r=r.return}while(r!==null)}Fb(s)}catch(j){t=j,Ae===s&&s!==null&&(Ae=s=s.return);continue}break}while(!0)}function Ib(){var e=rc.current;return rc.current=ic,e===null?ic:e}function rp(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(fi&268435455)&&!(Vc&268435455)||Zs(Fe,He)}function lc(e,t){var s=te;te|=2;var n=Ib();(Fe!==e||He!==t)&&(Ns=null,ni(e,t));do try{qS();break}catch(i){Ob(e,i)}while(!0);if(Vf(),te=s,rc.current=n,Ae!==null)throw Error(B(261));return Fe=null,He=0,Oe}function qS(){for(;Ae!==null;)Bb(Ae)}function KS(){for(;Ae!==null&&!yN();)Bb(Ae)}function Bb(e){var t=Vb(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Fb(e):Ae=t,ep.current=null}function Fb(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=zS(s,t),s!==null){s.flags&=32767,Ae=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ae=null;return}}else if(s=FS(s,t,wt),s!==null){Ae=s;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Oe===0&&(Oe=5)}function $n(e,t,s){var n=oe,i=$t.transition;try{$t.transition=null,oe=1,YS(e,t,s,n)}finally{$t.transition=i,oe=n}return null}function YS(e,t,s,n){do er();while(tn!==null);if(te&6)throw Error(B(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var r=s.lanes|s.childLanes;if(PN(e,r),e===Fe&&(Ae=Fe=null,He=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||La||(La=!0,$b(Ul,function(){return er(),null})),r=(s.flags&15990)!==0,s.subtreeFlags&15990||r){r=$t.transition,$t.transition=null;var o=oe;oe=1;var l=te;te|=4,ep.current=null,$S(e,s),Rb(s,e),pS(ih),Wl=!!nh,ih=nh=null,e.current=s,US(s),vN(),te=l,oe=o,$t.transition=r}else e.current=s;if(La&&(La=!1,tn=e,ac=i),r=e.pendingLanes,r===0&&(pn=null),jN(s.stateNode),xt(e,ke()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(oc)throw oc=!1,e=Sh,Sh=null,e;return ac&1&&e.tag!==0&&er(),r=e.pendingLanes,r&1?e===kh?uo++:(uo=0,kh=e):uo=0,Pn(),null}function er(){if(tn!==null){var e=vv(ac),t=$t.transition,s=oe;try{if($t.transition=null,oe=16>e?16:e,tn===null)var n=!1;else{if(e=tn,tn=null,ac=0,te&6)throw Error(B(331));var i=te;for(te|=4,V=e.current;V!==null;){var r=V,o=r.child;if(V.flags&16){var l=r.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(V=d;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:lo(8,u,r)}var h=u.child;if(h!==null)h.return=u,V=h;else for(;V!==null;){u=V;var f=u.sibling,p=u.return;if(Eb(u),u===d){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var g=r.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}V=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,V=o;else e:for(;V!==null;){if(r=V,r.flags&2048)switch(r.tag){case 0:case 11:case 15:lo(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,V=m;break e}V=r.return}}var y=e.current;for(V=y;V!==null;){o=V;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,V=b;else e:for(o=y;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zc(9,l)}}catch(j){we(l,l.return,j)}if(l===o){V=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,V=w;break e}V=l.return}}if(te=i,Pn(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Dc,e)}catch{}n=!0}return n}finally{oe=s,$t.transition=t}}return!1}function y0(e,t,s){t=lr(s,t),t=vb(e,t,1),e=fn(e,t,1),t=at(),e!==null&&(sa(e,1,t),xt(e,t))}function we(e,t,s){if(e.tag===3)y0(e,e,s);else for(;t!==null;){if(t.tag===3){y0(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pn===null||!pn.has(n))){e=lr(s,e),e=bb(t,e,1),t=fn(t,e,1),e=at(),t!==null&&(sa(t,1,e),xt(t,e));break}}t=t.return}}function GS(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&s,Fe===e&&(He&s)===s&&(Oe===4||Oe===3&&(He&130023424)===He&&500>ke()-sp?ni(e,0):tp|=s),xt(e,t)}function zb(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var s=at();e=Os(e,t),e!==null&&(sa(e,t,s),xt(e,s))}function XS(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),zb(e,s)}function QS(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),zb(e,s)}var Vb;Vb=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ft=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ft=!1,BS(e,t,s);ft=!!(e.flags&131072)}else ft=!1,fe&&t.flags&1048576&&Wv(t,Jl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yl(e,t),e=t.pendingProps;var i=ir(t,et.current);Zi(t,s),i=Gf(null,t,n,e,i,s);var r=Xf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(n)?(r=!0,Xl(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hf(t),i.updater=Fc,t.stateNode=i,i._reactInternals=t,fh(t,n,e,s),t=gh(null,t,n,!0,r,s)):(t.tag=0,fe&&r&&If(t),rt(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(yl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ZS(n),e=Yt(n,e),i){case 0:t=mh(null,t,n,e,s);break e;case 1:t=l0(null,t,n,e,s);break e;case 11:t=o0(null,t,n,e,s);break e;case 14:t=a0(null,t,n,Yt(n.type,e),s);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yt(n,i),mh(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yt(n,i),l0(e,t,n,i,s);case 3:e:{if(Sb(t),e===null)throw Error(B(387));n=t.pendingProps,r=t.memoizedState,i=r.element,Qv(e,t),tc(t,n,null,s);var o=t.memoizedState;if(n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=lr(Error(B(423)),t),t=c0(e,t,n,s,i);break e}else if(n!==i){i=lr(Error(B(424)),t),t=c0(e,t,n,s,i);break e}else for(Nt=hn(t.stateNode.containerInfo.firstChild),St=t,fe=!0,Qt=null,s=Gv(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(rr(),n===i){t=Is(e,t,s);break e}rt(e,t,n,s)}t=t.child}return t;case 5:return Jv(t),e===null&&dh(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,o=i.children,rh(n,i)?o=null:r!==null&&rh(n,r)&&(t.flags|=32),Nb(e,t),rt(e,t,o,s),t.child;case 6:return e===null&&dh(t),null;case 13:return kb(e,t,s);case 4:return Wf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=or(t,null,n,s):rt(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yt(n,i),o0(e,t,n,i,s);case 7:return rt(e,t,t.pendingProps,s),t.child;case 8:return rt(e,t,t.pendingProps.children,s),t.child;case 12:return rt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,le(Zl,n._currentValue),n._currentValue=o,r!==null)if(ts(r.value,o)){if(r.children===i.children&&!mt.current){t=Is(e,t,s);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(r.tag===1){c=As(-1,s&-s),c.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=s,c=r.alternate,c!==null&&(c.lanes|=s),uh(r.return,s,t),l.lanes|=s;break}c=c.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(B(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),uh(o,s,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}rt(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zi(t,s),i=Ht(i),n=n(i),t.flags|=1,rt(e,t,n,s),t.child;case 14:return n=t.type,i=Yt(n,t.pendingProps),i=Yt(n.type,i),a0(e,t,n,i,s);case 15:return wb(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yt(n,i),yl(e,t),t.tag=1,gt(n)?(e=!0,Xl(t)):e=!1,Zi(t,s),yb(t,n,i),fh(t,n,i,s),gh(null,t,n,!0,e,s);case 19:return _b(e,t,s);case 22:return jb(e,t,s)}throw Error(B(156,t.tag))};function $b(e,t){return mv(e,t)}function JS(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,s,n){return new JS(e,t,s,n)}function op(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZS(e){if(typeof e=="function")return op(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kf)return 11;if(e===_f)return 14}return 2}function gn(e,t){var s=e.alternate;return s===null?(s=zt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wl(e,t,s,n,i,r){var o=2;if(n=e,typeof e=="function")op(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ri:return ii(s.children,i,r,t);case Sf:o=8,i|=8;break;case Iu:return e=zt(12,s,t,i|2),e.elementType=Iu,e.lanes=r,e;case Bu:return e=zt(13,s,t,i),e.elementType=Bu,e.lanes=r,e;case Fu:return e=zt(19,s,t,i),e.elementType=Fu,e.lanes=r,e;case Jy:return $c(s,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xy:o=10;break e;case Qy:o=9;break e;case kf:o=11;break e;case _f:o=14;break e;case Gs:o=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=zt(o,s,t,i),t.elementType=e,t.type=n,t.lanes=r,t}function ii(e,t,s,n){return e=zt(7,e,n,t),e.lanes=s,e}function $c(e,t,s,n){return e=zt(22,e,n,t),e.elementType=Jy,e.lanes=s,e.stateNode={isHidden:!1},e}function Yd(e,t,s){return e=zt(6,e,null,t),e.lanes=s,e}function Gd(e,t,s){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ek(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ap(e,t,s,n,i,r,o,l,c){return e=new ek(e,t,s,l,c),t===1?(t=1,r===!0&&(t|=8)):t=0,r=zt(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hf(r),e}function tk(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Ub(e){if(!e)return jn;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var s=e.type;if(gt(s))return Uv(e,s,t)}return t}function Hb(e,t,s,n,i,r,o,l,c){return e=ap(s,n,!0,e,i,r,o,l,c),e.context=Ub(null),s=e.current,n=at(),i=mn(s),r=As(n,i),r.callback=t??null,fn(s,r,i),e.current.lanes=i,sa(e,i,n),xt(e,n),e}function Uc(e,t,s,n){var i=t.current,r=at(),o=mn(i);return s=Ub(s),t.context===null?t.context=s:t.pendingContext=s,t=As(r,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fn(i,t,o),e!==null&&(es(e,i,o,r),ml(e,i,o)),o}function cc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function v0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function lp(e,t){v0(e,t),(e=e.alternate)&&v0(e,t)}function sk(){return null}var Wb=typeof reportError=="function"?reportError:function(e){console.error(e)};function cp(e){this._internalRoot=e}Hc.prototype.render=cp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Uc(e,t,null,null)};Hc.prototype.unmount=cp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){Uc(null,e,null,null)}),t[Ls]=null}};function Hc(e){this._internalRoot=e}Hc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jv();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Js.length&&t!==0&&t<Js[s].priority;s++);Js.splice(s,0,e),s===0&&Sv(e)}};function dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b0(){}function nk(e,t,s,n,i){if(i){if(typeof n=="function"){var r=n;n=function(){var d=cc(o);r.call(d)}}var o=Hb(t,n,e,0,null,!1,!1,"",b0);return e._reactRootContainer=o,e[Ls]=o.current,Ao(e.nodeType===8?e.parentNode:e),pi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=cc(c);l.call(d)}}var c=ap(e,0,!1,null,null,!1,!1,"",b0);return e._reactRootContainer=c,e[Ls]=c.current,Ao(e.nodeType===8?e.parentNode:e),pi(function(){Uc(t,c,s,n)}),c}function qc(e,t,s,n,i){var r=s._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var l=i;i=function(){var c=cc(o);l.call(c)}}Uc(t,o,e,i)}else o=nk(s,t,e,i,n);return cc(o)}bv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=qr(t.pendingLanes);s!==0&&(Tf(t,s|1),xt(t,ke()),!(te&6)&&(cr=ke()+500,Pn()))}break;case 13:pi(function(){var n=Os(e,1);if(n!==null){var i=at();es(n,e,1,i)}}),lp(e,1)}};Ef=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var s=at();es(t,e,134217728,s)}lp(e,134217728)}};wv=function(e){if(e.tag===13){var t=mn(e),s=Os(e,t);if(s!==null){var n=at();es(s,e,t,n)}lp(e,t)}};jv=function(){return oe};Nv=function(e,t){var s=oe;try{return oe=e,t()}finally{oe=s}};Gu=function(e,t,s){switch(t){case"input":if($u(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=Oc(n);if(!i)throw Error(B(90));ev(n),$u(n,i)}}}break;case"textarea":sv(e,s);break;case"select":t=s.value,t!=null&&Gi(e,!!s.multiple,t,!1)}};cv=np;dv=pi;var ik={usingClientEntryPoint:!1,Events:[ia,Ii,Oc,av,lv,np]},Mr={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rk={bundleType:Mr.bundleType,version:Mr.version,rendererPackageName:Mr.rendererPackageName,rendererConfig:Mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fv(e),e===null?null:e.stateNode},findFiberByHostInstance:Mr.findFiberByHostInstance||sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{Dc=Oa.inject(rk),fs=Oa}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;Ct.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(t))throw Error(B(200));return tk(e,t,null,s)};Ct.createRoot=function(e,t){if(!dp(e))throw Error(B(299));var s=!1,n="",i=Wb;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ap(e,1,!1,null,null,s,!1,n,i),e[Ls]=t.current,Ao(e.nodeType===8?e.parentNode:e),new cp(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=fv(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return pi(e)};Ct.hydrate=function(e,t,s){if(!Wc(t))throw Error(B(200));return qc(null,e,t,!0,s)};Ct.hydrateRoot=function(e,t,s){if(!dp(e))throw Error(B(405));var n=s!=null&&s.hydratedSources||null,i=!1,r="",o=Wb;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=Hb(t,null,e,1,s??null,i,!1,r,o),e[Ls]=t.current,Ao(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Hc(t)};Ct.render=function(e,t,s){if(!Wc(t))throw Error(B(200));return qc(null,e,t,!1,s)};Ct.unmountComponentAtNode=function(e){if(!Wc(e))throw Error(B(40));return e._reactRootContainer?(pi(function(){qc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1};Ct.unstable_batchedUpdates=np;Ct.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Wc(s))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return qc(e,t,s,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function qb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qb)}catch(e){console.error(e)}}qb(),qy.exports=Ct;var ok=qy.exports,w0=ok;Lu.createRoot=w0.createRoot,Lu.hydrateRoot=w0.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zo.apply(this,arguments)}var sn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sn||(sn={}));const j0="popstate";function ak(e){e===void 0&&(e={});function t(n,i){let{pathname:r,search:o,hash:l}=n.location;return Ph("",{pathname:r,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:dc(i)}return ck(t,s,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function up(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lk(){return Math.random().toString(36).substr(2,8)}function N0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ph(e,t,s,n){return s===void 0&&(s=null),zo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wr(t):t,{state:s,key:t&&t.key||n||lk()})}function dc(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ck(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:r=!1}=n,o=i.history,l=sn.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(zo({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=sn.Pop;let x=u(),m=x==null?null:x-d;d=x,c&&c({action:l,location:v.location,delta:m})}function f(x,m){l=sn.Push;let y=Ph(v.location,x,m);d=u()+1;let b=N0(y,d),w=v.createHref(y);try{o.pushState(b,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(w)}r&&c&&c({action:l,location:v.location,delta:1})}function p(x,m){l=sn.Replace;let y=Ph(v.location,x,m);d=u();let b=N0(y,d),w=v.createHref(y);o.replaceState(b,"",w),r&&c&&c({action:l,location:v.location,delta:0})}function g(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:dc(x);return y=y.replace(/ $/,"%20"),ve(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return l},get location(){return e(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(j0,h),c=x,()=>{i.removeEventListener(j0,h),c=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let m=g(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(x){return o.go(x)}};return v}var S0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(S0||(S0={}));function dk(e,t,s){return s===void 0&&(s="/"),uk(e,t,s)}function uk(e,t,s,n){let i=typeof t=="string"?wr(t):t,r=dr(i.pathname||"/",s);if(r==null)return null;let o=Kb(e);hk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Nk(r);l=wk(o[c],d)}return l}function Kb(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(r,o,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=xn([n,c.relativePath]),u=s.concat(c);r.children&&r.children.length>0&&(ve(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Kb(r.children,t,u,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:vk(d,r.index),routesMeta:u})};return e.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))i(r,o);else for(let c of Yb(r.path))i(r,o,c)}),t}function Yb(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),r=s.replace(/\?$/,"");if(n.length===0)return i?[r,""]:[r];let o=Yb(n.join("/")),l=[];return l.push(...o.map(c=>c===""?r:[r,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function hk(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:bk(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const fk=/^:[\w-]+$/,pk=3,mk=2,gk=1,xk=10,yk=-2,k0=e=>e==="*";function vk(e,t){let s=e.split("/"),n=s.length;return s.some(k0)&&(n+=yk),t&&(n+=mk),s.filter(i=>!k0(i)).reduce((i,r)=>i+(fk.test(r)?pk:r===""?gk:xk),n)}function bk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function wk(e,t,s){let{routesMeta:n}=e,i={},r="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=r==="/"?t:t.slice(r.length)||"/",h=Th({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:xn([r,h.pathname]),pathnameBase:Pk(xn([r,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(r=xn([r,h.pathnameBase]))}return o}function Th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=jk(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=l[h]||"";o=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:e}}function jk(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),up(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Nk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return up(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const Sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kk=e=>Sk.test(e);function _k(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?wr(e):e,r;if(s)if(kk(s))r=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),up(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?r=_0(s.substring(1),"/"):r=_0(s,t)}else r=t;return{pathname:r,search:Tk(n),hash:Ek(i)}}function _0(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Xd(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ck(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function hp(e,t){let s=Ck(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function fp(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=wr(e):(i=zo({},e),ve(!i.pathname||!i.pathname.includes("?"),Xd("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),Xd("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),Xd("#","search","hash",i)));let r=e===""||i.pathname==="",o=r?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=_k(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const xn=e=>e.join("/").replace(/\/\/+/g,"/"),Pk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ek=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ak(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gb=["post","put","patch","delete"];new Set(Gb);const Dk=["get",...Gb];new Set(Dk);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Vo.apply(this,arguments)}const Kc=N.createContext(null),Xb=N.createContext(null),Vs=N.createContext(null),Yc=N.createContext(null),$s=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Qb=N.createContext(null);function Rk(e,t){let{relative:s}=t===void 0?{}:t;jr()||ve(!1);let{basename:n,navigator:i}=N.useContext(Vs),{hash:r,pathname:o,search:l}=Gc(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:xn([n,o])),i.createHref({pathname:c,search:l,hash:r})}function jr(){return N.useContext(Yc)!=null}function Nr(){return jr()||ve(!1),N.useContext(Yc).location}function Jb(e){N.useContext(Vs).static||N.useLayoutEffect(e)}function ki(){let{isDataRoute:e}=N.useContext($s);return e?Yk():Mk()}function Mk(){jr()||ve(!1);let e=N.useContext(Kc),{basename:t,future:s,navigator:n}=N.useContext(Vs),{matches:i}=N.useContext($s),{pathname:r}=Nr(),o=JSON.stringify(hp(i,s.v7_relativeSplatPath)),l=N.useRef(!1);return Jb(()=>{l.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=fp(d,JSON.parse(o),r,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:xn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,r,e])}const Lk=N.createContext(null);function Ok(e){let t=N.useContext($s).outlet;return t&&N.createElement(Lk.Provider,{value:e},t)}function Gc(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=N.useContext(Vs),{matches:i}=N.useContext($s),{pathname:r}=Nr(),o=JSON.stringify(hp(i,n.v7_relativeSplatPath));return N.useMemo(()=>fp(e,JSON.parse(o),r,s==="path"),[e,o,r,s])}function Ik(e,t){return Bk(e,t)}function Bk(e,t,s,n){jr()||ve(!1);let{navigator:i}=N.useContext(Vs),{matches:r}=N.useContext($s),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Nr(),u;if(t){var h;let x=typeof t=="string"?wr(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||ve(!1),u=x}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=dk(e,{pathname:p}),v=Uk(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:xn([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:xn([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),r,s,n);return t&&v?N.createElement(Yc.Provider,{value:{location:Vo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sn.Pop}},v):v}function Fk(){let e=Kk(),t=Ak(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,null)}const zk=N.createElement(Fk,null);class Vk extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?N.createElement($s.Provider,{value:this.props.routeContext},N.createElement(Qb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $k(e){let{routeContext:t,match:s,children:n}=e,i=N.useContext(Kc);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement($s.Provider,{value:t},n)}function Uk(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var r;if(!s)return null;if(s.errors)e=s.matches;else if((r=n)!=null&&r.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||ve(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=s,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,v=null,x=null;s&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||zk,c&&(d<0&&f===0?(Gk("route-fallback"),g=!0,x=null):d===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),y=()=>{let b;return p?b=v:g?b=x:h.route.Component?b=N.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,N.createElement($k,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:s!=null},children:b})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(Vk,{location:s.location,revalidation:s.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Zb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zb||{}),e1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(e1||{});function Hk(e){let t=N.useContext(Kc);return t||ve(!1),t}function Wk(e){let t=N.useContext(Xb);return t||ve(!1),t}function qk(e){let t=N.useContext($s);return t||ve(!1),t}function t1(e){let t=qk(),s=t.matches[t.matches.length-1];return s.route.id||ve(!1),s.route.id}function Kk(){var e;let t=N.useContext(Qb),s=Wk(),n=t1();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function Yk(){let{router:e}=Hk(Zb.UseNavigateStable),t=t1(e1.UseNavigateStable),s=N.useRef(!1);return Jb(()=>{s.current=!0}),N.useCallback(function(i,r){r===void 0&&(r={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vo({fromRouteId:t},r)))},[e,t])}const C0={};function Gk(e,t,s){C0[e]||(C0[e]=!0)}function Xk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hi(e){let{to:t,replace:s,state:n,relative:i}=e;jr()||ve(!1);let{future:r,static:o}=N.useContext(Vs),{matches:l}=N.useContext($s),{pathname:c}=Nr(),d=ki(),u=fp(t,hp(l,r.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function s1(e){return Ok(e.context)}function ae(e){ve(!1)}function Qk(e){let{basename:t="/",children:s=null,location:n,navigationType:i=sn.Pop,navigator:r,static:o=!1,future:l}=e;jr()&&ve(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:r,static:o,future:Vo({v7_relativeSplatPath:!1},l)}),[c,l,r,o]);typeof n=="string"&&(n=wr(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,v=N.useMemo(()=>{let x=dr(u,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:g},navigationType:i}},[c,u,h,f,p,g,i]);return v==null?null:N.createElement(Vs.Provider,{value:d},N.createElement(Yc.Provider,{children:s,value:v}))}function Jk(e){let{children:t,location:s}=e;return Ik(Eh(t),s)}new Promise(()=>{});function Eh(e,t){t===void 0&&(t=[]);let s=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let r=[...t,i];if(n.type===N.Fragment){s.push.apply(s,Eh(n.props.children,r));return}n.type!==ae&&ve(!1),!n.props.index||!n.props.children||ve(!1);let o={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Eh(n.props.children,r)),s.push(o)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},uc.apply(this,arguments)}function n1(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,r;for(r=0;r<n.length;r++)i=n[r],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function Zk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e_(e,t){return e.button===0&&(!t||t==="_self")&&!Zk(e)}const t_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n_="6";try{window.__reactRouterVersion=n_}catch{}const i_=N.createContext({isTransitioning:!1}),r_="startTransition",P0=Gj[r_];function o_(e){let{basename:t,children:s,future:n,window:i}=e,r=N.useRef();r.current==null&&(r.current=ak({window:i,v5Compat:!0}));let o=r.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=N.useCallback(h=>{d&&P0?P0(()=>c(h)):c(h)},[c,d]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.useEffect(()=>Xk(n),[n]),N.createElement(Qk,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const a_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pp=N.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:r,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=n1(t,t_),{basename:p}=N.useContext(Vs),g,v=!1;if(typeof d=="string"&&l_.test(d)&&(g=d,a_))try{let b=new URL(window.location.href),w=d.startsWith("//")?new URL(b.protocol+d):new URL(d),j=dr(w.pathname,p);w.origin===b.origin&&j!=null?d=j+w.search+w.hash:v=!0}catch{}let x=Rk(d,{relative:i}),m=u_(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function y(b){n&&n(b),b.defaultPrevented||m(b)}return N.createElement("a",uc({},f,{href:g||x,onClick:v||r?n:y,ref:s,target:c}))}),c_=N.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=n1(t,s_),f=Gc(c,{relative:h.relative}),p=Nr(),g=N.useContext(Xb),{navigator:v,basename:x}=N.useContext(Vs),m=g!=null&&h_(f)&&d===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&x&&(w=dr(w,x)||w);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=b===y||!o&&b.startsWith(y)&&b.charAt(j)==="/",C=w!=null&&(w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/"),_={isActive:k,isPending:C,isTransitioning:m},S=k?n:void 0,T;typeof r=="function"?T=r(_):T=[r,k?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(_):l;return N.createElement(pp,uc({},h,{"aria-current":S,className:T,ref:s,style:P,to:c,viewTransition:d}),typeof u=="function"?u(_):u)});var Ah;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ah||(Ah={}));var T0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(T0||(T0={}));function d_(e){let t=N.useContext(Kc);return t||ve(!1),t}function u_(e,t){let{target:s,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:l}=t===void 0?{}:t,c=ki(),d=Nr(),u=Gc(e,{relative:o});return N.useCallback(h=>{if(e_(h,s)){h.preventDefault();let f=n!==void 0?n:dc(d)===dc(u);c(e,{replace:f,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[d,c,u,n,i,s,e,r,o,l])}function h_(e,t){t===void 0&&(t={});let s=N.useContext(i_);s==null&&ve(!1);let{basename:n}=d_(Ah.useViewTransitionState),i=Gc(e,{relative:t.relative});if(!s.isTransitioning)return!1;let r=dr(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=dr(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Th(i.pathname,o)!=null||Th(i.pathname,r)!=null}function i1(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(s=i1(e[t]))&&(n&&(n+=" "),n+=s);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function nn(){for(var e,t,s=0,n="";s<arguments.length;)(e=arguments[s++])&&(t=i1(e))&&(n&&(n+=" "),n+=t);return n}const ho=e=>typeof e=="number"&&!isNaN(e),mi=e=>typeof e=="string",pt=e=>typeof e=="function",jl=e=>mi(e)||pt(e)?e:null,Qd=e=>N.isValidElement(e)||mi(e)||pt(e)||ho(e);function f_(e,t,s){s===void 0&&(s=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${s}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,s)})})}function Xc(e){let{enter:t,exit:s,appendPosition:n=!1,collapse:i=!0,collapseDuration:r=300}=e;return function(o){let{children:l,position:c,preventExitTransition:d,done:u,nodeRef:h,isIn:f}=o;const p=n?`${t}--${c}`:t,g=n?`${s}--${c}`:s,v=N.useRef(0);return N.useLayoutEffect(()=>{const x=h.current,m=p.split(" "),y=b=>{b.target===h.current&&(x.dispatchEvent(new Event("d")),x.removeEventListener("animationend",y),x.removeEventListener("animationcancel",y),v.current===0&&b.type!=="animationcancel"&&x.classList.remove(...m))};x.classList.add(...m),x.addEventListener("animationend",y),x.addEventListener("animationcancel",y)},[]),N.useEffect(()=>{const x=h.current,m=()=>{x.removeEventListener("animationend",m),i?f_(x,u,r):u()};f||(d?m():(v.current=1,x.className+=` ${g}`,x.addEventListener("animationend",m)))},[f]),ie.createElement(ie.Fragment,null,l)}}function E0(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ot={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const s=this.list.get(e).filter(n=>n!==t);return this.list.set(e,s),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const s=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(s)})}},Ia=e=>{let{theme:t,type:s,...n}=e;return ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...n})},Jd={info:function(e){return ie.createElement(Ia,{...e},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ie.createElement(Ia,{...e},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ie.createElement(Ia,{...e},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ie.createElement(Ia,{...e},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ie.createElement("div",{className:"Toastify__spinner"})}};function p_(e){const[,t]=N.useReducer(p=>p+1,0),[s,n]=N.useState([]),i=N.useRef(null),r=N.useRef(new Map).current,o=p=>s.indexOf(p)!==-1,l=N.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>r.get(p)}).current;function c(p){let{containerId:g}=p;const{limit:v}=l.props;!v||g&&l.containerId!==g||(l.count-=l.queue.length,l.queue=[])}function d(p){n(g=>p==null?[]:g.filter(v=>v!==p))}function u(){const{toastContent:p,toastProps:g,staleId:v}=l.queue.shift();f(p,g,v)}function h(p,g){let{delay:v,staleId:x,...m}=g;if(!Qd(p)||function(E){return!i.current||l.props.enableMultiContainer&&E.containerId!==l.props.containerId||r.has(E.toastId)&&E.updateId==null}(m))return;const{toastId:y,updateId:b,data:w}=m,{props:j}=l,k=()=>d(y),C=b==null;C&&l.count++;const _={...j,style:j.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(m).filter(E=>{let[O,F]=E;return F!=null})),toastId:y,updateId:b,data:w,closeToast:k,isIn:!1,className:jl(m.className||j.toastClassName),bodyClassName:jl(m.bodyClassName||j.bodyClassName),progressClassName:jl(m.progressClassName||j.progressClassName),autoClose:!m.isLoading&&(S=m.autoClose,T=j.autoClose,S===!1||ho(S)&&S>0?S:T),deleteToast(){const E=E0(r.get(y),"removed");r.delete(y),Ot.emit(4,E);const O=l.queue.length;if(l.count=y==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),O>0){const F=y==null?l.props.limit:1;if(O===1||F===1)l.displayedToast++,u();else{const D=F>O?O:F;l.displayedToast=D;for(let M=0;M<D;M++)u()}}else t()}};var S,T;_.iconOut=function(E){let{theme:O,type:F,isLoading:D,icon:M}=E,$=null;const L={theme:O,type:F};return M===!1||(pt(M)?$=M(L):N.isValidElement(M)?$=N.cloneElement(M,L):mi(M)||ho(M)?$=M:D?$=Jd.spinner():(z=>z in Jd)(F)&&($=Jd[F](L))),$}(_),pt(m.onOpen)&&(_.onOpen=m.onOpen),pt(m.onClose)&&(_.onClose=m.onClose),_.closeButton=j.closeButton,m.closeButton===!1||Qd(m.closeButton)?_.closeButton=m.closeButton:m.closeButton===!0&&(_.closeButton=!Qd(j.closeButton)||j.closeButton);let P=p;N.isValidElement(p)&&!mi(p.type)?P=N.cloneElement(p,{closeToast:k,toastProps:_,data:w}):pt(p)&&(P=p({closeToast:k,toastProps:_,data:w})),j.limit&&j.limit>0&&l.count>j.limit&&C?l.queue.push({toastContent:P,toastProps:_,staleId:x}):ho(v)?setTimeout(()=>{f(P,_,x)},v):f(P,_,x)}function f(p,g,v){const{toastId:x}=g;v&&r.delete(v);const m={content:p,props:g};r.set(x,m),n(y=>[...y,x].filter(b=>b!==v)),Ot.emit(4,E0(m,m.props.updateId==null?"added":"updated"))}return N.useEffect(()=>(l.containerId=e.containerId,Ot.cancelEmit(3).on(0,h).on(1,p=>i.current&&d(p)).on(5,c).emit(2,l),()=>{r.clear(),Ot.emit(3,l)}),[]),N.useEffect(()=>{l.props=e,l.isToastActive=o,l.displayedToast=s.length}),{getToastToRender:function(p){const g=new Map,v=Array.from(r.values());return e.newestOnTop&&v.reverse(),v.forEach(x=>{const{position:m}=x.props;g.has(m)||g.set(m,[]),g.get(m).push(x)}),Array.from(g,x=>p(x[0],x[1]))},containerRef:i,isToastActive:o}}function A0(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function D0(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function m_(e){const[t,s]=N.useState(!1),[n,i]=N.useState(!1),r=N.useRef(null),o=N.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=N.useRef(e),{autoClose:c,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:f}=e;function p(w){if(e.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),document.addEventListener("touchmove",m),document.addEventListener("touchend",y);const j=r.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=j.getBoundingClientRect(),j.style.transition="",o.x=A0(w.nativeEvent),o.y=D0(w.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=j.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=j.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(w){if(o.boundingRect){const{top:j,bottom:k,left:C,right:_}=o.boundingRect;w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=C&&o.x<=_&&o.y>=j&&o.y<=k?x():v()}}function v(){s(!0)}function x(){s(!1)}function m(w){const j=r.current;o.canDrag&&j&&(o.didMove=!0,t&&x(),o.x=A0(w),o.y=D0(w),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),j.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,j.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",y);const w=r.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${e.draggableDirection}(0)`,w.style.opacity="1"}}N.useEffect(()=>{l.current=e}),N.useEffect(()=>(r.current&&r.current.addEventListener("d",v,{once:!0}),pt(e.onOpen)&&e.onOpen(N.isValidElement(e.children)&&e.children.props),()=>{const w=l.current;pt(w.onClose)&&w.onClose(N.isValidElement(w.children)&&w.children.props)}),[]),N.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",v),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",x))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return c&&d&&(b.onMouseEnter=x,b.onMouseLeave=v),f&&(b.onClick=w=>{h&&h(w),o.canCloseOnClick&&u()}),{playToast:v,pauseToast:x,isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:b}}function r1(e){let{closeToast:t,theme:s,ariaLabel:n="close"}=e;return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":n},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function g_(e){let{delay:t,isRunning:s,closeToast:n,type:i="default",hide:r,className:o,style:l,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:f}=e;const p=r||c&&d===0,g={...l,animationDuration:`${t}ms`,animationPlayState:s?"running":"paused",opacity:p?0:1};c&&(g.transform=`scaleX(${d})`);const v=nn("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),x=pt(o)?o({rtl:u,type:i,defaultClassName:v}):nn(v,o);return ie.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:g,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&n()}})}const x_=e=>{const{isRunning:t,preventExitTransition:s,toastRef:n,eventHandlers:i}=m_(e),{closeButton:r,children:o,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:h,transition:f,position:p,className:g,style:v,bodyClassName:x,bodyStyle:m,progressClassName:y,progressStyle:b,updateId:w,role:j,progress:k,rtl:C,toastId:_,deleteToast:S,isIn:T,isLoading:P,iconOut:E,closeOnClick:O,theme:F}=e,D=nn("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":O}),M=pt(g)?g({rtl:C,position:p,type:d,defaultClassName:D}):nn(D,g),$=!!k||!l,L={closeToast:h,type:d,theme:F};let z=null;return r===!1||(z=pt(r)?r(L):N.isValidElement(r)?N.cloneElement(r,L):r1(L)),ie.createElement(f,{isIn:T,done:S,position:p,preventExitTransition:s,nodeRef:n},ie.createElement("div",{id:_,onClick:c,className:M,...i,style:v,ref:n},ie.createElement("div",{...T&&{role:j},className:pt(x)?x({type:d}):nn("Toastify__toast-body",x),style:m},E!=null&&ie.createElement("div",{className:nn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},E),ie.createElement("div",null,o)),z,ie.createElement(g_,{...w&&!$?{key:`pb-${w}`}:{},rtl:C,theme:F,delay:l,isRunning:t,isIn:T,closeToast:h,hide:u,type:d,style:b,className:y,controlledProgress:$,progress:k||0})))},Qc=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},y_=Xc(Qc("bounce",!0));Xc(Qc("slide",!0));Xc(Qc("zoom"));Xc(Qc("flip"));const Dh=N.forwardRef((e,t)=>{const{getToastToRender:s,containerRef:n,isToastActive:i}=p_(e),{className:r,style:o,rtl:l,containerId:c}=e;function d(u){const h=nn("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":l});return pt(r)?r({position:u,rtl:l,defaultClassName:h}):nn(h,jl(r))}return N.useEffect(()=>{t&&(t.current=n.current)},[]),ie.createElement("div",{ref:n,className:"Toastify",id:c},s((u,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return ie.createElement("div",{className:d(u),style:f,key:`container-${u}`},h.map((p,g)=>{let{content:v,props:x}=p;return ie.createElement(x_,{...x,isIn:i(x.toastId),style:{...x.style,"--nth":g+1,"--len":h.length},key:`toast-${x.key}`},v)}))}))});Dh.displayName="ToastContainer",Dh.defaultProps={position:"top-right",transition:y_,autoClose:5e3,closeButton:r1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Zd,Un=new Map,Yr=[],v_=1;function o1(){return""+v_++}function b_(e){return e&&(mi(e.toastId)||ho(e.toastId))?e.toastId:o1()}function fo(e,t){return Un.size>0?Ot.emit(0,e,t):Yr.push({content:e,options:t}),t.toastId}function hc(e,t){return{...t,type:t&&t.type||e,toastId:b_(t)}}function Ba(e){return(t,s)=>fo(t,hc(e,s))}function R(e,t){return fo(e,hc("default",t))}R.loading=(e,t)=>fo(e,hc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),R.promise=function(e,t,s){let n,{pending:i,error:r,success:o}=t;i&&(n=mi(i)?R.loading(i,s):R.loading(i.render,{...s,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,h,f)=>{if(h==null)return void R.dismiss(n);const p={type:u,...l,...s,data:f},g=mi(h)?{render:h}:h;return n?R.update(n,{...p,...g}):R(g.render,{...p,...g}),f},d=pt(e)?e():e;return d.then(u=>c("success",o,u)).catch(u=>c("error",r,u)),d},R.success=Ba("success"),R.info=Ba("info"),R.error=Ba("error"),R.warning=Ba("warning"),R.warn=R.warning,R.dark=(e,t)=>fo(e,hc("default",{theme:"dark",...t})),R.dismiss=e=>{Un.size>0?Ot.emit(1,e):Yr=Yr.filter(t=>e!=null&&t.options.toastId!==e)},R.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ot.emit(5,e)},R.isActive=e=>{let t=!1;return Un.forEach(s=>{s.isToastActive&&s.isToastActive(e)&&(t=!0)}),t},R.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const s=function(n,i){let{containerId:r}=i;const o=Un.get(r||Zd);return o&&o.getToast(n)}(e,t);if(s){const{props:n,content:i}=s,r={delay:100,...n,...t,toastId:t.toastId||e,updateId:o1()};r.toastId!==e&&(r.staleId=e);const o=r.render||i;delete r.render,fo(o,r)}},0)},R.done=e=>{R.update(e,{progress:1})},R.onChange=e=>(Ot.on(4,e),()=>{Ot.off(4,e)}),R.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},R.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ot.on(2,e=>{Zd=e.containerId||e,Un.set(Zd,e),Yr.forEach(t=>{Ot.emit(0,t.content,t.options)}),Yr=[]}).on(3,e=>{Un.delete(e.containerId||e),Un.size===0&&Ot.off(0).off(1).off(5)});function a1(e,t){return function(){return e.apply(t,arguments)}}const{toString:w_}=Object.prototype,{getPrototypeOf:mp}=Object,{iterator:Jc,toStringTag:l1}=Symbol,Zc=(e=>t=>{const s=w_.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ss=e=>(e=e.toLowerCase(),t=>Zc(t)===e),ed=e=>t=>typeof t===e,{isArray:Sr}=Array,ur=ed("undefined");function oa(e){return e!==null&&!ur(e)&&e.constructor!==null&&!ur(e.constructor)&&yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const c1=ss("ArrayBuffer");function j_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&c1(e.buffer),t}const N_=ed("string"),yt=ed("function"),d1=ed("number"),aa=e=>e!==null&&typeof e=="object",S_=e=>e===!0||e===!1,Nl=e=>{if(Zc(e)!=="object")return!1;const t=mp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(l1 in e)&&!(Jc in e)},k_=e=>{if(!aa(e)||oa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},__=ss("Date"),C_=ss("File"),P_=ss("Blob"),T_=ss("FileList"),E_=e=>aa(e)&&yt(e.pipe),A_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yt(e.append)&&((t=Zc(e))==="formdata"||t==="object"&&yt(e.toString)&&e.toString()==="[object FormData]"))},D_=ss("URLSearchParams"),[R_,M_,L_,O_]=["ReadableStream","Request","Response","Headers"].map(ss),I_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function la(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Sr(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(oa(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let l;for(n=0;n<o;n++)l=r[n],t.call(null,e[l],l,e)}}function u1(e,t){if(oa(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h1=e=>!ur(e)&&e!==Zn;function Rh(){const{caseless:e,skipUndefined:t}=h1(this)&&this||{},s={},n=(i,r)=>{if(r==="__proto__"||r==="constructor"||r==="prototype")return;const o=e&&u1(s,r)||r;Nl(s[o])&&Nl(i)?s[o]=Rh(s[o],i):Nl(i)?s[o]=Rh({},i):Sr(i)?s[o]=i.slice():(!t||!ur(i))&&(s[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&la(arguments[i],n);return s}const B_=(e,t,s,{allOwnKeys:n}={})=>(la(t,(i,r)=>{s&&yt(i)?Object.defineProperty(e,r,{value:a1(i,s),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,r,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),F_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),z_=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},V_=(e,t,s,n)=>{let i,r,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),r=i.length;r-- >0;)o=i[r],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&mp(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},$_=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},U_=e=>{if(!e)return null;if(Sr(e))return e;let t=e.length;if(!d1(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},H_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mp(Uint8Array)),W_=(e,t)=>{const n=(e&&e[Jc]).call(e);let i;for(;(i=n.next())&&!i.done;){const r=i.value;t.call(e,r[0],r[1])}},q_=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},K_=ss("HTMLFormElement"),Y_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),R0=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),G_=ss("RegExp"),f1=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};la(s,(i,r)=>{let o;(o=t(i,r,e))!==!1&&(n[r]=o||i)}),Object.defineProperties(e,n)},X_=e=>{f1(e,(t,s)=>{if(yt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(yt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Q_=(e,t)=>{const s={},n=i=>{i.forEach(r=>{s[r]=!0})};return Sr(e)?n(e):n(String(e).split(t)),s},J_=()=>{},Z_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function eC(e){return!!(e&&yt(e.append)&&e[l1]==="FormData"&&e[Jc])}const tC=e=>{const t=new Array(10),s=(n,i)=>{if(aa(n)){if(t.indexOf(n)>=0)return;if(oa(n))return n;if(!("toJSON"in n)){t[i]=n;const r=Sr(n)?[]:{};return la(n,(o,l)=>{const c=s(o,i+1);!ur(c)&&(r[l]=c)}),t[i]=void 0,r}}return n};return s(e,0)},sC=ss("AsyncFunction"),nC=e=>e&&(aa(e)||yt(e))&&yt(e.then)&&yt(e.catch),p1=((e,t)=>e?setImmediate:t?((s,n)=>(Zn.addEventListener("message",({source:i,data:r})=>{i===Zn&&r===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Zn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",yt(Zn.postMessage)),iC=typeof queueMicrotask<"u"?queueMicrotask.bind(Zn):typeof process<"u"&&process.nextTick||p1,rC=e=>e!=null&&yt(e[Jc]),A={isArray:Sr,isArrayBuffer:c1,isBuffer:oa,isFormData:A_,isArrayBufferView:j_,isString:N_,isNumber:d1,isBoolean:S_,isObject:aa,isPlainObject:Nl,isEmptyObject:k_,isReadableStream:R_,isRequest:M_,isResponse:L_,isHeaders:O_,isUndefined:ur,isDate:__,isFile:C_,isBlob:P_,isRegExp:G_,isFunction:yt,isStream:E_,isURLSearchParams:D_,isTypedArray:H_,isFileList:T_,forEach:la,merge:Rh,extend:B_,trim:I_,stripBOM:F_,inherits:z_,toFlatObject:V_,kindOf:Zc,kindOfTest:ss,endsWith:$_,toArray:U_,forEachEntry:W_,matchAll:q_,isHTMLForm:K_,hasOwnProperty:R0,hasOwnProp:R0,reduceDescriptors:f1,freezeMethods:X_,toObjectSet:Q_,toCamelCase:Y_,noop:J_,toFiniteNumber:Z_,findKey:u1,global:Zn,isContextDefined:h1,isSpecCompliantForm:eC,toJSONObject:tC,isAsyncFn:sC,isThenable:nC,setImmediate:p1,asap:iC,isIterable:rC};let G=class m1 extends Error{static from(t,s,n,i,r,o){const l=new m1(t.message,s||t.code,n,i,r);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,s,n,i,r){super(t),this.name="AxiosError",this.isAxiosError=!0,s&&(this.code=s),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}};G.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";G.ERR_BAD_OPTION="ERR_BAD_OPTION";G.ECONNABORTED="ECONNABORTED";G.ETIMEDOUT="ETIMEDOUT";G.ERR_NETWORK="ERR_NETWORK";G.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";G.ERR_DEPRECATED="ERR_DEPRECATED";G.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";G.ERR_BAD_REQUEST="ERR_BAD_REQUEST";G.ERR_CANCELED="ERR_CANCELED";G.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";G.ERR_INVALID_URL="ERR_INVALID_URL";const oC=null;function Mh(e){return A.isPlainObject(e)||A.isArray(e)}function g1(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function M0(e,t,s){return e?e.concat(t).map(function(i,r){return i=g1(i),!s&&r?"["+i+"]":i}).join(s?".":""):t}function aC(e){return A.isArray(e)&&!e.some(Mh)}const lC=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function td(e,t,s){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=A.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!A.isUndefined(x[v])});const n=s.metaTokens,i=s.visitor||u,r=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(A.isDate(g))return g.toISOString();if(A.isBoolean(g))return g.toString();if(!c&&A.isBlob(g))throw new G("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(g)||A.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,x){let m=g;if(g&&!x&&typeof g=="object"){if(A.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(A.isArray(g)&&aC(g)||(A.isFileList(g)||A.endsWith(v,"[]"))&&(m=A.toArray(g)))return v=g1(v),m.forEach(function(b,w){!(A.isUndefined(b)||b===null)&&t.append(o===!0?M0([v],w,r):o===null?v:v+"[]",d(b))}),!1}return Mh(g)?!0:(t.append(M0(x,v,r),d(g)),!1)}const h=[],f=Object.assign(lC,{defaultVisitor:u,convertValue:d,isVisitable:Mh});function p(g,v){if(!A.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),A.forEach(g,function(m,y){(!(A.isUndefined(m)||m===null)&&i.call(t,m,A.isString(y)?y.trim():y,v,f))===!0&&p(m,v?v.concat(y):[y])}),h.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return p(e),t}function L0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function gp(e,t){this._pairs=[],e&&td(e,this,t)}const x1=gp.prototype;x1.append=function(t,s){this._pairs.push([t,s])};x1.toString=function(t){const s=t?function(n){return t.call(this,n,L0)}:L0;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function cC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function y1(e,t,s){if(!t)return e;const n=s&&s.encode||cC,i=A.isFunction(s)?{serialize:s}:s,r=i&&i.serialize;let o;if(r?o=r(t,i):o=A.isURLSearchParams(t)?t.toString():new gp(t,i).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class O0{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(n){n!==null&&t(n)})}}const xp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},dC=typeof URLSearchParams<"u"?URLSearchParams:gp,uC=typeof FormData<"u"?FormData:null,hC=typeof Blob<"u"?Blob:null,fC={isBrowser:!0,classes:{URLSearchParams:dC,FormData:uC,Blob:hC},protocols:["http","https","file","blob","url","data"]},yp=typeof window<"u"&&typeof document<"u",Lh=typeof navigator=="object"&&navigator||void 0,pC=yp&&(!Lh||["ReactNative","NativeScript","NS"].indexOf(Lh.product)<0),mC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gC=yp&&window.location.href||"http://localhost",xC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yp,hasStandardBrowserEnv:pC,hasStandardBrowserWebWorkerEnv:mC,navigator:Lh,origin:gC},Symbol.toStringTag,{value:"Module"})),Qe={...xC,...fC};function yC(e,t){return td(e,new Qe.classes.URLSearchParams,{visitor:function(s,n,i,r){return Qe.isNode&&A.isBuffer(s)?(this.append(n,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function vC(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bC(e){const t={},s=Object.keys(e);let n;const i=s.length;let r;for(n=0;n<i;n++)r=s[n],t[r]=e[r];return t}function v1(e){function t(s,n,i,r){let o=s[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=r>=s.length;return o=!o&&A.isArray(i)?i.length:o,c?(A.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!A.isObject(i[o]))&&(i[o]=[]),t(s,n,i[o],r)&&A.isArray(i[o])&&(i[o]=bC(i[o])),!l)}if(A.isFormData(e)&&A.isFunction(e.entries)){const s={};return A.forEachEntry(e,(n,i)=>{t(vC(n),i,s,0)}),s}return null}function wC(e,t,s){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const ca={transitional:xp,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,r=A.isObject(t);if(r&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return i?JSON.stringify(v1(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yC(t,this.formSerializer).toString();if((l=A.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return td(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return r||i?(s.setContentType("application/json",!1),wC(t)):t}],transformResponse:[function(t){const s=this.transitional||ca.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?G.from(l,G.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{ca.headers[e]={}});const jC=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NC=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||t[s]&&jC[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},I0=Symbol("internals");function Lr(e){return e&&String(e).trim().toLowerCase()}function Sl(e){return e===!1||e==null?e:A.isArray(e)?e.map(Sl):String(e)}function SC(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const kC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eu(e,t,s,n,i){if(A.isFunction(n))return n.call(this,t,s);if(i&&(t=s),!!A.isString(t)){if(A.isString(n))return t.indexOf(n)!==-1;if(A.isRegExp(n))return n.test(t)}}function _C(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function CC(e,t){const s=A.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,r,o){return this[n].call(this,t,i,r,o)},configurable:!0})})}let vt=class{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function r(l,c,d){const u=Lr(c);if(!u)throw new Error("header name must be a non-empty string");const h=A.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Sl(l))}const o=(l,c)=>A.forEach(l,(d,u)=>r(d,u,c));if(A.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(A.isString(t)&&(t=t.trim())&&!kC(t))o(NC(t),s);else if(A.isObject(t)&&A.isIterable(t)){let l={},c,d;for(const u of t){if(!A.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?A.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,s)}else t!=null&&r(s,t,n);return this}get(t,s){if(t=Lr(t),t){const n=A.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return SC(i);if(A.isFunction(s))return s.call(this,i,n);if(A.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Lr(t),t){const n=A.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||eu(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function r(o){if(o=Lr(o),o){const l=A.findKey(n,o);l&&(!s||eu(n,n[l],l,s))&&(delete n[l],i=!0)}}return A.isArray(t)?t.forEach(r):r(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const r=s[n];(!t||eu(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const s=this,n={};return A.forEach(this,(i,r)=>{const o=A.findKey(n,r);if(o){s[o]=Sl(i),delete s[r];return}const l=t?_C(r):String(r).trim();l!==r&&delete s[r],s[l]=Sl(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return A.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&A.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[I0]=this[I0]={accessors:{}}).accessors,i=this.prototype;function r(o){const l=Lr(o);n[l]||(CC(i,o),n[l]=!0)}return A.isArray(t)?t.forEach(r):r(t),this}};vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(vt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});A.freezeMethods(vt);function tu(e,t){const s=this||ca,n=t||s,i=vt.from(n.headers);let r=n.data;return A.forEach(e,function(l){r=l.call(s,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function b1(e){return!!(e&&e.__CANCEL__)}let da=class extends G{constructor(t,s,n){super(t??"canceled",G.ERR_CANCELED,s,n),this.name="CanceledError",this.__CANCEL__=!0}};function w1(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new G("Request failed with status code "+s.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function PC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function TC(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,r=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[r];o||(o=d),s[i]=c,n[i]=d;let h=r,f=0;for(;h!==i;)f+=s[h++],h=h%e;if(i=(i+1)%e,i===r&&(r=(r+1)%e),d-o<t)return;const p=u&&d-u;return p?Math.round(f*1e3/p):void 0}}function EC(e,t){let s=0,n=1e3/t,i,r;const o=(d,u=Date.now())=>{s=u,i=null,r&&(clearTimeout(r),r=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?o(d,u):(i=d,r||(r=setTimeout(()=>{r=null,o(i)},n-h)))},()=>i&&o(i)]}const fc=(e,t,s=3)=>{let n=0;const i=TC(50,250);return EC(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,c=o-n,d=i(c),u=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},B0=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},F0=e=>(...t)=>A.asap(()=>e(...t)),AC=Qe.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Qe.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,DC=Qe.hasStandardBrowserEnv?{write(e,t,s,n,i,r,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];A.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),A.isString(n)&&l.push(`path=${n}`),A.isString(i)&&l.push(`domain=${i}`),r===!0&&l.push("secure"),A.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function RC(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function MC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function j1(e,t,s){let n=!RC(t);return e&&(n||s==!1)?MC(e,t):t}const z0=e=>e instanceof vt?{...e}:e;function gi(e,t){t=t||{};const s={};function n(d,u,h,f){return A.isPlainObject(d)&&A.isPlainObject(u)?A.merge.call({caseless:f},d,u):A.isPlainObject(u)?A.merge({},u):A.isArray(u)?u.slice():u}function i(d,u,h,f){if(A.isUndefined(u)){if(!A.isUndefined(d))return n(void 0,d,h,f)}else return n(d,u,h,f)}function r(d,u){if(!A.isUndefined(u))return n(void 0,u)}function o(d,u){if(A.isUndefined(u)){if(!A.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>i(z0(d),z0(u),h,!0)};return A.forEach(Object.keys({...e,...t}),function(u){if(u==="__proto__"||u==="constructor"||u==="prototype")return;const h=A.hasOwnProp(c,u)?c[u]:i,f=h(e[u],t[u],u);A.isUndefined(f)&&h!==l||(s[u]=f)}),s}const N1=e=>{const t=gi({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=vt.from(o),t.url=y1(j1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),A.isFormData(s)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(A.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&o.set(u,h)})}}if(Qe.hasStandardBrowserEnv&&(n&&A.isFunction(n)&&(n=n(t)),n||n!==!1&&AC(t.url))){const c=i&&r&&DC.read(r);c&&o.set(i,c)}return t},LC=typeof XMLHttpRequest<"u",OC=LC&&function(e){return new Promise(function(s,n){const i=N1(e);let r=i.data;const o=vt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,f,p,g;function v(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function m(){if(!x)return;const b=vt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};w1(function(C){s(C),v()},function(C){n(C),v()},j),x=null}"onloadend"in x?x.onloadend=m:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(m)},x.onabort=function(){x&&(n(new G("Request aborted",G.ECONNABORTED,e,x)),x=null)},x.onerror=function(w){const j=w&&w.message?w.message:"Network Error",k=new G(j,G.ERR_NETWORK,e,x);k.event=w||null,n(k),x=null},x.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||xp;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new G(w,j.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,x)),x=null},r===void 0&&o.setContentType(null),"setRequestHeader"in x&&A.forEach(o.toJSON(),function(w,j){x.setRequestHeader(j,w)}),A.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),d&&([f,g]=fc(d,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,p]=fc(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=b=>{x&&(n(!b||b.type?new da(null,e,x):b),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=PC(i.url);if(y&&Qe.protocols.indexOf(y)===-1){n(new G("Unsupported protocol "+y+":",G.ERR_BAD_REQUEST,e));return}x.send(r||null)})},IC=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,i;const r=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof G?u:new da(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,r(new G(`timeout of ${t}ms exceeded`,G.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),e=null)};e.forEach(d=>d.addEventListener("abort",r));const{signal:c}=n;return c.unsubscribe=()=>A.asap(l),c}},BC=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,i;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},FC=async function*(e,t){for await(const s of zC(e))yield*BC(s,t)},zC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},V0=(e,t,s,n)=>{const i=FC(e,t);let r=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(s){let f=r+=h;s(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},$0=64*1024,{isFunction:Fa}=A,VC=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:U0,TextEncoder:H0}=A.global,W0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$C=e=>{e=A.merge.call({skipUndefined:!0},VC,e);const{fetch:t,Request:s,Response:n}=e,i=t?Fa(t):typeof fetch=="function",r=Fa(s),o=Fa(n);if(!i)return!1;const l=i&&Fa(U0),c=i&&(typeof H0=="function"?(g=>v=>g.encode(v))(new H0):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=r&&l&&W0(()=>{let g=!1;const v=new s(Qe.origin,{body:new U0,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),u=o&&l&&W0(()=>A.isReadableStream(new n("").body)),h={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,x)=>{let m=v&&v[g];if(m)return m.call(v);throw new G(`Response type '${g}' is not supported`,G.ERR_NOT_SUPPORT,x)})});const f=async g=>{if(g==null)return 0;if(A.isBlob(g))return g.size;if(A.isSpecCompliantForm(g))return(await new s(Qe.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(A.isArrayBufferView(g)||A.isArrayBuffer(g))return g.byteLength;if(A.isURLSearchParams(g)&&(g=g+""),A.isString(g))return(await c(g)).byteLength},p=async(g,v)=>{const x=A.toFiniteNumber(g.getContentLength());return x??f(v)};return async g=>{let{url:v,method:x,data:m,signal:y,cancelToken:b,timeout:w,onDownloadProgress:j,onUploadProgress:k,responseType:C,headers:_,withCredentials:S="same-origin",fetchOptions:T}=N1(g),P=t||fetch;C=C?(C+"").toLowerCase():"text";let E=IC([y,b&&b.toAbortSignal()],w),O=null;const F=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let D;try{if(k&&d&&x!=="get"&&x!=="head"&&(D=await p(_,m))!==0){let U=new s(v,{method:"POST",body:m,duplex:"half"}),Q;if(A.isFormData(m)&&(Q=U.headers.get("content-type"))&&_.setContentType(Q),U.body){const[ze,pe]=B0(D,fc(F0(k)));m=V0(U.body,$0,ze,pe)}}A.isString(S)||(S=S?"include":"omit");const M=r&&"credentials"in s.prototype,$={...T,signal:E,method:x.toUpperCase(),headers:_.normalize().toJSON(),body:m,duplex:"half",credentials:M?S:void 0};O=r&&new s(v,$);let L=await(r?P(O,T):P(v,$));const z=u&&(C==="stream"||C==="response");if(u&&(j||z&&F)){const U={};["status","statusText","headers"].forEach(nt=>{U[nt]=L[nt]});const Q=A.toFiniteNumber(L.headers.get("content-length")),[ze,pe]=j&&B0(Q,fc(F0(j),!0))||[];L=new n(V0(L.body,$0,ze,()=>{pe&&pe(),F&&F()}),U)}C=C||"text";let K=await h[A.findKey(h,C)||"text"](L,g);return!z&&F&&F(),await new Promise((U,Q)=>{w1(U,Q,{data:K,headers:vt.from(L.headers),status:L.status,statusText:L.statusText,config:g,request:O})})}catch(M){throw F&&F(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,g,O,M&&M.response),{cause:M.cause||M}):G.from(M,M&&M.code,g,O,M&&M.response)}}},UC=new Map,S1=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:i}=t,r=[n,i,s];let o=r.length,l=o,c,d,u=UC;for(;l--;)c=r[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:$C(t)),u=d;return d};S1();const vp={http:oC,xhr:OC,fetch:{get:S1}};A.forEach(vp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const q0=e=>`- ${e}`,HC=e=>A.isFunction(e)||e===null||e===!1;function WC(e,t){e=A.isArray(e)?e:[e];const{length:s}=e;let n,i;const r={};for(let o=0;o<s;o++){n=e[o];let l;if(i=n,!HC(n)&&(i=vp[(l=String(n)).toLowerCase()],i===void 0))throw new G(`Unknown adapter '${l}'`);if(i&&(A.isFunction(i)||(i=i.get(t))))break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(q0).join(`
`):" "+q0(o[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const k1={getAdapter:WC,adapters:vp};function su(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new da(null,e)}function K0(e){return su(e),e.headers=vt.from(e.headers),e.data=tu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),k1.getAdapter(e.adapter||ca.adapter,e)(e).then(function(n){return su(e),n.data=tu.call(e,e.transformResponse,n),n.headers=vt.from(n.headers),n},function(n){return b1(n)||(su(e),n&&n.response&&(n.response.data=tu.call(e,e.transformResponse,n.response),n.response.headers=vt.from(n.response.headers))),Promise.reject(n)})}const _1="1.13.5",sd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Y0={};sd.transitional=function(t,s,n){function i(r,o){return"[Axios v"+_1+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,l)=>{if(t===!1)throw new G(i(o," has been removed"+(s?" in "+s:"")),G.ERR_DEPRECATED);return s&&!Y0[o]&&(Y0[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(r,o,l):!0}};sd.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function qC(e,t,s){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const r=n[i],o=t[r];if(o){const l=e[r],c=l===void 0||o(l,r,e);if(c!==!0)throw new G("option "+r+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new G("Unknown option "+r,G.ERR_BAD_OPTION)}}const kl={assertOptions:qC,validators:sd},Et=kl.validators;let ri=class{constructor(t){this.defaults=t||{},this.interceptors={request:new O0,response:new O0}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=gi(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:r}=s;n!==void 0&&kl.assertOptions(n,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean),legacyInterceptorReqResOrdering:Et.transitional(Et.boolean)},!1),i!=null&&(A.isFunction(i)?s.paramsSerializer={serialize:i}:kl.assertOptions(i,{encode:Et.function,serialize:Et.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),kl.assertOptions(s,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=r&&A.merge(r.common,r[s.method]);r&&A.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),s.headers=vt.concat(o,r);const l=[];let c=!0;this.interceptors.request.forEach(function(v){if(typeof v.runWhen=="function"&&v.runWhen(s)===!1)return;c=c&&v.synchronous;const x=s.transitional||xp;x&&x.legacyInterceptorReqResOrdering?l.unshift(v.fulfilled,v.rejected):l.push(v.fulfilled,v.rejected)});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,h=0,f;if(!c){const g=[K0.bind(this),void 0];for(g.unshift(...l),g.push(...d),f=g.length,u=Promise.resolve(s);h<f;)u=u.then(g[h++],g[h++]);return u}f=l.length;let p=s;for(;h<f;){const g=l[h++],v=l[h++];try{p=g(p)}catch(x){v.call(this,x);break}}try{u=K0.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=gi(this.defaults,t);const s=j1(t.baseURL,t.url,t.allowAbsoluteUrls);return y1(s,t.params,t.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(t){ri.prototype[t]=function(s,n){return this.request(gi(n||{},{method:t,url:s,data:(n||{}).data}))}});A.forEach(["post","put","patch"],function(t){function s(n){return function(r,o,l){return this.request(gi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}ri.prototype[t]=s(),ri.prototype[t+"Form"]=s(!0)});let KC=class C1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(l=>{n.subscribe(l),r=l}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,l){n.reason||(n.reason=new da(r,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new C1(function(i){t=i}),cancel:t}}};function YC(e){return function(s){return e.apply(null,s)}}function GC(e){return A.isObject(e)&&e.isAxiosError===!0}const Oh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Oh).forEach(([e,t])=>{Oh[t]=e});function P1(e){const t=new ri(e),s=a1(ri.prototype.request,t);return A.extend(s,ri.prototype,t,{allOwnKeys:!0}),A.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return P1(gi(e,i))},s}const Pe=P1(ca);Pe.Axios=ri;Pe.CanceledError=da;Pe.CancelToken=KC;Pe.isCancel=b1;Pe.VERSION=_1;Pe.toFormData=td;Pe.AxiosError=G;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=YC;Pe.isAxiosError=GC;Pe.mergeConfig=gi;Pe.AxiosHeaders=vt;Pe.formToJSON=e=>v1(A.isHTMLForm(e)?new FormData(e):e);Pe.getAdapter=k1.getAdapter;Pe.HttpStatusCode=Oh;Pe.default=Pe;const{Axios:eO,AxiosError:tO,CanceledError:sO,isCancel:nO,CancelToken:iO,VERSION:rO,all:oO,Cancel:aO,isAxiosError:lO,spread:cO,toFormData:dO,AxiosHeaders:uO,HttpStatusCode:hO,formToJSON:fO,getAdapter:pO,mergeConfig:mO}=Pe,I=Pe.create({baseURL:"http://localhost:5000/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),T1=N.createContext(),Te=()=>N.useContext(T1),XC=({children:e})=>{const[t,s]=N.useState(null),[n,i]=N.useState(!0);N.useEffect(()=>{r()},[]);const r=async()=>{try{const{data:u}=await I.get("/users/profile");s(u)}catch{s(null)}finally{i(!1)}},o=async(u,h)=>{const{data:f}=await I.post("/users/login",{email:u,password:h});return s(f),f},l=async u=>{const{data:h}=await I.post("/users/register",u);return s(h),h},c=async()=>{await I.post("/users/logout"),s(null)},d=u=>{s(h=>({...h,...u}))};return a.jsx(T1.Provider,{value:{user:t,login:o,register:l,logout:c,loading:n,updateUser:d},children:!n&&e})},E1=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),nd=N.createContext({}),id=N.createContext(null),rd=typeof document<"u",bp=rd?N.useLayoutEffect:N.useEffect,A1=N.createContext({strict:!1}),wp=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),QC="framerAppearId",D1="data-"+wp(QC);function JC(e,t,s,n){const{visualElement:i}=N.useContext(nd),r=N.useContext(A1),o=N.useContext(id),l=N.useContext(E1).reducedMotion,c=N.useRef();n=n||r.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;N.useInsertionEffect(()=>{d&&d.update(s,o)});const u=N.useRef(!!(s[D1]&&!window.HandoffComplete));return bp(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),N.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function Wi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZC(e,t,s){return N.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Wi(s)&&(s.current=n))},[t])}function $o(e){return typeof e=="string"||Array.isArray(e)}function od(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const jp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Np=["initial",...jp];function ad(e){return od(e.animate)||Np.some(t=>$o(e[t]))}function R1(e){return!!(ad(e)||e.variants)}function e5(e,t){if(ad(e)){const{initial:s,animate:n}=e;return{initial:s===!1||$o(s)?s:void 0,animate:$o(n)?n:void 0}}return e.inherit!==!1?t:{}}function t5(e){const{initial:t,animate:s}=e5(e,N.useContext(nd));return N.useMemo(()=>({initial:t,animate:s}),[G0(t),G0(s)])}function G0(e){return Array.isArray(e)?e.join(" "):e}const X0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const e in X0)Uo[e]={isEnabled:t=>X0[e].some(s=>!!t[s])};function s5(e){for(const t in e)Uo[t]={...Uo[t],...e[t]}}const Sp=N.createContext({}),M1=N.createContext({}),n5=Symbol.for("motionComponentSymbol");function i5({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){e&&s5(e);function r(l,c){let d;const u={...N.useContext(E1),...l,layoutId:r5(l)},{isStatic:h}=u,f=t5(l),p=n(l,h);if(!h&&rd){f.visualElement=JC(i,p,u,t);const g=N.useContext(M1),v=N.useContext(A1).strict;f.visualElement&&(d=f.visualElement.loadFeatures(u,v,e,g))}return N.createElement(nd.Provider,{value:f},d&&f.visualElement?N.createElement(d,{visualElement:f.visualElement,...u}):null,s(i,l,ZC(p,f.visualElement,c),p,h,f.visualElement))}const o=N.forwardRef(r);return o[n5]=i,o}function r5({layoutId:e}){const t=N.useContext(Sp).id;return t&&e!==void 0?t+"-"+e:e}function o5(e){function t(n,i={}){return i5(e(n,i))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,i)=>(s.has(i)||s.set(i,t(i)),s.get(i))})}const a5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kp(e){return typeof e!="string"||e.includes("-")?!1:!!(a5.indexOf(e)>-1||/[A-Z]/.test(e))}const pc={};function l5(e){Object.assign(pc,e)}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_i=new Set(ua);function L1(e,{layout:t,layoutId:s}){return _i.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!pc[e]||e==="opacity")}const bt=e=>!!(e&&e.getVelocity),c5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d5=ua.length;function u5(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,i){let r="";for(let o=0;o<d5;o++){const l=ua[o];if(e[l]!==void 0){const c=c5[l]||l;r+=`${c}(${e[l]}) `}}return t&&!e.z&&(r+="translateZ(0)"),r=r.trim(),i?r=i(e,n?"":r):s&&n&&(r="none"),r}const O1=e=>t=>typeof t=="string"&&t.startsWith(e),I1=O1("--"),Ih=O1("var(--"),h5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,f5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Nn=(e,t,s)=>Math.min(Math.max(s,e),t),Ci={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},po={...Ci,transform:e=>Nn(0,1,e)},za={...Ci,default:1},mo=e=>Math.round(e*1e5)/1e5,ld=/(-)?([\d]*\.?[\d])+/g,B1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,p5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ha(e){return typeof e=="string"}const fa=e=>({test:t=>ha(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ys=fa("deg"),ms=fa("%"),Y=fa("px"),m5=fa("vh"),g5=fa("vw"),Q0={...ms,parse:e=>ms.parse(e)/100,transform:e=>ms.transform(e*100)},J0={...Ci,transform:Math.round},F1={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:Ys,rotateX:Ys,rotateY:Ys,rotateZ:Ys,scale:za,scaleX:za,scaleY:za,scaleZ:za,skew:Ys,skewX:Ys,skewY:Ys,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:po,originX:Q0,originY:Q0,originZ:Y,zIndex:J0,fillOpacity:po,strokeOpacity:po,numOctaves:J0};function _p(e,t,s,n){const{style:i,vars:r,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const f=t[h];if(I1(h)){r[h]=f;continue}const p=F1[h],g=f5(f,p);if(_i.has(h)){if(c=!0,o[h]=g,!u)continue;f!==(p.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=g):i[h]=g}if(t.transform||(c||n?i.transform=u5(e.transform,s,u,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${h} ${f} ${p}`}}const Cp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function z1(e,t,s){for(const n in t)!bt(t[n])&&!L1(n,s)&&(e[n]=t[n])}function x5({transformTemplate:e},t,s){return N.useMemo(()=>{const n=Cp();return _p(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function y5(e,t,s){const n=e.style||{},i={};return z1(i,n,e),Object.assign(i,x5(e,t,s)),e.transformValues?e.transformValues(i):i}function v5(e,t,s){const n={},i=y5(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const b5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||b5.has(e)}let V1=e=>!mc(e);function w5(e){e&&(V1=t=>t.startsWith("on")?!mc(t):e(t))}try{w5(require("@emotion/is-prop-valid").default)}catch{}function j5(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(V1(i)||s===!0&&mc(i)||!t&&!mc(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Z0(e,t,s){return typeof e=="string"?e:Y.transform(t+s*e)}function N5(e,t,s){const n=Z0(t,e.x,e.width),i=Z0(s,e.y,e.height);return`${n} ${i}`}const S5={offset:"stroke-dashoffset",array:"stroke-dasharray"},k5={offset:"strokeDashoffset",array:"strokeDasharray"};function _5(e,t,s=1,n=0,i=!0){e.pathLength=1;const r=i?S5:k5;e[r.offset]=Y.transform(-n);const o=Y.transform(t),l=Y.transform(s);e[r.array]=`${o} ${l}`}function Pp(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:r,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h,f){if(_p(e,d,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:v}=e;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||r!==void 0||g.transform)&&(g.transformOrigin=N5(v,i!==void 0?i:.5,r!==void 0?r:.5)),t!==void 0&&(p.x=t),s!==void 0&&(p.y=s),n!==void 0&&(p.scale=n),o!==void 0&&_5(p,o,l,c,!1)}const $1=()=>({...Cp(),attrs:{}}),Tp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C5(e,t,s,n){const i=N.useMemo(()=>{const r=$1();return Pp(r,t,{enableHardwareAcceleration:!1},Tp(n),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};z1(r,e.style,e),i.style={...r,...i.style}}return i}function P5(e=!1){return(s,n,i,{latestValues:r},o)=>{const c=(kp(s)?C5:v5)(n,r,o,s),u={...j5(n,typeof s=="string",e),...c,ref:i},{children:h}=n,f=N.useMemo(()=>bt(h)?h.get():h,[h]);return N.createElement(s,{...u,children:f})}}function U1(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const r in s)e.style.setProperty(r,s[r])}const H1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function W1(e,t,s,n){U1(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(H1.has(i)?i:wp(i),t.attrs[i])}function Ep(e,t){const{style:s}=e,n={};for(const i in s)(bt(s[i])||t.style&&bt(t.style[i])||L1(i,e))&&(n[i]=s[i]);return n}function q1(e,t){const s=Ep(e,t);for(const n in e)if(bt(e[n])||bt(t[n])){const i=ua.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[i]=e[n]}return s}function Ap(e,t,s,n={},i={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,i)),t}function K1(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const gc=e=>Array.isArray(e),T5=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),E5=e=>gc(e)?e[e.length-1]||0:e;function _l(e){const t=bt(e)?e.get():e;return T5(t)?t.toValue():t}function A5({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,i,r){const o={latestValues:D5(n,i,r,e),renderState:t()};return s&&(o.mount=l=>s(n,l,o)),o}const Y1=e=>(t,s)=>{const n=N.useContext(nd),i=N.useContext(id),r=()=>A5(e,t,n,i);return s?r():K1(r)};function D5(e,t,s,n){const i={},r=n(e,{});for(const f in r)i[f]=_l(r[f]);let{initial:o,animate:l}=e;const c=ad(e),d=R1(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!od(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=Ap(e,p);if(!g)return;const{transitionEnd:v,transition:x,...m}=g;for(const y in m){let b=m[y];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(i[y]=b)}for(const y in v)i[y]=v[y]}),i}const _e=e=>e;class eg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function R5(e){let t=new eg,s=new eg,n=0,i=!1,r=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&i,f=h?t:s;return d&&o.add(c),f.add(c)&&h&&i&&(n=t.order.length),c},cancel:c=>{s.remove(c),o.delete(c)},process:c=>{if(i){r=!0;return}if(i=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}i=!1,r&&(r=!1,l.process(c))}};return l}const Va=["prepare","read","update","preRender","render","postRender"],M5=40;function L5(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=Va.reduce((h,f)=>(h[f]=R5(()=>s=!0),h),{}),o=h=>r[h].process(i),l=()=>{const h=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(h-i.timestamp,M5),1),i.timestamp=h,i.isProcessing=!0,Va.forEach(o),i.isProcessing=!1,s&&t&&(n=!1,e(l))},c=()=>{s=!0,n=!0,i.isProcessing||e(l)};return{schedule:Va.reduce((h,f)=>{const p=r[f];return h[f]=(g,v=!1,x=!1)=>(s||c(),p.schedule(g,v,x)),h},{}),cancel:h=>Va.forEach(f=>r[f].cancel(h)),state:i,steps:r}}const{schedule:ce,cancel:Bs,state:Ye,steps:nu}=L5(typeof requestAnimationFrame<"u"?requestAnimationFrame:_e,!0),O5={useVisualState:Y1({scrapeMotionValuesFromProps:q1,createRenderState:$1,onMount:(e,t,{renderState:s,latestValues:n})=>{ce.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ce.render(()=>{Pp(s,n,{enableHardwareAcceleration:!1},Tp(t.tagName),e.transformTemplate),W1(t,s)})}})},I5={useVisualState:Y1({scrapeMotionValuesFromProps:Ep,createRenderState:Cp})};function B5(e,{forwardMotionProps:t=!1},s,n){return{...kp(e)?O5:I5,preloadedFeatures:s,useRender:P5(t),createVisualElement:n,Component:e}}function Ps(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const G1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function cd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const F5=e=>t=>G1(t)&&e(t,cd(t));function Ds(e,t,s,n){return Ps(e,t,F5(s),n)}const z5=(e,t)=>s=>t(e(s)),yn=(...e)=>e.reduce(z5);function X1(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const tg=X1("dragHorizontal"),sg=X1("dragVertical");function Q1(e){let t=!1;if(e==="y")t=sg();else if(e==="x")t=tg();else{const s=tg(),n=sg();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function J1(){const e=Q1(!0);return e?(e(),!1):!0}class Tn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ng(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(r,o)=>{if(r.pointerType==="touch"||J1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ce.update(()=>l[n](r,o))};return Ds(e.current,s,i,{passive:!e.getProps()[n]})}class V5 extends Tn{mount(){this.unmount=yn(ng(this.node,!0),ng(this.node,!1))}unmount(){}}class $5 extends Tn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yn(Ps(this.node.current,"focus",()=>this.onFocus()),Ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Z1=(e,t)=>t?e===t?!0:Z1(e,t.parentElement):!1;function iu(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,cd(s))}class U5 extends Tn{constructor(){super(...arguments),this.removeStartListeners=_e,this.removeEndListeners=_e,this.removeAccessibleListeners=_e,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Ds(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();ce.update(()=>{!h&&!Z1(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ds(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=yn(r,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=r=>{if(r.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||iu("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&ce.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Ps(this.node.current,"keyup",o),iu("down",(l,c)=>{this.startPress(l,c)})},s=Ps(this.node.current,"keydown",t),n=()=>{this.isPressing&&iu("cancel",(r,o)=>this.cancelPress(r,o))},i=Ps(this.node.current,"blur",n);this.removeAccessibleListeners=yn(s,i)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ce.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!J1()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ce.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=Ds(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ps(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yn(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Bh=new WeakMap,ru=new WeakMap,H5=e=>{const t=Bh.get(e.target);t&&t(e)},W5=e=>{e.forEach(H5)};function q5({root:e,...t}){const s=e||document;ru.has(s)||ru.set(s,{});const n=ru.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(W5,{root:e,...t})),n[i]}function K5(e,t,s){const n=q5(t);return Bh.set(e,s),n.observe(e),()=>{Bh.delete(e),n.unobserve(e)}}const Y5={some:0,all:1};class G5 extends Tn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:r}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Y5[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return K5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(X5(t,s))&&this.startObserver()}unmount(){}}function X5({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Q5={inView:{Feature:G5},tap:{Feature:U5},focus:{Feature:$5},hover:{Feature:V5}};function ew(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function J5(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function Z5(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function dd(e,t,s){const n=e.getProps();return Ap(n,t,s!==void 0?s:n.custom,J5(e),Z5(e))}let Dp=_e;const oi=e=>e*1e3,Rs=e=>e/1e3,e4={current:!1},tw=e=>Array.isArray(e)&&typeof e[0]=="number";function sw(e){return!!(!e||typeof e=="string"&&nw[e]||tw(e)||Array.isArray(e)&&e.every(sw))}const Gr=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gr([0,.65,.55,1]),circOut:Gr([.55,0,1,.45]),backIn:Gr([.31,.01,.66,-.59]),backOut:Gr([.33,1.53,.69,.99])};function iw(e){if(e)return tw(e)?Gr(e):Array.isArray(e)?e.map(iw):nw[e]}function t4(e,t,s,{delay:n=0,duration:i,repeat:r=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=iw(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}function s4(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const rw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,n4=1e-7,i4=12;function r4(e,t,s,n,i){let r,o,l=0;do o=t+(s-t)/2,r=rw(o,n,i)-e,r>0?s=o:t=o;while(Math.abs(r)>n4&&++l<i4);return o}function pa(e,t,s,n){if(e===t&&s===n)return _e;const i=r=>r4(r,0,1,e,s);return r=>r===0||r===1?r:rw(i(r),t,n)}const o4=pa(.42,0,1,1),a4=pa(0,0,.58,1),ow=pa(.42,0,.58,1),l4=e=>Array.isArray(e)&&typeof e[0]!="number",aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lw=e=>t=>1-e(1-t),Rp=e=>1-Math.sin(Math.acos(e)),cw=lw(Rp),c4=aw(Rp),dw=pa(.33,1.53,.69,.99),Mp=lw(dw),d4=aw(Mp),u4=e=>(e*=2)<1?.5*Mp(e):.5*(2-Math.pow(2,-10*(e-1))),h4={linear:_e,easeIn:o4,easeInOut:ow,easeOut:a4,circIn:Rp,circInOut:c4,circOut:cw,backIn:Mp,backInOut:d4,backOut:dw,anticipate:u4},ig=e=>{if(Array.isArray(e)){Dp(e.length===4);const[t,s,n,i]=e;return pa(t,s,n,i)}else if(typeof e=="string")return h4[e];return e},Lp=(e,t)=>s=>!!(ha(s)&&p5.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),uw=(e,t,s)=>n=>{if(!ha(n))return n;const[i,r,o,l]=n.match(ld);return{[e]:parseFloat(i),[t]:parseFloat(r),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},f4=e=>Nn(0,255,e),ou={...Ci,transform:e=>Math.round(f4(e))},ei={test:Lp("rgb","red"),parse:uw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+ou.transform(e)+", "+ou.transform(t)+", "+ou.transform(s)+", "+mo(po.transform(n))+")"};function p4(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Fh={test:Lp("#"),parse:p4,transform:ei.transform},qi={test:Lp("hsl","hue"),parse:uw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+ms.transform(mo(t))+", "+ms.transform(mo(s))+", "+mo(po.transform(n))+")"},it={test:e=>ei.test(e)||Fh.test(e)||qi.test(e),parse:e=>ei.test(e)?ei.parse(e):qi.test(e)?qi.parse(e):Fh.parse(e),transform:e=>ha(e)?e:e.hasOwnProperty("red")?ei.transform(e):qi.transform(e)},ge=(e,t,s)=>-s*e+s*t+e;function au(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function m4({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,r=0,o=0;if(!t)i=r=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=au(c,l,e+1/3),r=au(c,l,e),o=au(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:n}}const lu=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},g4=[Fh,ei,qi],x4=e=>g4.find(t=>t.test(e));function rg(e){const t=x4(e);let s=t.parse(e);return t===qi&&(s=m4(s)),s}const hw=(e,t)=>{const s=rg(e),n=rg(t),i={...s};return r=>(i.red=lu(s.red,n.red,r),i.green=lu(s.green,n.green,r),i.blue=lu(s.blue,n.blue,r),i.alpha=ge(s.alpha,n.alpha,r),ei.transform(i))};function y4(e){var t,s;return isNaN(e)&&ha(e)&&(((t=e.match(ld))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(B1))===null||s===void 0?void 0:s.length)||0)>0}const fw={regex:h5,countKey:"Vars",token:"${v}",parse:_e},pw={regex:B1,countKey:"Colors",token:"${c}",parse:it.parse},mw={regex:ld,countKey:"Numbers",token:"${n}",parse:Ci.parse};function cu(e,{regex:t,countKey:s,token:n,parse:i}){const r=e.tokenised.match(t);r&&(e["num"+s]=r.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...r.map(i)))}function xc(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&cu(s,fw),cu(s,pw),cu(s,mw),s}function gw(e){return xc(e).values}function xw(e){const{values:t,numColors:s,numVars:n,tokenised:i}=xc(e),r=t.length;return o=>{let l=i;for(let c=0;c<r;c++)c<n?l=l.replace(fw.token,o[c]):c<n+s?l=l.replace(pw.token,it.transform(o[c])):l=l.replace(mw.token,mo(o[c]));return l}}const v4=e=>typeof e=="number"?0:e;function b4(e){const t=gw(e);return xw(e)(t.map(v4))}const Sn={test:y4,parse:gw,createTransformer:xw,getAnimatableNone:b4},yw=(e,t)=>s=>`${s>0?t:e}`;function vw(e,t){return typeof e=="number"?s=>ge(e,t,s):it.test(e)?hw(e,t):e.startsWith("var(")?yw(e,t):ww(e,t)}const bw=(e,t)=>{const s=[...e],n=s.length,i=e.map((r,o)=>vw(r,t[o]));return r=>{for(let o=0;o<n;o++)s[o]=i[o](r);return s}},w4=(e,t)=>{const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=vw(e[i],t[i]));return i=>{for(const r in n)s[r]=n[r](i);return s}},ww=(e,t)=>{const s=Sn.createTransformer(t),n=xc(e),i=xc(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?yn(bw(n.values,i.values),s):yw(e,t)},Ho=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},og=(e,t)=>s=>ge(e,t,s);function j4(e){return typeof e=="number"?og:typeof e=="string"?it.test(e)?hw:ww:Array.isArray(e)?bw:typeof e=="object"?w4:og}function N4(e,t,s){const n=[],i=s||j4(e[0]),r=e.length-1;for(let o=0;o<r;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||_e:t;l=yn(c,l)}n.push(l)}return n}function jw(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const r=e.length;if(Dp(r===t.length),r===1)return()=>t[0];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=N4(t,n,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Ho(e[u],e[u+1],d);return o[u](h)};return s?d=>c(Nn(e[0],e[r-1],d)):c}function S4(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Ho(0,t,n);e.push(ge(s,1,i))}}function k4(e){const t=[0];return S4(t,e.length-1),t}function _4(e,t){return e.map(s=>s*t)}function C4(e,t){return e.map(()=>t||ow).splice(0,e.length-1)}function yc({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=l4(n)?n.map(ig):ig(n),r={done:!1,value:t[0]},o=_4(s&&s.length===t.length?s:k4(t),e),l=jw(o,t,{ease:Array.isArray(i)?i:C4(t,i)});return{calculatedDuration:e,next:c=>(r.value=l(c),r.done=c>=e,r)}}function Nw(e,t){return t?e*(1e3/t):0}const P4=5;function Sw(e,t,s){const n=Math.max(t-P4,0);return Nw(s-e(n),t-n)}const du=.001,T4=.01,E4=10,A4=.05,D4=1;function R4({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let i,r,o=1-t;o=Nn(A4,D4,o),e=Nn(T4,E4,Rs(e)),o<1?(i=d=>{const u=d*o,h=u*e,f=u-s,p=zh(d,o),g=Math.exp(-h);return du-f/p*g},r=d=>{const h=d*o*e,f=h*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),v=zh(Math.pow(d,2),o);return(-i(d)+du>0?-1:1)*((f-p)*g)/v}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-du+u*h},r=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=L4(i,r,l);if(e=oi(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const M4=12;function L4(e,t,s){let n=s;for(let i=1;i<M4;i++)n=n-e(n)/t(n);return n}function zh(e,t){return e*Math.sqrt(1-t*t)}const O4=["duration","bounce"],I4=["stiffness","damping","mass"];function ag(e,t){return t.some(s=>e[s]!==void 0)}function B4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ag(e,I4)&&ag(e,O4)){const s=R4(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function kw({keyframes:e,restDelta:t,restSpeed:s,...n}){const i=e[0],r=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:f}=B4({...n,velocity:-Rs(n.velocity||0)}),p=h||0,g=c/(2*Math.sqrt(l*d)),v=r-i,x=Rs(Math.sqrt(l/d)),m=Math.abs(v)<5;s||(s=m?.01:2),t||(t=m?.005:.5);let y;if(g<1){const b=zh(x,g);y=w=>{const j=Math.exp(-g*x*w);return r-j*((p+g*x*v)/b*Math.sin(b*w)+v*Math.cos(b*w))}}else if(g===1)y=b=>r-Math.exp(-x*b)*(v+(p+x*v)*b);else{const b=x*Math.sqrt(g*g-1);y=w=>{const j=Math.exp(-g*x*w),k=Math.min(b*w,300);return r-j*((p+g*x*v)*Math.sinh(k)+b*v*Math.cosh(k))/b}}return{calculatedDuration:f&&u||null,next:b=>{const w=y(b);if(f)o.done=b>=u;else{let j=p;b!==0&&(g<1?j=Sw(y,b,w):j=0);const k=Math.abs(j)<=s,C=Math.abs(r-w)<=t;o.done=k&&C}return o.value=o.done?r:w,o}}}function lg({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let v=s*t;const x=h+v,m=o===void 0?x:o(x);m!==x&&(v=m-h);const y=_=>-v*Math.exp(-_/n),b=_=>m+y(_),w=_=>{const S=y(_),T=b(_);f.done=Math.abs(S)<=d,f.value=f.done?m:T};let j,k;const C=_=>{p(f.value)&&(j=_,k=kw({keyframes:[f.value,g(f.value)],velocity:Sw(b,_,f.value),damping:i,stiffness:r,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:_=>{let S=!1;return!k&&j===void 0&&(S=!0,w(_),C(_)),j!==void 0&&_>j?k.next(_-j):(!S&&w(_),f)}}}const F4=e=>{const t=({timestamp:s})=>e(s);return{start:()=>ce.update(t,!0),stop:()=>Bs(t),now:()=>Ye.isProcessing?Ye.timestamp:performance.now()}},cg=2e4;function dg(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<cg;)t+=s,n=e.next(t);return t>=cg?1/0:t}const z4={decay:lg,inertia:lg,tween:yc,keyframes:yc,spring:kw};function vc({autoplay:e=!0,delay:t=0,driver:s=F4,keyframes:n,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...f}){let p=1,g=!1,v,x;const m=()=>{x=new Promise(U=>{v=U})};m();let y;const b=z4[i]||yc;let w;b!==yc&&typeof n[0]!="number"&&(w=jw([0,100],n,{clamp:!1}),n=[0,100]);const j=b({...f,keyframes:n});let k;l==="mirror"&&(k=b({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let C="idle",_=null,S=null,T=null;j.calculatedDuration===null&&r&&(j.calculatedDuration=dg(j));const{calculatedDuration:P}=j;let E=1/0,O=1/0;P!==null&&(E=P+o,O=E*(r+1)-o);let F=0;const D=U=>{if(S===null)return;p>0&&(S=Math.min(S,U)),p<0&&(S=Math.min(U-O/p,S)),_!==null?F=_:F=Math.round(U-S)*p;const Q=F-t*(p>=0?1:-1),ze=p>=0?Q<0:Q>O;F=Math.max(Q,0),C==="finished"&&_===null&&(F=O);let pe=F,nt=j;if(r){const Nd=Math.min(F,O)/E;let va=Math.floor(Nd),Dn=Nd%1;!Dn&&Nd>=1&&(Dn=1),Dn===1&&va--,va=Math.min(va,r+1),!!(va%2)&&(l==="reverse"?(Dn=1-Dn,o&&(Dn-=o/E)):l==="mirror"&&(nt=k)),pe=Nn(0,1,Dn)*E}const Se=ze?{done:!1,value:n[0]}:nt.next(pe);w&&(Se.value=w(Se.value));let{done:An}=Se;!ze&&P!==null&&(An=p>=0?F>=O:F<=0);const Ej=_===null&&(C==="finished"||C==="running"&&An);return h&&h(Se.value),Ej&&L(),Se},M=()=>{y&&y.stop(),y=void 0},$=()=>{C="idle",M(),v(),m(),S=T=null},L=()=>{C="finished",u&&u(),M(),v()},z=()=>{if(g)return;y||(y=s(D));const U=y.now();c&&c(),_!==null?S=U-_:(!S||C==="finished")&&(S=U),C==="finished"&&m(),T=S,_=null,C="running",y.start()};e&&z();const K={then(U,Q){return x.then(U,Q)},get time(){return Rs(F)},set time(U){U=oi(U),F=U,_!==null||!y||p===0?_=U:S=y.now()-U/p},get duration(){const U=j.calculatedDuration===null?dg(j):j.calculatedDuration;return Rs(U)},get speed(){return p},set speed(U){U===p||!y||(p=U,K.time=Rs(F))},get state(){return C},play:z,pause:()=>{C="paused",_=F},stop:()=>{g=!0,C!=="idle"&&(C="idle",d&&d(),$())},cancel:()=>{T!==null&&D(T),$()},complete:()=>{C="finished"},sample:U=>(S=0,D(U))};return K}function V4(e){let t;return()=>(t===void 0&&(t=e()),t)}const $4=V4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),U4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$a=10,H4=2e4,W4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!sw(t.ease);function q4(e,t,{onUpdate:s,onComplete:n,...i}){if(!($4()&&U4.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(b=>{l=b})};u();let{keyframes:h,duration:f=300,ease:p,times:g}=i;if(W4(t,i)){const b=vc({...i,repeat:0,delay:0});let w={done:!1,value:h[0]};const j=[];let k=0;for(;!w.done&&k<H4;)w=b.sample(k),j.push(w.value),k+=$a;g=void 0,h=j,f=k-$a,p="linear"}const v=t4(e.owner.current,t,h,{...i,duration:f,ease:p,times:g}),x=()=>{d=!1,v.cancel()},m=()=>{d=!0,ce.update(x),l(),u()};return v.onfinish=()=>{d||(e.set(s4(h,i)),n&&n(),m())},{then(b,w){return c.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,_e},get time(){return Rs(v.currentTime||0)},set time(b){v.currentTime=oi(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return Rs(f)},play:()=>{o||(v.play(),Bs(x))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=vc({...i,autoplay:!1});e.setWithVelocity(w.sample(b-$a).value,w.sample(b).value,$a)}m()},complete:()=>{d||v.finish()},cancel:m}}function K4({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const i=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:_e,pause:_e,stop:_e,then:r=>(r(),Promise.resolve()),cancel:_e,complete:_e});return t?vc({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Y4={type:"spring",stiffness:500,damping:25,restSpeed:10},G4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),X4={type:"keyframes",duration:.8},Q4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J4=(e,{keyframes:t})=>t.length>2?X4:_i.has(e)?e.startsWith("scale")?G4(t[1]):Y4:Q4,Vh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sn.test(t)||t==="0")&&!t.startsWith("url(")),Z4=new Set(["brightness","contrast","saturate","opacity"]);function eP(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(ld)||[];if(!n)return e;const i=s.replace(n,"");let r=Z4.has(t)?1:0;return n!==s&&(r*=100),t+"("+r+i+")"}const tP=/([a-z-]*)\(.*?\)/g,$h={...Sn,getAnimatableNone:e=>{const t=e.match(tP);return t?t.map(eP).join(" "):e}},sP={...F1,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:$h,WebkitFilter:$h},Op=e=>sP[e];function _w(e,t){let s=Op(e);return s!==$h&&(s=Sn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Cw=e=>/^0[^.\s]+$/.test(e);function nP(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Cw(e)}function iP(e,t,s,n){const i=Vh(t,s);let r;Array.isArray(s)?r=[...s]:r=[null,s];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let d=0;d<r.length;d++)r[d]===null&&(r[d]=d===0?o:r[d-1]),nP(r[d])&&c.push(d),typeof r[d]=="string"&&r[d]!=="none"&&r[d]!=="0"&&(l=r[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];r[u]=_w(t,l)}return r}function rP({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function Ip(e,t){return e[t]||e.default||e}const oP={skipAnimations:!1},Bp=(e,t,s,n={})=>i=>{const r=Ip(n,e)||{},o=r.delay||n.delay||0;let{elapsed:l=0}=n;l=l-oi(o);const c=iP(t,e,s,r),d=c[0],u=c[c.length-1],h=Vh(e,d),f=Vh(e,u);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...r,delay:-l,onUpdate:g=>{t.set(g),r.onUpdate&&r.onUpdate(g)},onComplete:()=>{i(),r.onComplete&&r.onComplete()}};if(rP(r)||(p={...p,...J4(e,p)}),p.duration&&(p.duration=oi(p.duration)),p.repeatDelay&&(p.repeatDelay=oi(p.repeatDelay)),!h||!f||e4.current||r.type===!1||oP.skipAnimations)return K4(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=q4(t,e,p);if(g)return g}return vc(p)};function bc(e){return!!(bt(e)&&e.add)}const Pw=e=>/^\-?\d*\.?\d+$/.test(e);function Fp(e,t){e.indexOf(t)===-1&&e.push(t)}function zp(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Vp{constructor(){this.subscriptions=[]}add(t){return Fp(this.subscriptions,t),()=>zp(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aP=e=>!isNaN(parseFloat(e));class lP{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:r,timestamp:o}=Ye;this.lastUpdated!==o&&(this.timeDelta=r,this.lastUpdated=o,ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aP(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Vp);const n=this.events[t].add(s);return t==="change"?()=>{n(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Nw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hr(e,t){return new lP(e,t)}const Tw=e=>t=>t.test(e),cP={test:e=>e==="auto",parse:e=>e},Ew=[Ci,Y,ms,Ys,g5,m5,cP],Or=e=>Ew.find(Tw(e)),dP=[...Ew,it,Sn],uP=e=>dP.find(Tw(e));function hP(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,hr(s))}function fP(e,t){const s=dd(e,t);let{transitionEnd:n={},transition:i={},...r}=s?e.makeTargetAnimatable(s,!1):{};r={...r,...n};for(const o in r){const l=E5(r[o]);hP(e,o,l)}}function pP(e,t,s){var n,i;const r=Object.keys(t).filter(l=>!e.hasValue(l)),o=r.length;if(o)for(let l=0;l<o;l++){const c=r[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(i=(n=s[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&i!==void 0?i:t[c]),u!=null&&(typeof u=="string"&&(Pw(u)||Cw(u))?u=parseFloat(u):!uP(u)&&Sn.test(d)&&(u=_w(c,d)),e.addValue(c,hr(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function mP(e,t){return t?(t[e]||t.default||t).from:void 0}function gP(e,t,s){const n={};for(const i in e){const r=mP(i,t);if(r!==void 0)n[i]=r;else{const o=s.getValue(i);o&&(n[i]=o.get())}}return n}function xP({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function yP(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function Aw(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(r=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const f=e.getValue(h),p=l[h];if(!f||p===void 0||u&&xP(u,h))continue;const g={delay:s,elapsed:0,...Ip(r||{},h)};if(window.HandoffAppearAnimations){const m=e.getProps()[D1];if(m){const y=window.HandoffAppearAnimations(m,h,f,ce);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let v=!g.isHandoff&&!yP(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(Bp(h,f,p,e.shouldReduceMotion&&_i.has(h)?{type:!1}:g));const x=f.animation;bc(c)&&(c.add(h),x.then(()=>c.remove(h))),d.push(x)}return o&&Promise.all(d).then(()=>{o&&fP(e,o)}),d}function Uh(e,t,s={}){const n=dd(e,t,s.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const r=n?()=>Promise.all(Aw(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=i;return vP(e,t,d+c,u,h,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[r,o]:[o,r];return c().then(()=>d())}else return Promise.all([r(),o(s.delay)])}function vP(e,t,s=0,n=0,i=1,r){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(bP).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Uh(d,t,{...r,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function bP(e,t){return e.sortNodePosition(t)}function wP(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(r=>Uh(e,r,s));n=Promise.all(i)}else if(typeof t=="string")n=Uh(e,t,s);else{const i=typeof t=="function"?dd(e,t,s.custom):t;n=Promise.all(Aw(e,i,s))}return n.then(()=>e.notify("AnimationComplete",t))}const jP=[...jp].reverse(),NP=jp.length;function SP(e){return t=>Promise.all(t.map(({animation:s,options:n})=>wP(e,s,n)))}function kP(e){let t=SP(e);const s=CP();let n=!0;const i=(c,d)=>{const u=dd(e,d);if(u){const{transition:h,transitionEnd:f,...p}=u;c={...c,...p,...f}}return c};function r(c){t=c(e)}function o(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let g={},v=1/0;for(let m=0;m<NP;m++){const y=jP[m],b=s[y],w=u[y]!==void 0?u[y]:h[y],j=$o(w),k=y===d?b.isActive:null;k===!1&&(v=m);let C=w===h[y]&&w!==u[y]&&j;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...g},!b.isActive&&k===null||!w&&!b.prevProp||od(w)||typeof w=="boolean")continue;let S=_P(b.prevProp,w)||y===d&&b.isActive&&!C&&j||m>v&&j,T=!1;const P=Array.isArray(w)?w:[w];let E=P.reduce(i,{});k===!1&&(E={});const{prevResolvedValues:O={}}=b,F={...O,...E},D=M=>{S=!0,p.has(M)&&(T=!0,p.delete(M)),b.needsAnimating[M]=!0};for(const M in F){const $=E[M],L=O[M];if(g.hasOwnProperty(M))continue;let z=!1;gc($)&&gc(L)?z=!ew($,L):z=$!==L,z?$!==void 0?D(M):p.add(M):$!==void 0&&p.has(M)?D(M):b.protectedKeys[M]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(g={...g,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!C||T)&&f.push(...P.map(M=>({animation:M,options:{type:y,...c}})))}if(p.size){const m={};p.forEach(y=>{const b=e.getBaseTarget(y);b!==void 0&&(m[y]=b)}),f.push({animation:m})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,d,u){var h;if(s[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),s[c].isActive=d;const f=o(u,c);for(const p in s)s[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>s}}function _P(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ew(t,e):!1}function Rn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CP(){return{animate:Rn(!0),whileInView:Rn(),whileHover:Rn(),whileTap:Rn(),whileDrag:Rn(),whileFocus:Rn(),exit:Rn()}}class PP extends Tn{constructor(t){super(t),t.animationState||(t.animationState=kP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),od(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let TP=0;class EP extends Tn{constructor(){super(...arguments),this.id=TP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&r.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const AP={animation:{Feature:PP},exit:{Feature:EP}},ug=(e,t)=>Math.abs(e-t);function DP(e,t){const s=ug(e.x,t.x),n=ug(e.y,t.y);return Math.sqrt(s**2+n**2)}class Dw{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=hu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=DP(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:v}=Ye;this.history.push({...g,timestamp:v});const{onStart:x,onMove:m}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=uu(f,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=hu(h.type==="pointercancel"?this.lastMoveEventInfo:uu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),g&&g(h,x)},!G1(t))return;this.dragSnapToOrigin=r,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const o=cd(t),l=uu(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ye;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,hu(l,this.history)),this.removeListeners=yn(Ds(this.contextWindow,"pointermove",this.handlePointerMove),Ds(this.contextWindow,"pointerup",this.handlePointerUp),Ds(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function uu(e,t){return t?{point:t(e.point)}:e}function hg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hu({point:e},t){return{point:e,delta:hg(e,Rw(t)),offset:hg(e,RP(t)),velocity:MP(t,.1)}}function RP(e){return e[0]}function Rw(e){return e[e.length-1]}function MP(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=Rw(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>oi(t)));)s--;if(!n)return{x:0,y:0};const r=Rs(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _t(e){return e.max-e.min}function Hh(e,t=0,s=.01){return Math.abs(e-t)<=s}function fg(e,t,s,n=.5){e.origin=n,e.originPoint=ge(t.min,t.max,e.origin),e.scale=_t(s)/_t(t),(Hh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ge(s.min,s.max,e.origin)-e.originPoint,(Hh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function go(e,t,s,n){fg(e.x,t.x,s.x,n?n.originX:void 0),fg(e.y,t.y,s.y,n?n.originY:void 0)}function pg(e,t,s){e.min=s.min+t.min,e.max=e.min+_t(t)}function LP(e,t,s){pg(e.x,t.x,s.x),pg(e.y,t.y,s.y)}function mg(e,t,s){e.min=t.min-s.min,e.max=e.min+_t(t)}function xo(e,t,s){mg(e.x,t.x,s.x),mg(e.y,t.y,s.y)}function OP(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?ge(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?ge(s,e,n.max):Math.min(e,s)),e}function gg(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function IP(e,{top:t,left:s,bottom:n,right:i}){return{x:gg(e.x,s,i),y:gg(e.y,t,n)}}function xg(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function BP(e,t){return{x:xg(e.x,t.x),y:xg(e.y,t.y)}}function FP(e,t){let s=.5;const n=_t(e),i=_t(t);return i>n?s=Ho(t.min,t.max-n,e.min):n>i&&(s=Ho(e.min,e.max-i,t.min)),Nn(0,1,s)}function zP(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Wh=.35;function VP(e=Wh){return e===!1?e=0:e===!0&&(e=Wh),{x:yg(e,"left","right"),y:yg(e,"top","bottom")}}function yg(e,t,s){return{min:vg(e,t),max:vg(e,s)}}function vg(e,t){return typeof e=="number"?e:e[t]||0}const bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ki=()=>({x:bg(),y:bg()}),wg=()=>({min:0,max:0}),Ee=()=>({x:wg(),y:wg()});function Lt(e){return[e("x"),e("y")]}function Mw({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function $P({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UP(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function fu(e){return e===void 0||e===1}function qh({scale:e,scaleX:t,scaleY:s}){return!fu(e)||!fu(t)||!fu(s)}function Hn(e){return qh(e)||Lw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Lw(e){return jg(e.x)||jg(e.y)}function jg(e){return e&&e!=="0%"}function wc(e,t,s){const n=e-s,i=t*n;return s+i}function Ng(e,t,s,n,i){return i!==void 0&&(e=wc(e,i,n)),wc(e,s,n)+t}function Kh(e,t=0,s=1,n,i){e.min=Ng(e.min,t,s,n,i),e.max=Ng(e.max,t,s,n,i)}function Ow(e,{x:t,y:s}){Kh(e.x,t.translate,t.scale,t.originPoint),Kh(e.y,s.translate,s.scale,s.originPoint)}function HP(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let r,o;for(let l=0;l<i;l++){r=s[l],o=r.projectionDelta;const c=r.instance;c&&c.style&&c.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Yi(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ow(e,o)),n&&Hn(r.latestValues)&&Yi(e,r.latestValues))}t.x=Sg(t.x),t.y=Sg(t.y)}function Sg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Qs(e,t){e.min=e.min+t,e.max=e.max+t}function kg(e,t,[s,n,i]){const r=t[i]!==void 0?t[i]:.5,o=ge(e.min,e.max,r);Kh(e,t[s],t[n],o,t.scale)}const WP=["x","scaleX","originX"],qP=["y","scaleY","originY"];function Yi(e,t){kg(e.x,t,WP),kg(e.y,t,qP)}function Iw(e,t){return Mw(UP(e.getBoundingClientRect(),t))}function KP(e,t,s){const n=Iw(e,s),{scroll:i}=t;return i&&(Qs(n.x,i.offset.x),Qs(n.y,i.offset.y)),n}const Bw=({current:e})=>e?e.ownerDocument.defaultView:null,YP=new WeakMap;class GP{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(cd(u,"page").point)},r=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Q1(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lt(x=>{let m=this.getAxisMotionValue(x).get()||0;if(ms.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[x];b&&(m=_t(b)*(parseFloat(m)/100))}}this.originPoint[x]=m}),g&&ce.update(()=>g(u,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=XP(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Lt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Dw(t,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Bw(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&ce.update(()=>r(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!Ua(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=OP(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;s&&Wi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=IP(i.layoutBox,s):this.constraints=!1,this.elastic=VP(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Lt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=zP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Wi(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=KP(n,i.root,this.visualElement.getTransformPagePoint());let o=BP(i.layout.layoutBox,r);if(s){const l=s($P(o));this.hasMutatedConstraints=!!l,l&&(o=Mw(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Lt(u=>{if(!Ua(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(Bp(t,n,0,s))}stopAnimation(){Lt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Lt(s=>{const{drag:n}=this.getProps();if(!Ua(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];r.set(t[s]-ge(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Wi(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Lt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=FP({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lt(o=>{if(!Ua(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ge(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;YP.set(this.visualElement,this);const t=this.visualElement.current,s=Ds(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Wi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Ps(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Lt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),r(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=Wh,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:l}}}function Ua(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function XP(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class QP extends Tn{constructor(t){super(t),this.removeGroupControls=_e,this.removeListeners=_e,this.controls=new GP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_e}unmount(){this.removeGroupControls(),this.removeListeners()}}const _g=e=>(t,s)=>{e&&ce.update(()=>e(t,s))};class JP extends Tn{constructor(){super(...arguments),this.removePointerDownListener=_e}onPointerDown(t){this.session=new Dw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:_g(t),onStart:_g(s),onMove:n,onEnd:(r,o)=>{delete this.session,i&&ce.update(()=>i(r,o))}}}mount(){this.removePointerDownListener=Ds(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ZP(){const e=N.useContext(id);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,i=N.useId();return N.useEffect(()=>n(i),[]),!t&&s?[!1,()=>s&&s(i)]:[!0]}const Cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ir={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Y.test(e))e=parseFloat(e);else return e;const s=Cg(e,t.target.x),n=Cg(e,t.target.y);return`${s}% ${n}%`}},eT={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=Sn.parse(e);if(i.length>5)return n;const r=Sn.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=ge(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),r(i)}};class tT extends ie.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=t;l5(sT),r&&(s.group&&s.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:r}=this.props,o=n.projection;return o&&(o.isPresent=r,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||ce.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fw(e){const[t,s]=ZP(),n=N.useContext(Sp);return ie.createElement(tT,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(M1),isPresent:t,safeToRemove:s})}const sT={borderRadius:{...Ir,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ir,borderTopRightRadius:Ir,borderBottomLeftRadius:Ir,borderBottomRightRadius:Ir,boxShadow:eT},zw=["TopLeft","TopRight","BottomLeft","BottomRight"],nT=zw.length,Pg=e=>typeof e=="string"?parseFloat(e):e,Tg=e=>typeof e=="number"||Y.test(e);function iT(e,t,s,n,i,r){i?(e.opacity=ge(0,s.opacity!==void 0?s.opacity:1,rT(n)),e.opacityExit=ge(t.opacity!==void 0?t.opacity:1,0,oT(n))):r&&(e.opacity=ge(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<nT;o++){const l=`border${zw[o]}Radius`;let c=Eg(t,l),d=Eg(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Tg(c)===Tg(d)?(e[l]=Math.max(ge(Pg(c),Pg(d),n),0),(ms.test(d)||ms.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ge(t.rotate||0,s.rotate||0,n))}function Eg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rT=Vw(0,.5,cw),oT=Vw(.5,.95,_e);function Vw(e,t,s){return n=>n<e?0:n>t?1:s(Ho(e,t,n))}function Ag(e,t){e.min=t.min,e.max=t.max}function At(e,t){Ag(e.x,t.x),Ag(e.y,t.y)}function Dg(e,t,s,n,i){return e-=t,e=wc(e,1/s,n),i!==void 0&&(e=wc(e,1/i,n)),e}function aT(e,t=0,s=1,n=.5,i,r=e,o=e){if(ms.test(t)&&(t=parseFloat(t),t=ge(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ge(r.min,r.max,n);e===r&&(l-=t),e.min=Dg(e.min,t,s,l,i),e.max=Dg(e.max,t,s,l,i)}function Rg(e,t,[s,n,i],r,o){aT(e,t[s],t[n],t[i],t.scale,r,o)}const lT=["x","scaleX","originX"],cT=["y","scaleY","originY"];function Mg(e,t,s,n){Rg(e.x,t,lT,s?s.x:void 0,n?n.x:void 0),Rg(e.y,t,cT,s?s.y:void 0,n?n.y:void 0)}function Lg(e){return e.translate===0&&e.scale===1}function $w(e){return Lg(e.x)&&Lg(e.y)}function dT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Uw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Og(e){return _t(e.x)/_t(e.y)}class uT{constructor(){this.members=[]}add(t){Fp(this.members,t),t.scheduleRender()}remove(t){if(zp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ig(e,t,s){let n="";const i=e.x.translate/t.x,r=e.y.translate/t.y;if((i||r)&&(n=`translate3d(${i}px, ${r}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const hT=(e,t)=>e.depth-t.depth;class fT{constructor(){this.children=[],this.isDirty=!1}add(t){Fp(this.children,t),this.isDirty=!0}remove(t){zp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hT),this.isDirty=!1,this.children.forEach(t)}}function pT(e,t){const s=performance.now(),n=({timestamp:i})=>{const r=i-s;r>=t&&(Bs(n),e(r-t))};return ce.read(n,!0),()=>Bs(n)}function mT(e){window.MotionDebug&&window.MotionDebug.record(e)}function gT(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xT(e,t,s){const n=bt(e)?e:hr(e);return n.start(Bp("",n,t,s)),n.animation}const Bg=["","X","Y","Z"],yT={visibility:"hidden"},Fg=1e3;let vT=0;const Wn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Hw({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=vT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wn.totalNodes=Wn.resolvedTargetDeltas=Wn.recalculatedProjection=0,this.nodes.forEach(jT),this.nodes.forEach(CT),this.nodes.forEach(PT),this.nodes.forEach(NT),mT(Wn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new fT)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gT(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=pT(f,250),Cl.hasAnimatedSinceResize&&(Cl.hasAnimatedSinceResize=!1,this.nodes.forEach(Vg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||RT,{onLayoutAnimationStart:x,onLayoutAnimationComplete:m}=u.getProps(),y=!this.targetLayout||!Uw(this.targetLayout,g)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const w={...Ip(v,"layout"),onPlay:x,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Vg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zg);return}this.isUpdating||this.nodes.forEach(kT),this.isUpdating=!1,this.nodes.forEach(_T),this.nodes.forEach(bT),this.nodes.forEach(wT),this.clearAllSnapshots();const l=performance.now();Ye.delta=Nn(0,1e3/60,l-Ye.timestamp),Ye.timestamp=l,Ye.isProcessing=!0,nu.update.process(Ye),nu.preRender.process(Ye),nu.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ST),this.sharedNodes.forEach(ET)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!$w(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Hn(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),MT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ee();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Qs(l.x,c.offset.x),Qs(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ee();At(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){At(l,o);const{scroll:f}=this.root;f&&(Qs(l.x,-f.offset.x),Qs(l.y,-f.offset.y))}Qs(l.x,u.offset.x),Qs(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Ee();At(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yi(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Hn(u.latestValues)&&Yi(c,u.latestValues)}return Hn(this.latestValues)&&Yi(c,this.latestValues),c}removeTransform(o){const l=Ee();At(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Hn(d.latestValues))continue;qh(d.latestValues)&&d.updateSnapshot();const u=Ee(),h=d.measurePageBox();At(u,h),Mg(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Hn(this.latestValues)&&Mg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),xo(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),Ow(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),xo(this.relativeTargetOrigin,this.target,p.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qh(this.parent.latestValues)||Lw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;At(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;HP(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Ki(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ki(),this.projectionDeltaWithTransform=Ki());const v=this.projectionTransform;go(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Ig(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Wn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Ki();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ee(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,x=this.getStack(),m=!x||x.members.length<=1,y=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(DT));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const j=w/1e3;$g(h.x,o.x,j),$g(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AT(this.relativeTarget,this.relativeTargetOrigin,f,j),b&&dT(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ee()),At(b,this.relativeTarget)),v&&(this.animationValues=u,iT(u,d,this.latestValues,j,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Cl.hasAnimatedSinceResize=!0,this.currentAnimation=xT(0,Fg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Ww(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ee();const h=_t(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=_t(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}At(l,c),Yi(l,u),go(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uT),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<Bg.length;u++){const h="rotate"+Bg[u];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yT;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=_l(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=_l(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hn(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Ig(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:p,y:g}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in pc){if(f[v]===void 0)continue;const{correct:x,applyTo:m}=pc[v],y=d.transform==="none"?f[v]:x(f[v],h);if(m){const b=m.length;for(let w=0;w<b;w++)d[m[w]]=y}else d[v]=y}return this.options.layoutId&&(d.pointerEvents=h===this?_l(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(zg),this.root.sharedNodes.clear()}}}function bT(e){e.updateLayout()}function wT(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:r}=e.options,o=s.source!==e.layout.source;r==="size"?Lt(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],p=_t(f);f.min=n[h].min,f.max=f.min+p}):Ww(r,s.layoutBox,n)&&Lt(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],p=_t(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Ki();go(l,n,s.layoutBox);const c=Ki();o?go(c,e.applyTransform(i,!0),s.measuredBox):go(c,n,s.layoutBox);const d=!$w(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=Ee();xo(g,s.layoutBox,f.layoutBox);const v=Ee();xo(v,n,p.layoutBox),Uw(g,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function jT(e){Wn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ST(e){e.clearSnapshot()}function zg(e){e.clearMeasurements()}function kT(e){e.isLayoutDirty=!1}function _T(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CT(e){e.resolveTargetDelta()}function PT(e){e.calcProjection()}function TT(e){e.resetRotation()}function ET(e){e.removeLeadSnapshot()}function $g(e,t,s){e.translate=ge(t.translate,0,s),e.scale=ge(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Ug(e,t,s,n){e.min=ge(t.min,s.min,n),e.max=ge(t.max,s.max,n)}function AT(e,t,s,n){Ug(e.x,t.x,s.x,n),Ug(e.y,t.y,s.y,n)}function DT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RT={duration:.45,ease:[.4,0,.1,1]},Hg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Wg=Hg("applewebkit/")&&!Hg("chrome/")?Math.round:_e;function qg(e){e.min=Wg(e.min),e.max=Wg(e.max)}function MT(e){qg(e.x),qg(e.y)}function Ww(e,t,s){return e==="position"||e==="preserve-aspect"&&!Hh(Og(t),Og(s),.2)}const LT=Hw({attachResizeListener:(e,t)=>Ps(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},qw=Hw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pu.current){const e=new LT({});e.mount(window),e.setOptions({layoutScroll:!0}),pu.current=e}return pu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OT={pan:{Feature:JP},drag:{Feature:QP,ProjectionNode:qw,MeasureLayout:Fw}},IT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function BT(e){const t=IT.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function Yh(e,t,s=1){const[n,i]=BT(e);if(!n)return;const r=window.getComputedStyle(t).getPropertyValue(n);if(r){const o=r.trim();return Pw(o)?parseFloat(o):o}else return Ih(i)?Yh(i,t,s+1):i}function FT(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(i=>{const r=i.get();if(!Ih(r))return;const o=Yh(r,n);o&&i.set(o)});for(const i in t){const r=t[i];if(!Ih(r))continue;const o=Yh(r,n);o&&(t[i]=o,s||(s={}),s[i]===void 0&&(s[i]=r))}return{target:t,transitionEnd:s}}const zT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Kw=e=>zT.has(e),VT=e=>Object.keys(e).some(Kw),Kg=e=>e===Ci||e===Y,Yg=(e,t)=>parseFloat(e.split(", ")[t]),Gg=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Yg(i[1],t);{const r=n.match(/^matrix\((.+)\)$/);return r?Yg(r[1],e):0}},$T=new Set(["x","y","z"]),UT=ua.filter(e=>!$T.has(e));function HT(e){const t=[];return UT.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const fr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gg(4,13),y:Gg(5,14)};fr.translateX=fr.x;fr.translateY=fr.y;const WT=(e,t,s)=>{const n=t.measureViewportBox(),i=t.current,r=getComputedStyle(i),{display:o}=r,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{l[d]=fr[d](n,r)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=fr[d](c,r)}),e},qT=(e,t,s={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(Kw);let r=[],o=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],h=Or(u);const f=t[c];let p;if(gc(f)){const g=f.length,v=f[0]===null?1:0;u=f[v],h=Or(u);for(let x=v;x<g&&f[x]!==null;x++)p?Dp(Or(f[x])===p):p=Or(f[x])}else p=Or(f);if(h!==p)if(Kg(h)&&Kg(p)){const g=d.get();typeof g=="string"&&d.set(parseFloat(g)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===Y&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?d.set(p.transform(u)):t[c]=h.transform(f):(o||(r=HT(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=WT(t,e,l);return r.length&&r.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),rd&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function KT(e,t,s,n){return VT(t)?qT(e,t,s,n):{target:t,transitionEnd:n}}const YT=(e,t,s,n)=>{const i=FT(e,t,n);return t=i.target,n=i.transitionEnd,KT(e,t,s,n)},Gh={current:null},Yw={current:!1};function GT(){if(Yw.current=!0,!!rd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gh.current=e.matches;e.addListener(t),t()}else Gh.current=!1}function XT(e,t,s){const{willChange:n}=t;for(const i in t){const r=t[i],o=s[i];if(bt(r))e.addValue(i,r),bc(n)&&n.add(i);else if(bt(o))e.addValue(i,hr(r,{owner:e})),bc(n)&&n.remove(i);else if(o!==r)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(r)}else{const l=e.getStaticValue(i);e.addValue(i,hr(l!==void 0?l:r,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const Xg=new WeakMap,Gw=Object.keys(Uo),QT=Gw.length,Qg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],JT=Np.length;class ZT{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ce.render(this.render,!1,!0);const{latestValues:l,renderState:c}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ad(s),this.isVariantNode=R1(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const h in u){const f=u[h];l[h]!==void 0&&bt(f)&&(f.set(l[h],!1),bc(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,Xg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Yw.current||GT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xg.delete(this.current),this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=_i.has(t),i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ce.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),r()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,i,r){let o,l;for(let c=0;c<QT;c++){const d=Gw[c],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:p}=Uo[d];f&&(o=f),u(s)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&Wi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Qg.length;n++){const i=Qg[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r=t["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=XT(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<JT;n++){const i=Np[n],r=this.props[i];($o(r)||r===!1)&&(s[i]=r)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=hr(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(s=Ap(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!bt(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Vp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Xw extends ZT{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:i},r){let o=gP(n,t||{},this);if(i&&(s&&(s=i(s)),n&&(n=i(n)),o&&(o=i(o))),r){pP(this,n,o);const l=YT(this,n,o,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function eE(e){return window.getComputedStyle(e)}class tE extends Xw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(_i.has(s)){const n=Op(s);return n&&n.default||0}else{const n=eE(t),i=(I1(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Iw(t,s)}build(t,s,n,i){_p(t,s,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Ep(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,i){U1(t,s,n,i)}}class sE extends Xw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(_i.has(s)){const n=Op(s);return n&&n.default||0}return s=H1.has(s)?s:wp(s),t.getAttribute(s)}measureInstanceViewportBox(){return Ee()}scrapeMotionValuesFromProps(t,s){return q1(t,s)}build(t,s,n,i){Pp(t,s,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,n,i){W1(t,s,n,i)}mount(t){this.isSVGTag=Tp(t.tagName),super.mount(t)}}const nE=(e,t)=>kp(e)?new sE(t,{enableHardwareAcceleration:!1}):new tE(t,{enableHardwareAcceleration:!0}),iE={layout:{ProjectionNode:qw,MeasureLayout:Fw}},rE={...AP,...Q5,...OT,...iE},q=o5((e,t)=>B5(e,t,rE,nE));function Qw(){const e=N.useRef(!1);return bp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function oE(){const e=Qw(),[t,s]=N.useState(0),n=N.useCallback(()=>{e.current&&s(t+1)},[t]);return[N.useCallback(()=>ce.postRender(n),[n]),t]}class aE extends N.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lE({children:e,isPresent:t}){const s=N.useId(),n=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:r,height:o,top:l,left:c}=i.current;if(t||!n.current||!r||!o)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),N.createElement(aE,{isPresent:t,childRef:n,sizeRef:i},N.cloneElement(e,{ref:n}))}const mu=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:r,mode:o})=>{const l=K1(cE),c=N.useId(),d=N.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),r?void 0:[s]);return N.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[s]),N.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=N.createElement(lE,{isPresent:s},e)),N.createElement(id.Provider,{value:d},e)};function cE(){return new Map}function dE(e){return N.useEffect(()=>()=>e(),[])}const qn=e=>e.key||"";function uE(e,t){e.forEach(s=>{const n=qn(s);t.set(n,s)})}function hE(e){const t=[];return N.Children.forEach(e,s=>{N.isValidElement(s)&&t.push(s)}),t}const tt=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:r=!0,mode:o="sync"})=>{const l=N.useContext(Sp).forceRender||oE()[0],c=Qw(),d=hE(e);let u=d;const h=N.useRef(new Map).current,f=N.useRef(u),p=N.useRef(new Map).current,g=N.useRef(!0);if(bp(()=>{g.current=!1,uE(d,p),f.current=u}),dE(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return N.createElement(N.Fragment,null,u.map(y=>N.createElement(mu,{key:qn(y),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:r,mode:o},y)));u=[...u];const v=f.current.map(qn),x=d.map(qn),m=v.length;for(let y=0;y<m;y++){const b=v[y];x.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((y,b)=>{if(x.indexOf(b)!==-1)return;const w=p.get(b);if(!w)return;const j=v.indexOf(b);let k=y;if(!k){const C=()=>{h.delete(b);const _=Array.from(p.keys()).filter(S=>!x.includes(S));if(_.forEach(S=>p.delete(S)),f.current=d.filter(S=>{const T=qn(S);return T===b||_.includes(T)}),!h.size){if(c.current===!1)return;l(),n&&n()}};k=N.createElement(mu,{key:qn(w),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:r,mode:o},w),h.set(b,k)}u.splice(j,0,k)}),u=u.map(y=>{const b=y.key;return h.has(b)?y:N.createElement(mu,{key:qn(y),isPresent:!0,presenceAffectsLayout:r,mode:o},y)}),N.createElement(N.Fragment,null,h.size?u:u.map(y=>N.cloneElement(y)))};var fE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=(e,t)=>{const s=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,children:l,...c},d)=>N.createElement("svg",{ref:d,...fE,width:i,height:i,stroke:n,strokeWidth:o?Number(r)*24/Number(i):r,className:`lucide lucide-${pE(e)}`,...c},[...t.map(([u,h])=>N.createElement(u,h)),...(Array.isArray(l)?l:[l])||[]]));return s.displayName=`${e}`,s},Fs=W("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Wo=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),xi=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Jw=W("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ti=W("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),qo=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Jg=W("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),gu=W("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),je=W("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),mE=W("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),gE=W("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Ut=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),xE=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Zw=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),e2=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),yE=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),vE=W("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ot=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yi=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ne=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),t2=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ai=W("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Pl=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),bE=W("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Tl=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),wE=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),$p=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ud=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jE=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),NE=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),SE=W("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Xh=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),kE=W("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Qh=W("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),_E=W("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),vi=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),s2=W("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),ns=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),n2=W("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),CE=W("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Us=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),i2=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Gn=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ma=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Jh=W("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),pr=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),r2=W("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),PE=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),TE=W("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]),EE=W("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),ga=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Up=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),AE=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),mr=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),bi=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),us=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),DE=W("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),RE=W("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),jc=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Me=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ME=()=>{const[e,t]=N.useState(""),[s,n]=N.useState(""),{login:i}=Te(),r=ki(),o=async l=>{var c,d;l.preventDefault();try{await i(e,s),R.success("Login Successful"),r("/dashboard")}catch(u){R.error(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Login Failed")}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-cyan-500/20 rounded-full blur-[100px]"}),a.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-blue-600/20 rounded-full blur-[100px]"}),a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-lg p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(q.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:a.jsx(Fs,{className:"w-12 h-12 text-cyan-400"})}),a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-slate-400",children:"Sign in to MedCare Portal"})]}),a.jsxs("form",{onSubmit:o,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(bi,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{type:"email",value:e,onChange:l=>t(l.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"doctor@hospital.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Tl,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{type:"password",value:s,onChange:l=>n(l.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"",required:!0})]})]}),a.jsx(q.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-cyan-500/25 transition-all",children:"Sign In"})]}),a.jsxs("div",{className:"mt-6 text-center text-slate-400 text-sm",children:["Don't have an account?",a.jsx(pp,{to:"/register",className:"text-cyan-400 hover:text-cyan-300 ml-1 font-medium",children:"Register Patient"})]})]})]})},LE=()=>{const[e,t]=N.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",dateOfBirth:"",gender:"Male",role:"Patient",adminSecret:"",doctorDepartment:""}),{register:s}=Te(),n=ki(),i=o=>{t({...e,[o.target.name]:o.target.value})},r=async o=>{var l,c;if(o.preventDefault(),e.password!==e.confirmPassword){R.error("Passwords don't match");return}try{await s(e),R.success("Registration Successful"),n("/dashboard")}catch(d){R.error(((c=(l=d.response)==null?void 0:l.data)==null?void 0:c.message)||"Registration Failed")}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 relative overflow-hidden py-10",children:[a.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-cyan-500/20 rounded-full blur-[100px]"}),a.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-96 h-96 bg-purple-600/20 rounded-full blur-[100px]"}),a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-lg p-8 rounded-2xl shadow-2xl w-full max-w-2xl border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(mr,{className:"w-12 h-12 text-cyan-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),a.jsx("p",{className:"text-slate-400",children:"Join MedCare System"})]}),a.jsxs("form",{onSubmit:r,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"First Name"}),a.jsx("input",{name:"firstName",value:e.firstName,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 px-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Last Name"}),a.jsx("input",{name:"lastName",value:e.lastName,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 px-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(ud,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{name:"email",type:"email",value:e.email,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(vi,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{name:"phone",type:"tel",value:e.phone,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Date of Birth"}),a.jsxs("div",{className:"relative",children:[a.jsx(je,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{name:"dateOfBirth",type:"date",value:e.dateOfBirth,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Gender"}),a.jsxs("select",{name:"gender",value:e.gender,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 px-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",children:[a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Role"}),a.jsxs("select",{name:"role",value:e.role,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 px-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",children:[a.jsx("option",{value:"Patient",children:"Patient"}),a.jsx("option",{value:"Doctor",children:"Doctor"}),a.jsx("option",{value:"Receptionist",children:"Receptionist"}),a.jsx("option",{value:"Pharmacist",children:"Pharmacist"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),e.role!=="Patient"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Admin Secret Key"}),a.jsxs("div",{className:"relative",children:[a.jsx(Tl,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{name:"adminSecret",type:"password",value:e.adminSecret,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0,placeholder:"Required for non-patient roles"})]})]}),e.role==="Doctor"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Department"}),a.jsxs("select",{name:"doctorDepartment",value:e.doctorDepartment,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 px-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Department"}),a.jsx("option",{value:"Cardiology",children:"Cardiology"}),a.jsx("option",{value:"Neurology",children:"Neurology"}),a.jsx("option",{value:"Orthopedics",children:"Orthopedics"}),a.jsx("option",{value:"Pediatrics",children:"Pediatrics"}),a.jsx("option",{value:"Dermatology",children:"Dermatology"}),a.jsx("option",{value:"Ophthalmology",children:"Ophthalmology"}),a.jsx("option",{value:"ENT",children:"ENT"}),a.jsx("option",{value:"General Medicine",children:"General Medicine"}),a.jsx("option",{value:"Surgery",children:"Surgery"}),a.jsx("option",{value:"Gynecology",children:"Gynecology"}),a.jsx("option",{value:"Psychiatry",children:"Psychiatry"}),a.jsx("option",{value:"Radiology",children:"Radiology"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Tl,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{name:"password",type:"password",value:e.password,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 mb-2 text-sm",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Tl,{className:"absolute left-3 top-3 text-slate-500 w-5 h-5"}),a.jsx("input",{name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:i,className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]})]})]}),a.jsx(q.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full col-span-1 md:col-span-2 bg-gradient-to-r from-purple-500 to-cyan-500 text-white font-bold py-3 rounded-lg shadow-lg mt-4",children:"Register"})]}),a.jsxs("div",{className:"mt-6 text-center text-slate-400 text-sm col-span-2",children:["Already have an account?",a.jsx(pp,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 ml-1 font-medium",children:"Login"})]})]})]})},Mn=({title:e,value:t,icon:s,color:n})=>a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-full ${n} bg-opacity-10`,children:a.jsx(s,{className:`w-8 h-8 ${n.replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:e}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t})]})]}),OE=()=>{const[e,t]=N.useState({patients:0,doctors:0,appointments:0,pendingAppointments:0,completedAppointments:0,totalEarnings:0,pendingBills:0}),[s,n]=N.useState([]);return N.useEffect(()=>{(async()=>{try{const[r,o,l]=await Promise.all([I.get("/patients"),I.get("/doctors"),I.get("/appointments")]);let c=0,d=0;try{const{data:p}=await I.get("/invoices");c=p.filter(g=>g.status==="Paid").reduce((g,v)=>g+v.total,0),d=p.filter(g=>g.status==="Unpaid").length}catch{}const u=l.data,h=u.filter(p=>p.status==="Pending"),f=u.filter(p=>p.status==="Completed");n(u.slice(0,5)),t({patients:r.data.length,doctors:o.data.length,appointments:u.length,pendingAppointments:h.length,completedAppointments:f.length,totalEarnings:c,pendingBills:d})}catch(r){console.error("Error fetching dashboard stats:",r)}})()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Admin Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Mn,{title:"Total Patients",value:e.patients,icon:us,color:"bg-blue-500"}),a.jsx(Mn,{title:"Active Doctors",value:e.doctors,icon:mr,color:"bg-green-500"}),a.jsx(Mn,{title:"Total Appointments",value:e.appointments,icon:je,color:"bg-purple-500"}),a.jsx(Mn,{title:"Total Earnings",value:`${e.totalEarnings.toLocaleString()}`,icon:yi,color:"bg-yellow-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Mn,{title:"Pending Appointments",value:e.pendingAppointments,icon:ot,color:"bg-orange-500"}),a.jsx(Mn,{title:"Completed Appointments",value:e.completedAppointments,icon:Ut,color:"bg-emerald-500"}),a.jsx(Mn,{title:"Unpaid Bills",value:e.pendingBills,icon:yi,color:"bg-red-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Recent Appointments"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Patient"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Doctor"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Date"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[s.map(i=>{var r,o,l,c;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800",children:[(r=i.patient)==null?void 0:r.firstName," ",(o=i.patient)==null?void 0:o.lastName]}),a.jsxs("td",{className:"px-6 py-4 text-slate-600",children:["Dr. ",(l=i.doctor)==null?void 0:l.firstName," ",(c=i.doctor)==null?void 0:c.lastName]}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(i.appointmentDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${i.status==="Completed"?"bg-green-100 text-green-600":i.status==="Confirmed"?"bg-blue-100 text-blue-600":i.status==="Cancelled"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:i.status})})]},i._id)}),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No appointments yet."})})]})]})})]})]})},IE=({isOpen:e,onClose:t,appointment:s,onPrescriptionAdded:n})=>{const[i,r]=N.useState([{name:"",dosage:"",duration:"",instructions:""}]),[o,l]=N.useState(""),[c,d]=N.useState(""),[u,h]=N.useState(!1),f=(x,m,y)=>{const b=[...i];b[x][m]=y,r(b)},p=()=>{r([...i,{name:"",dosage:"",duration:"",instructions:""}])},g=x=>{const m=i.filter((y,b)=>b!==x);r(m)},v=async x=>{var m,y;x.preventDefault(),h(!0);try{await I.post("/prescriptions",{patientId:s.patient._id,appointmentId:s._id,diagnosis:o,medicines:i,notes:c}),R.success("Prescription created successfully"),n(),t()}catch(b){R.error(((y=(m=b.response)==null?void 0:m.data)==null?void 0:y.message)||"Failed to create prescription")}finally{h(!1)}};return!e||!s?null:a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(Ne,{className:"text-cyan-500"}),a.jsx("h2",{className:"text-lg font-bold",children:"Write Prescription"})]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(Me,{size:24})})]}),a.jsxs("div",{className:"overflow-y-auto p-6",children:[a.jsxs("div",{className:"mb-6 bg-cyan-50 p-4 rounded-lg border border-cyan-100",children:[a.jsxs("p",{className:"text-sm text-cyan-800 font-medium",children:["Patient: ",s.patient.firstName," ",s.patient.lastName]}),a.jsxs("p",{className:"text-sm text-cyan-600",children:["Date: ",new Date(s.appointmentDate).toLocaleDateString()]})]}),a.jsxs("form",{id:"prescription-form",onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Diagnosis"}),a.jsx("textarea",{value:o,onChange:x=>l(x.target.value),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors h-24",placeholder:"Enter diagnosis details...",required:!0})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-slate-600 text-sm font-medium",children:"Medicines"}),a.jsxs("button",{type:"button",onClick:p,className:"text-cyan-600 hover:text-cyan-700 text-sm font-bold flex items-center gap-1",children:[a.jsx(ns,{size:16})," Add Medicine"]})]}),a.jsx("div",{className:"space-y-4",children:i.map((x,m)=>a.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start bg-slate-50 p-3 rounded-lg border border-slate-100",children:[a.jsx("div",{className:"col-span-4",children:a.jsx("input",{placeholder:"Medicine Name",value:x.name,onChange:y=>f(m,"name",y.target.value),className:"w-full border border-slate-200 rounded py-1.5 px-2 text-sm focus:outline-none focus:border-cyan-500",required:!0})}),a.jsx("div",{className:"col-span-3",children:a.jsx("input",{placeholder:"Dosage (e.g. 1-0-1)",value:x.dosage,onChange:y=>f(m,"dosage",y.target.value),className:"w-full border border-slate-200 rounded py-1.5 px-2 text-sm focus:outline-none focus:border-cyan-500",required:!0})}),a.jsx("div",{className:"col-span-4",children:a.jsx("input",{placeholder:"Instructions/Duration",value:x.duration,onChange:y=>f(m,"duration",y.target.value),className:"w-full border border-slate-200 rounded py-1.5 px-2 text-sm focus:outline-none focus:border-cyan-500",required:!0})}),a.jsx("div",{className:"col-span-1 flex justify-center pt-1",children:i.length>1&&a.jsx("button",{type:"button",onClick:()=>g(m),className:"text-red-400 hover:text-red-600 transition-colors",children:a.jsx(ga,{size:18})})})]},m))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Notes"}),a.jsx("textarea",{value:c,onChange:x=>d(x.target.value),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors h-20",placeholder:"Additional notes..."})]})]})]}),a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end gap-3 shrink-0",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",form:"prescription-form",disabled:u,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors font-bold disabled:opacity-50",children:u?"Saving...":"Save Prescription"})]})]})})})},Ha=({title:e,value:t,icon:s,color:n})=>a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-full ${n} bg-opacity-10`,children:a.jsx(s,{className:`w-8 h-8 ${n.replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:e}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t})]})]}),BE=()=>{const[e,t]=N.useState({appointmentsToday:0,totalPatients:0,pending:0,completed:0}),[s,n]=N.useState([]),[i,r]=N.useState(null),[o,l]=N.useState(!1),c=async()=>{try{const{data:u}=await I.get("/appointments"),h=new Date().toISOString().split("T")[0],f=u.filter(x=>x.appointmentDate&&x.appointmentDate.startsWith(h)),p=u.filter(x=>x.status==="Completed"),g=u.filter(x=>x.status==="Pending"),v=u.filter(x=>x.status==="Confirmed");n([...v,...f.filter(x=>x.status!=="Confirmed"&&x.status!=="Completed")]),t({appointmentsToday:f.length,totalPatients:new Set(u.map(x=>{var m;return(m=x.patient)==null?void 0:m._id})).size,pending:g.length,pendingList:g,completed:p.length})}catch(u){console.error("Error fetching doctor stats:",u)}},d=async(u,h)=>{try{await I.put(`/appointments/${u}`,{status:h}),c()}catch(f){console.error("Error updating status:",f)}};return N.useEffect(()=>{c()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Doctor Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Ha,{title:"Appointments Today",value:e.appointmentsToday,icon:je,color:"bg-blue-500"}),a.jsx(Ha,{title:"My Patients",value:e.totalPatients,icon:us,color:"bg-green-500"}),a.jsx(Ha,{title:"Pending Requests",value:e.pending,icon:ot,color:"bg-orange-500"}),a.jsx(Ha,{title:"Completed",value:e.completed,icon:Ut,color:"bg-purple-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden mb-6",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Pending Requests"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Patient"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Date/Time"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Reason"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.pendingList&&e.pendingList.length>0?e.pendingList.map(u=>{var h,f,p,g,v,x,m;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[(h=u.patient)!=null&&h.profileImage?a.jsx("img",{src:u.patient.profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover ring-2 ring-slate-100"}):a.jsxs("div",{className:"w-8 h-8 rounded-full bg-cyan-100 flex items-center justify-center text-cyan-600 text-xs font-bold",children:[(p=(f=u.patient)==null?void 0:f.firstName)==null?void 0:p[0],(v=(g=u.patient)==null?void 0:g.lastName)==null?void 0:v[0]]}),a.jsxs("div",{className:"font-medium text-slate-800",children:[(x=u.patient)==null?void 0:x.firstName," ",(m=u.patient)==null?void 0:m.lastName]})]})}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(u.appointmentDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:u.reason}),a.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[a.jsx("button",{onClick:()=>d(u._id,"Confirmed"),className:"bg-green-100 text-green-700 hover:bg-green-200 px-3 py-1 rounded-lg text-sm font-medium transition-colors",children:"Accept"}),a.jsx("button",{onClick:()=>d(u._id,"Cancelled"),className:"bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1 rounded-lg text-sm font-medium transition-colors",children:"Decline"})]})]},u._id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No pending requests."})})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"My Appointments (Write Prescription)"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Patient"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Time/Reason"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[s.map(u=>{var h,f,p,g,v,x,m,y;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[(h=u.patient)!=null&&h.profileImage?a.jsx("img",{src:u.patient.profileImage,alt:"",className:"w-9 h-9 rounded-full object-cover ring-2 ring-slate-100"}):a.jsxs("div",{className:"w-9 h-9 rounded-full bg-cyan-100 flex items-center justify-center text-cyan-600 text-sm font-bold",children:[(p=(f=u.patient)==null?void 0:f.firstName)==null?void 0:p[0],(v=(g=u.patient)==null?void 0:g.lastName)==null?void 0:v[0]]}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-slate-800",children:[(x=u.patient)==null?void 0:x.firstName," ",(m=u.patient)==null?void 0:m.lastName]}),a.jsx("div",{className:"text-sm text-slate-500",children:(y=u.patient)==null?void 0:y.email})]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-slate-800",children:u.reason}),a.jsx("div",{className:"text-sm text-slate-500",children:new Date(u.appointmentDate).toLocaleDateString()})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.status==="Completed"?"bg-green-100 text-green-600":u.status==="Confirmed"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:u.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>{r(u),l(!0)},className:"text-cyan-600 hover:text-cyan-700 font-medium bg-cyan-50 hover:bg-cyan-100 px-3 py-1.5 rounded-lg transition-colors",children:"Write Prescription"})})]},u._id)}),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No appointments for today."})})]})]})})]}),a.jsx(IE,{isOpen:o,onClose:()=>l(!1),appointment:i,onPrescriptionAdded:c})]})},Wa=({title:e,value:t,icon:s,color:n})=>a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-full ${n} bg-opacity-10`,children:a.jsx(s,{className:`w-8 h-8 ${n.replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:e}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t})]})]}),Zg=()=>{const[e,t]=N.useState({upcoming:0,past:0,prescriptions:0,bills:0}),[s,n]=N.useState([]);return N.useEffect(()=>{(async()=>{try{const{data:r}=await I.get("/appointments"),o=r.filter(u=>u.status!=="Completed"&&u.status!=="Cancelled"&&new Date(u.appointmentDate)>=new Date),l=r.filter(u=>u.status==="Completed"||u.status==="Cancelled"||new Date(u.appointmentDate)<new Date),{data:c}=await I.get("/prescriptions");n(c);let d=0;try{const{data:u}=await I.get("/invoices");d=u.filter(h=>h.status==="Unpaid").length}catch{}t({upcoming:o.length,past:l.length,prescriptions:c.length,bills:d})}catch(r){console.error("Error fetching patient stats:",r)}})()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Health Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Wa,{title:"Upcoming Appointments",value:e.upcoming,icon:je,color:"bg-cyan-500"}),a.jsx(Wa,{title:"Past Visits",value:e.past,icon:ot,color:"bg-slate-500"}),a.jsx(Wa,{title:"Prescriptions",value:e.prescriptions,icon:Ne,color:"bg-green-500"}),a.jsx(Wa,{title:"Pending Bills",value:e.bills,icon:Fs,color:"bg-red-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"My Prescriptions"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Doctor"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Date"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Diagnosis"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Medicines"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[s.map(i=>{var r,o;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"font-medium text-slate-800",children:["Dr. ",(r=i.doctor)==null?void 0:r.firstName," ",(o=i.doctor)==null?void 0:o.lastName]})}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(i.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:i.diagnosis}),a.jsxs("td",{className:"px-6 py-4 text-slate-600",children:[i.medicines.length," medicines"]})]},i._id)}),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No prescriptions found."})})]})]})})]})]})},FE=({isOpen:e,onClose:t,onSold:s})=>{const[n,i]=N.useState([]),[r,o]=N.useState([]),[l,c]=N.useState(""),[d,u]=N.useState([]),[h,f]=N.useState(""),[p,g]=N.useState(!1);N.useEffect(()=>{e&&(async()=>{try{const[k,C]=await Promise.all([I.get("/patients"),I.get("/medicines")]);i(k.data),o(C.data)}catch(k){console.error("Error fetching data for sell modal:",k),R.error("Failed to load patients or medicines")}})()},[e]);const v=r.filter(j=>j.name.toLowerCase().includes(h.toLowerCase())&&j.stock>0),x=j=>{const k=d.find(C=>C.medicineId===j._id);if(k){if(k.quantity>=j.stock){R.warning(`Only ${j.stock} units available`);return}u(d.map(C=>C.medicineId===j._id?{...C,quantity:C.quantity+1,totalCost:(C.quantity+1)*C.price}:C))}else u([...d,{medicineId:j._id,name:j.name,price:j.price,quantity:1,totalCost:j.price,maxStock:j.stock}]);f("")},m=(j,k)=>{const C=d.find(_=>_.medicineId===j);if(!(k<1)){if(k>C.maxStock){R.warning(`Only ${C.maxStock} units available`);return}u(d.map(_=>_.medicineId===j?{..._,quantity:k,totalCost:k*_.price}:_))}},y=j=>{u(d.filter(k=>k.medicineId!==j))},b=d.reduce((j,k)=>j+k.totalCost,0),w=async j=>{var k,C;if(j.preventDefault(),!l){R.error("Please select a patient");return}if(d.length===0){R.error("Please add medicines to cart");return}g(!0);try{await I.post("/invoices",{patientId:l,invoiceType:"Pharmacy",items:d.map(_=>({description:`${_.name}  ${_.quantity}`,cost:_.totalCost})),medicineItems:d.map(_=>({medicineId:_.medicineId,name:_.name,quantity:_.quantity}))}),R.success("Medicine sold! Invoice created."),s(),t(),c(""),u([]),f("")}catch(_){R.error(((C=(k=_.response)==null?void 0:k.data)==null?void 0:C.message)||"Sale failed")}finally{g(!1)}};return e?a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(Jh,{className:"text-green-500"}),a.jsx("h2",{className:"text-lg font-bold",children:"Sell Medicine"})]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(Me,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto p-6 flex-1",children:a.jsxs("form",{id:"sell-form",onSubmit:w,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Patient *"}),a.jsxs("select",{value:l,onChange:j=>c(j.target.value),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-green-500 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),n.map(j=>{var k,C,_;return a.jsxs("option",{value:((k=j.user)==null?void 0:k._id)||j._id,children:[((C=j.user)==null?void 0:C.firstName)||j.firstName," ",((_=j.user)==null?void 0:_.lastName)||j.lastName]},j._id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Search & Add Medicines"}),a.jsxs("div",{className:"relative",children:[a.jsx(Us,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"Type medicine name...",value:h,onChange:j=>f(j.target.value),className:"w-full border border-slate-200 rounded-lg py-2 pl-10 pr-3 focus:outline-none focus:border-green-500 transition-colors"})]}),h&&a.jsx("div",{className:"mt-1 border border-slate-200 rounded-lg max-h-40 overflow-y-auto shadow-lg bg-white",children:v.length>0?v.map(j=>a.jsxs("button",{type:"button",onClick:()=>x(j),className:"w-full text-left px-4 py-2 hover:bg-green-50 flex justify-between items-center border-b border-slate-50 last:border-0",children:[a.jsx("span",{className:"text-sm font-medium text-slate-800",children:j.name}),a.jsxs("div",{className:"text-xs text-slate-500",children:["",j.price,"  ",j.stock," in stock"]})]},j._id)):a.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No medicines found"})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-600 text-sm font-medium mb-2 block",children:["Cart (",d.length," items)"]}),d.length===0?a.jsx("div",{className:"bg-slate-50 rounded-lg p-6 text-center text-slate-500 text-sm border border-dashed border-slate-200",children:"Search and add medicines above"}):a.jsx("div",{className:"space-y-2",children:d.map(j=>a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-lg border border-slate-100",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-800 text-sm",children:j.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["",j.price," per unit"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>m(j.medicineId,j.quantity-1),className:"w-7 h-7 rounded bg-slate-200 hover:bg-slate-300 flex items-center justify-center font-bold text-slate-700",children:"-"}),a.jsx("span",{className:"w-8 text-center font-bold text-slate-800",children:j.quantity}),a.jsx("button",{type:"button",onClick:()=>m(j.medicineId,j.quantity+1),className:"w-7 h-7 rounded bg-slate-200 hover:bg-slate-300 flex items-center justify-center font-bold text-slate-700",children:"+"})]}),a.jsxs("span",{className:"w-20 text-right font-bold text-green-600",children:["",j.totalCost]}),a.jsx("button",{type:"button",onClick:()=>y(j.medicineId),className:"text-red-400 hover:text-red-600 transition-colors",children:a.jsx(ga,{size:18})})]},j.medicineId))})]}),d.length>0&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100 flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-700 font-medium",children:"Grand Total:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",b.toLocaleString()]})]})]})}),a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end gap-3 shrink-0",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",form:"sell-form",disabled:p||d.length===0,className:"px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors font-bold disabled:opacity-50",children:p?"Processing...":`Sell (${b.toLocaleString()})`})]})]})})}):null},Ln=({title:e,value:t,icon:s,color:n,subtitle:i})=>a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-full ${n} bg-opacity-10`,children:a.jsx(s,{className:`w-8 h-8 ${n.replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:e}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t}),i&&a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:i})]})]}),zE=()=>{var x;const[e,t]=N.useState({totalMedicines:0,lowStock:0,expiringSoon:0,totalPrescriptions:0,totalStockValue:0,outOfStock:0}),[s,n]=N.useState([]),[i,r]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState([]),[u,h]=N.useState(!1),[f,p]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[y,b,w]=await Promise.all([I.get("/medicines"),I.get("/prescriptions"),I.get("/invoices")]),j=y.data,k=b.data,C=w.data,_=new Date,S=new Date;S.setDate(S.getDate()+30);const T=j.filter(M=>M.stock>0&&M.stock<10),P=j.filter(M=>M.stock===0),E=j.filter(M=>{const $=new Date(M.expiryDate);return $<=S&&$>=_}),O=j.reduce((M,$)=>M+$.price*$.stock,0),F=C.filter(M=>new Date(M.createdAt).toDateString()===_.toDateString()),D=F.reduce((M,$)=>M+$.total,0);n(T),r(E),l(k.slice(0,5)),d(C),t({totalMedicines:j.length,lowStock:T.length,expiringSoon:E.length,totalPrescriptions:k.length,totalStockValue:O,outOfStock:P.length,todaySales:F.length,todayEarnings:D})}catch(y){console.error("Error fetching pharmacist data:",y)}finally{p(!1)}})()},[]);const g=()=>{p(!0),window.location.reload()},v=async m=>{try{await I.put(`/invoices/${m}/pay`),R.success("Marked as Paid!"),d(c.map(y=>y._id===m?{...y,status:"Paid"}:y))}catch{R.error("Failed to update")}};return f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Pharmacy Dashboard"}),a.jsxs("button",{onClick:()=>h(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg flex items-center gap-2 transition-colors font-bold shadow-lg shadow-green-500/20 text-sm",children:[a.jsx(Jh,{size:18}),"Sell Medicine"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Ln,{title:"Total Medicines",value:e.totalMedicines,icon:Qh,color:"bg-blue-500"}),a.jsx(Ln,{title:"Low Stock Alerts",value:e.lowStock,icon:xi,color:"bg-orange-500",subtitle:"Below 10 units"}),a.jsx(Ln,{title:"Out of Stock",value:e.outOfStock,icon:Qh,color:"bg-red-500"}),a.jsx(Ln,{title:"Total Prescriptions",value:e.totalPrescriptions,icon:Ne,color:"bg-purple-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Ln,{title:"Inventory Value",value:`${e.totalStockValue.toLocaleString()}`,icon:Up,color:"bg-green-500",subtitle:"Stock  Price"}),a.jsx(Ln,{title:"Expiring Soon",value:e.expiringSoon,icon:ot,color:"bg-yellow-500",subtitle:"Within 30 days"}),a.jsx(Ln,{title:"Today's Sales",value:`${e.todaySales} (${(x=e.todayEarnings)==null?void 0:x.toLocaleString()})`,icon:yi,color:"bg-emerald-500",subtitle:"Sales today"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center gap-2",children:[a.jsx(xi,{className:"w-5 h-5 text-orange-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Low Stock Alerts"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:s.length>0?s.map(m=>a.jsxs("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-800",children:m.name}),a.jsx("p",{className:"text-xs text-slate-500",children:m.category})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-red-100 text-red-700",children:[m.stock," left"]})]},m._id)):a.jsx("div",{className:"px-5 py-8 text-center text-slate-500 text-sm",children:" All medicines are well stocked!"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center gap-2",children:[a.jsx(ot,{className:"w-5 h-5 text-yellow-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Expiring Soon"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:i.length>0?i.map(m=>a.jsxs("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-800",children:m.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Stock: ",m.stock," units"]})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-yellow-100 text-yellow-700",children:["Exp: ",new Date(m.expiryDate).toLocaleDateString()]})]},m._id)):a.jsx("div",{className:"px-5 py-8 text-center text-slate-500 text-sm",children:" No medicines expiring within 30 days"})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center gap-2",children:[a.jsx(Ne,{className:"w-5 h-5 text-purple-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Recent Prescriptions"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Doctor"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Medicines"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Diagnosis"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.map(m=>{var y,b,w,j;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-3 font-medium text-slate-800 text-sm",children:[(y=m.patient)==null?void 0:y.firstName," ",(b=m.patient)==null?void 0:b.lastName]}),a.jsxs("td",{className:"px-6 py-3 text-slate-600 text-sm",children:["Dr. ",(w=m.doctor)==null?void 0:w.firstName," ",(j=m.doctor)==null?void 0:j.lastName]}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:new Date(m.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:m.medicines.map((k,C)=>a.jsx("span",{className:"px-2 py-0.5 bg-cyan-50 text-cyan-700 rounded text-xs font-medium",children:k.name},C))})}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:m.diagnosis})]},m._id)}),o.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-500",children:"No prescriptions yet."})})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center gap-2",children:[a.jsx(Jh,{className:"w-5 h-5 text-green-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Sales History"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Invoice #"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Items"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Total"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Status"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[c.map(m=>{var y,b;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-3 font-medium text-slate-800 text-sm",children:["#",m._id.slice(-6)]}),a.jsxs("td",{className:"px-6 py-3 text-slate-600 text-sm",children:[(y=m.patient)==null?void 0:y.firstName," ",(b=m.patient)==null?void 0:b.lastName]}),a.jsx("td",{className:"px-6 py-3 text-sm",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:m.items.map((w,j)=>a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded text-xs",children:w.description},j))})}),a.jsxs("td",{className:"px-6 py-3 font-bold text-green-600 text-sm",children:["",m.total]}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:new Date(m.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${m.status==="Paid"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status})}),a.jsxs("td",{className:"px-6 py-3",children:[m.status==="Unpaid"&&a.jsxs("button",{onClick:()=>v(m._id),className:"flex items-center gap-1 px-3 py-1 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition-colors",children:[a.jsx(Ut,{size:14})," Mark Paid"]}),m.status==="Paid"&&a.jsx("span",{className:"text-green-600 text-xs font-medium",children:" Paid"})]})]},m._id)}),c.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-slate-500",children:'No sales yet. Click "Sell Medicine" to start.'})})]})]})})]}),a.jsx(FE,{isOpen:u,onClose:()=>h(!1),onSold:g})]})},On=({title:e,value:t,icon:s,color:n,subtitle:i})=>a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-full ${n} bg-opacity-10`,children:a.jsx(s,{className:`w-8 h-8 ${n.replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:e}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t}),i&&a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:i})]})]}),VE=()=>{const[e,t]=N.useState({todayAppointments:0,pendingAppointments:0,completedAppointments:0,totalPatients:0,unpaidBills:0,todayRevenue:0,newPatientsToday:0}),[s,n]=N.useState([]),[i,r]=N.useState([]),[o,l]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[u,h,f]=await Promise.all([I.get("/appointments"),I.get("/patients"),I.get("/invoices")]),p=u.data,g=h.data,v=f.data,x=new Date().toDateString(),m=p.filter(C=>new Date(C.date).toDateString()===x),y=p.filter(C=>C.status==="Pending"||C.status==="Confirmed"),b=p.filter(C=>C.status==="Completed"),w=v.filter(C=>C.status==="Unpaid"),j=v.filter(C=>C.status==="Paid"&&new Date(C.createdAt).toDateString()===x).reduce((C,_)=>C+_.total,0),k=g.filter(C=>new Date(C.createdAt).toDateString()===x).length;t({todayAppointments:m.length,pendingAppointments:y.length,completedAppointments:b.length,totalPatients:g.length,unpaidBills:w.length,todayRevenue:j,newPatientsToday:k}),n(m.slice(0,10)),r(v.slice(0,5))}catch(u){console.error("Error:",u)}finally{l(!1)}})()},[]);const c=async d=>{try{await I.put(`/invoices/${d}/pay`),R.success("Invoice marked as Paid!"),r(i.map(u=>u._id===d?{...u,status:"Paid"}:u)),t(u=>({...u,unpaidBills:Math.max(0,u.unpaidBills-1)}))}catch{R.error("Failed to update")}};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Receptionist Dashboard"}),a.jsx("div",{className:"text-sm text-slate-500",children:new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(On,{title:"Today's Appointments",value:e.todayAppointments,icon:je,color:"bg-blue-500",subtitle:"Scheduled today"}),a.jsx(On,{title:"Pending Appointments",value:e.pendingAppointments,icon:ot,color:"bg-orange-500",subtitle:"Awaiting confirmation"}),a.jsx(On,{title:"Total Patients",value:e.totalPatients,icon:us,color:"bg-purple-500",subtitle:`${e.newPatientsToday} new today`}),a.jsx(On,{title:"Unpaid Bills",value:e.unpaidBills,icon:yi,color:"bg-red-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(On,{title:"Completed",value:e.completedAppointments,icon:Ut,color:"bg-emerald-500"}),a.jsx(On,{title:"Today's Revenue",value:`${e.todayRevenue.toLocaleString()}`,icon:Up,color:"bg-green-500"}),a.jsx(On,{title:"New Patients Today",value:e.newPatientsToday,icon:mr,color:"bg-cyan-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("a",{href:"/appointments",className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md hover:border-blue-200 transition-all flex items-center gap-4 group",children:[a.jsx("div",{className:"p-3 rounded-lg bg-blue-50 group-hover:bg-blue-100 transition-colors",children:a.jsx(je,{className:"w-6 h-6 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Manage Appointments"}),a.jsx("p",{className:"text-xs text-slate-500",children:"View, create & manage appointments"})]})]}),a.jsxs("a",{href:"/patients",className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md hover:border-purple-200 transition-all flex items-center gap-4 group",children:[a.jsx("div",{className:"p-3 rounded-lg bg-purple-50 group-hover:bg-purple-100 transition-colors",children:a.jsx(mr,{className:"w-6 h-6 text-purple-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Register Patient"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Add new patients to system"})]})]}),a.jsxs("a",{href:"/billing",className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md hover:border-green-200 transition-all flex items-center gap-4 group",children:[a.jsx("div",{className:"p-3 rounded-lg bg-green-50 group-hover:bg-green-100 transition-colors",children:a.jsx(Ne,{className:"w-6 h-6 text-green-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Create Invoice"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Generate bills for patients"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{className:"w-5 h-5 text-blue-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Today's Appointments"})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:[e.todayAppointments," total"]})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:s.length>0?s.map(d=>{var u,h,f,p;return a.jsxs("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 text-sm",children:[(u=d.patient)==null?void 0:u.firstName," ",(h=d.patient)==null?void 0:h.lastName]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Dr. ",(f=d.doctor)==null?void 0:f.firstName," ",(p=d.doctor)==null?void 0:p.lastName,"  ",d.time||"No time set"]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${d.status==="Completed"?"bg-green-100 text-green-700":d.status==="Confirmed"?"bg-blue-100 text-blue-700":d.status==="Cancelled"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:d.status})]},d._id)}):a.jsx("div",{className:"px-5 py-8 text-center text-slate-500 text-sm",children:" No appointments scheduled for today"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"w-5 h-5 text-green-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Recent Invoices"})]}),a.jsxs("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-bold",children:[e.unpaidBills," unpaid"]})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:i.length>0?i.map(d=>{var u,h;return a.jsxs("div",{className:"px-5 py-3 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 text-sm",children:["#",d._id.slice(-6),"  ",(u=d.patient)==null?void 0:u.firstName," ",(h=d.patient)==null?void 0:h.lastName]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["",d.total,"  ",d.invoiceType||"Consultation","  ",new Date(d.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${d.status==="Paid"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d.status}),d.status==="Unpaid"&&a.jsx("button",{onClick:()=>c(d._id),className:"px-2 py-1 bg-green-500 text-white rounded text-xs font-bold hover:bg-green-600 transition-colors",children:"Pay"})]})]},d._id)}):a.jsx("div",{className:"px-5 py-8 text-center text-slate-500 text-sm",children:" No invoices yet"})})]})]})]})},$E=()=>{var s,n;const{user:e}=Te(),t=()=>{switch(e==null?void 0:e.role){case"Admin":return a.jsx(OE,{});case"Doctor":return a.jsx(BE,{});case"Patient":return a.jsx(Zg,{});case"Receptionist":return a.jsx(VE,{});case"Pharmacist":return a.jsx(zE,{});default:return a.jsx(Zg,{})}};return a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("header",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e!=null&&e.profileImage?a.jsx("img",{src:e.profileImage,alt:"",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover ring-2 ring-cyan-200 shadow-md"}):a.jsxs("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white text-base sm:text-lg font-bold shadow-md",children:[(s=e==null?void 0:e.firstName)==null?void 0:s[0],(n=e==null?void 0:e.lastName)==null?void 0:n[0]]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Dashboard"}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["Welcome back, ",(e==null?void 0:e.role)==="Doctor"?"Dr. ":"",(e==null?void 0:e.lastName)||(e==null?void 0:e.firstName)]})]})]}),a.jsxs("div",{className:"bg-cyan-50 text-cyan-600 px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-medium text-sm",children:[e==null?void 0:e.role," Portal"]})]}),t()]})};var hd={},o2={exports:{}},UE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HE=UE,WE=HE;function a2(){}function l2(){}l2.resetWarningCache=a2;var qE=function(){function e(n,i,r,o,l,c){if(c!==WE){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l2,resetWarningCache:a2};return s.PropTypes=s,s};o2.exports=qE();var c2=o2.exports,d2={L:1,M:0,Q:3,H:2},u2={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},KE=u2;function h2(e){this.mode=KE.MODE_8BIT_BYTE,this.data=e}h2.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var YE=h2,qa=d2;function ds(e,t){this.totalCount=e,this.dataCount=t}ds.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ds.getRSBlocks=function(e,t){var s=ds.getRsBlockTable(e,t);if(s==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=s.length/3,i=new Array,r=0;r<n;r++)for(var o=s[r*3+0],l=s[r*3+1],c=s[r*3+2],d=0;d<o;d++)i.push(new ds(l,c));return i};ds.getRsBlockTable=function(e,t){switch(t){case qa.L:return ds.RS_BLOCK_TABLE[(e-1)*4+0];case qa.M:return ds.RS_BLOCK_TABLE[(e-1)*4+1];case qa.Q:return ds.RS_BLOCK_TABLE[(e-1)*4+2];case qa.H:return ds.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var GE=ds;function f2(){this.buffer=new Array,this.length=0}f2.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var s=0;s<t;s++)this.putBit((e>>>t-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var XE=f2,Jt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Jt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Jt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ue=0;Ue<8;Ue++)Jt.EXP_TABLE[Ue]=1<<Ue;for(var Ue=8;Ue<256;Ue++)Jt.EXP_TABLE[Ue]=Jt.EXP_TABLE[Ue-4]^Jt.EXP_TABLE[Ue-5]^Jt.EXP_TABLE[Ue-6]^Jt.EXP_TABLE[Ue-8];for(var Ue=0;Ue<255;Ue++)Jt.LOG_TABLE[Jt.EXP_TABLE[Ue]]=Ue;var p2=Jt,In=p2;function El(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var s=0;s<e.length&&e[s]==0;)s++;this.num=new Array(e.length-s+t);for(var n=0;n<e.length-s;n++)this.num[n]=e[n+s]}El.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),s=0;s<this.getLength();s++)for(var n=0;n<e.getLength();n++)t[s+n]^=In.gexp(In.glog(this.get(s))+In.glog(e.get(n)));return new El(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=In.glog(this.get(0))-In.glog(e.get(0)),s=new Array(this.getLength()),n=0;n<this.getLength();n++)s[n]=this.get(n);for(var n=0;n<e.getLength();n++)s[n]^=In.gexp(In.glog(e.get(n))+t);return new El(s,0).mod(e)}};var m2=El,Dt=u2,ex=m2,QE=p2,qs={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ve={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G15)>=0;)t^=Ve.G15<<Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G15);return(e<<10|t)^Ve.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G18)>=0;)t^=Ve.G18<<Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ve.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,s){switch(e){case qs.PATTERN000:return(t+s)%2==0;case qs.PATTERN001:return t%2==0;case qs.PATTERN010:return s%3==0;case qs.PATTERN011:return(t+s)%3==0;case qs.PATTERN100:return(Math.floor(t/2)+Math.floor(s/3))%2==0;case qs.PATTERN101:return t*s%2+t*s%3==0;case qs.PATTERN110:return(t*s%2+t*s%3)%2==0;case qs.PATTERN111:return(t*s%3+(t+s)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new ex([1],0),s=0;s<e;s++)t=t.multiply(new ex([1,QE.gexp(s)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Dt.MODE_NUMBER:return 10;case Dt.MODE_ALPHA_NUM:return 9;case Dt.MODE_8BIT_BYTE:return 8;case Dt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Dt.MODE_NUMBER:return 12;case Dt.MODE_ALPHA_NUM:return 11;case Dt.MODE_8BIT_BYTE:return 16;case Dt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Dt.MODE_NUMBER:return 14;case Dt.MODE_ALPHA_NUM:return 13;case Dt.MODE_8BIT_BYTE:return 16;case Dt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),s=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var r=0,o=e.isDark(n,i),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||l==0&&c==0||o==e.isDark(n+l,i+c)&&r++;r>5&&(s+=3+r-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var d=0;e.isDark(n,i)&&d++,e.isDark(n+1,i)&&d++,e.isDark(n,i+1)&&d++,e.isDark(n+1,i+1)&&d++,(d==0||d==4)&&(s+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(s+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(s+=40);for(var u=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&u++;var h=Math.abs(100*u/t/t-50)/5;return s+=h*10,s}},JE=Ve,ZE=YE,g2=GE,x2=XE,En=JE,e6=m2;function hs(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Tt=hs.prototype;Tt.addData=function(e){var t=new ZE(e);this.dataList.push(t),this.dataCache=null};Tt.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Tt.getModuleCount=function(){return this.moduleCount};Tt.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=g2.getRSBlocks(e,this.errorCorrectLevel),s=new x2,n=0,i=0;i<t.length;i++)n+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var r=this.dataList[i];s.put(r.mode,4),s.put(r.getLength(),En.getLengthInBits(r.mode,e)),r.write(s)}if(s.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Tt.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[s][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=hs.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Tt.setupPositionProbePattern=function(e,t){for(var s=-1;s<=7;s++)if(!(e+s<=-1||this.moduleCount<=e+s))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=s&&s<=6&&(n==0||n==6)||0<=n&&n<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=n&&n<=4?this.modules[e+s][t+n]=!0:this.modules[e+s][t+n]=!1)};Tt.getBestMaskPattern=function(){for(var e=0,t=0,s=0;s<8;s++){this.makeImpl(!0,s);var n=En.getLostPoint(this);(s==0||e>n)&&(e=n,t=s)}return t};Tt.createMovieClip=function(e,t,s){var n=e.createEmptyMovieClip(t,s),i=1;this.make();for(var r=0;r<this.modules.length;r++)for(var o=r*i,l=0;l<this.modules[r].length;l++){var c=l*i,d=this.modules[r][l];d&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n};Tt.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Tt.setupPositionAdjustPattern=function(){for(var e=En.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var s=0;s<e.length;s++){var n=e[t],i=e[s];if(this.modules[n][i]==null)for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)r==-2||r==2||o==-2||o==2||r==0&&o==0?this.modules[n+r][i+o]=!0:this.modules[n+r][i+o]=!1}};Tt.setupTypeNumber=function(e){for(var t=En.getBCHTypeNumber(this.typeNumber),s=0;s<18;s++){var n=!e&&(t>>s&1)==1;this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=n}for(var s=0;s<18;s++){var n=!e&&(t>>s&1)==1;this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=n}};Tt.setupTypeInfo=function(e,t){for(var s=this.errorCorrectLevel<<3|t,n=En.getBCHTypeInfo(s),i=0;i<15;i++){var r=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(var i=0;i<15;i++){var r=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!e};Tt.mapData=function(e,t){for(var s=-1,n=this.moduleCount-1,i=7,r=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[n][o-l]==null){var c=!1;r<e.length&&(c=(e[r]>>>i&1)==1);var d=En.getMask(t,n,o-l);d&&(c=!c),this.modules[n][o-l]=c,i--,i==-1&&(r++,i=7)}if(n+=s,n<0||this.moduleCount<=n){n-=s,s=-s;break}}};hs.PAD0=236;hs.PAD1=17;hs.createData=function(e,t,s){for(var n=g2.getRSBlocks(e,t),i=new x2,r=0;r<s.length;r++){var o=s[r];i.put(o.mode,4),i.put(o.getLength(),En.getLengthInBits(o.mode,e)),o.write(i)}for(var l=0,r=0;r<n.length;r++)l+=n[r].dataCount;if(i.getLengthInBits()>l*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+l*8+")");for(i.getLengthInBits()+4<=l*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=l*8||(i.put(hs.PAD0,8),i.getLengthInBits()>=l*8));)i.put(hs.PAD1,8);return hs.createBytes(i,n)};hs.createBytes=function(e,t){for(var s=0,n=0,i=0,r=new Array(t.length),o=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,d=t[l].totalCount-c;n=Math.max(n,c),i=Math.max(i,d),r[l]=new Array(c);for(var u=0;u<r[l].length;u++)r[l][u]=255&e.buffer[u+s];s+=c;var h=En.getErrorCorrectPolynomial(d),f=new e6(r[l],h.getLength()-1),p=f.mod(h);o[l]=new Array(h.getLength()-1);for(var u=0;u<o[l].length;u++){var g=u+p.getLength()-o[l].length;o[l][u]=g>=0?p.get(g):0}}for(var v=0,u=0;u<t.length;u++)v+=t[u].totalCount;for(var x=new Array(v),m=0,u=0;u<n;u++)for(var l=0;l<t.length;l++)u<r[l].length&&(x[m++]=r[l][u]);for(var u=0;u<i;u++)for(var l=0;l<t.length;l++)u<o[l].length&&(x[m++]=o[l][u]);return x};var t6=hs,Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});var s6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},n6=c2,Rt=v2(n6),y2=N,Ka=v2(y2);function v2(e){return e&&e.__esModule?e:{default:e}}function i6(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}var r6={bgColor:Rt.default.oneOfType([Rt.default.object,Rt.default.string]).isRequired,bgD:Rt.default.string.isRequired,fgColor:Rt.default.oneOfType([Rt.default.object,Rt.default.string]).isRequired,fgD:Rt.default.string.isRequired,size:Rt.default.number.isRequired,title:Rt.default.string,viewBoxSize:Rt.default.number.isRequired,xmlns:Rt.default.string},Wp=(0,y2.forwardRef)(function(e,t){var s=e.bgColor,n=e.bgD,i=e.fgD,r=e.fgColor,o=e.size,l=e.title,c=e.viewBoxSize,d=e.xmlns,u=d===void 0?"http://www.w3.org/2000/svg":d,h=i6(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ka.default.createElement("svg",s6({},h,{height:o,ref:t,viewBox:"0 0 "+c+" "+c,width:o,xmlns:u}),l?Ka.default.createElement("title",null,l):null,Ka.default.createElement("path",{d:n,fill:s}),Ka.default.createElement("path",{d:i,fill:r}))});Wp.displayName="QRCodeSvg";Wp.propTypes=r6;Hp.default=Wp;Object.defineProperty(hd,"__esModule",{value:!0});hd.QRCode=void 0;var o6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a6=c2,vs=xa(a6),l6=d2,c6=xa(l6),d6=t6,u6=xa(d6),b2=N,h6=xa(b2),f6=Hp,p6=xa(f6);function xa(e){return e&&e.__esModule?e:{default:e}}function m6(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}var g6={bgColor:vs.default.oneOfType([vs.default.object,vs.default.string]),fgColor:vs.default.oneOfType([vs.default.object,vs.default.string]),level:vs.default.string,size:vs.default.number,value:vs.default.string.isRequired},fd=(0,b2.forwardRef)(function(e,t){var s=e.bgColor,n=s===void 0?"#FFFFFF":s,i=e.fgColor,r=i===void 0?"#000000":i,o=e.level,l=o===void 0?"L":o,c=e.size,d=c===void 0?256:c,u=e.value,h=m6(e,["bgColor","fgColor","level","size","value"]),f=new u6.default(-1,c6.default[l]);f.addData(u),f.make();var p=f.modules;return h6.default.createElement(p6.default,o6({},h,{bgColor:n,bgD:p.map(function(g,v){return g.map(function(x,m){return x?"":"M "+m+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:r,fgD:p.map(function(g,v){return g.map(function(x,m){return x?"M "+m+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:d,viewBoxSize:p.length}))});hd.QRCode=fd;fd.displayName="QRCode";fd.propTypes=g6;var x6=hd.default=fd;const y6=({isOpen:e,onClose:t,patient:s})=>!e||!s?null:a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white p-8 rounded-2xl w-full max-w-sm shadow-2xl relative text-center",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(Me,{size:24})}),a.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Patient ID"}),a.jsxs("p",{className:"text-slate-500 mb-6",children:[s.firstName," ",s.lastName]}),a.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-slate-100 inline-block",children:a.jsx(x6,{value:JSON.stringify({id:s._id,name:`${s.firstName} ${s.lastName}`,email:s.email}),size:200,level:"H"})}),a.jsx("p",{className:"mt-6 text-sm text-slate-400",children:"Scan this code to access patient records instantly."})]})})}),v6=(e,t)=>{if(!e||!e.length){alert("No data to export");return}const s=Object.keys(e[0]),n=[];n.push(s.join(","));for(const l of e){const c=s.map(d=>`"${(""+l[d]).replace(/"/g,'\\"')}"`);n.push(c.join(","))}const i=new Blob([n.join(`
`)],{type:"text/csv"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.setAttribute("hidden",""),o.setAttribute("href",r),o.setAttribute("download",`${t}.csv`),document.body.appendChild(o),o.click(),document.body.removeChild(o)},b6=({isOpen:e,onClose:t,onPatientAdded:s})=>{const[n,i]=N.useState({firstName:"",lastName:"",email:"",phone:"",gender:"Male",dateOfBirth:"",password:"password123"}),[r,o]=N.useState(!1),l=d=>{i({...n,[d.target.name]:d.target.value})},c=async d=>{var u,h;d.preventDefault(),o(!0);try{await I.post("/patients",n),R.success("Patient added successfully"),s(),t(),i({firstName:"",lastName:"",email:"",phone:"",gender:"Male",dateOfBirth:"",password:"password123"})}catch(f){R.error(((h=(u=f.response)==null?void 0:u.data)==null?void 0:h.message)||"Failed to add patient")}finally{o(!1)}};return e?a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(mr,{className:"text-cyan-500"}),a.jsx("h2",{className:"text-lg font-bold",children:"Add New Patient"})]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(Me,{size:24})})]}),a.jsxs("form",{onSubmit:c,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"First Name"}),a.jsx("input",{name:"firstName",value:n.firstName,onChange:l,className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Last Name"}),a.jsx("input",{name:"lastName",value:n.lastName,onChange:l,className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ud,{className:"absolute left-3 top-2.5 text-slate-400 w-4 h-4"}),a.jsx("input",{name:"email",type:"email",value:n.email,onChange:l,className:"w-full pl-9 border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Phone"}),a.jsxs("div",{className:"relative",children:[a.jsx(vi,{className:"absolute left-3 top-2.5 text-slate-400 w-4 h-4"}),a.jsx("input",{name:"phone",value:n.phone,onChange:l,className:"w-full pl-9 border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Date of Birth"}),a.jsxs("div",{className:"relative",children:[a.jsx(je,{className:"absolute left-3 top-2.5 text-slate-400 w-4 h-4"}),a.jsx("input",{name:"dateOfBirth",type:"date",value:n.dateOfBirth,onChange:l,className:"w-full pl-9 border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Gender"}),a.jsxs("select",{name:"gender",value:n.gender,onChange:l,className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",children:[a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"md:col-span-2 pt-4 border-t border-slate-100 flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors font-bold disabled:opacity-50",children:r?"Adding...":"Add Patient"})]})]})]})})}):null},w6=({isOpen:e,onClose:t,patient:s})=>!e||!s?null:a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-opacity-95 backdrop-blur z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center text-cyan-600 font-bold text-lg",children:s.firstName[0]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-800",children:[s.firstName," ",s.lastName]}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Patient ID: ",s._id]})]})]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(Me,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("section",{children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[a.jsx(bi,{size:16})," Personal Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Full Name"}),a.jsxs("p",{className:"font-medium text-slate-800",children:[s.firstName," ",s.lastName]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Date of Birth"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{size:14,className:"text-cyan-500"}),a.jsx("p",{className:"font-medium text-slate-800",children:s.dateOfBirth?new Date(s.dateOfBirth).toLocaleDateString():"N/A"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Gender"}),a.jsx("p",{className:"font-medium text-slate-800",children:s.gender})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Registered On"}),a.jsx("p",{className:"font-medium text-slate-800",children:new Date(s.createdAt).toLocaleDateString()})]})]})]}),a.jsxs("section",{children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[a.jsx(vi,{size:16})," Contact Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Email Address"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ud,{size:14,className:"text-cyan-500"}),a.jsx("p",{className:"font-medium text-slate-800",children:s.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Phone Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vi,{size:14,className:"text-cyan-500"}),a.jsx("p",{className:"font-medium text-slate-800",children:s.phone||"N/A"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Address"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jE,{size:14,className:"text-cyan-500"}),a.jsx("p",{className:"font-medium text-slate-800",children:s.address||"No address provided"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[a.jsx(Fs,{size:16})," Medical Overview"]}),a.jsxs("div",{className:"bg-cyan-50 p-4 rounded-xl border border-cyan-100 text-cyan-800 flex items-start gap-3",children:[a.jsx(Ne,{className:"mt-1 shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Medical History feature coming soon"}),a.jsx("p",{className:"text-sm text-cyan-600 mt-1",children:"Detailed medical records, appointments history, and prescriptions will be displayed here."})]})]})]})]}),a.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end",children:a.jsx("button",{onClick:t,className:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 px-4 py-2 rounded-lg font-medium transition-colors",children:"Close Details"})})]})})}),j6=()=>{const[e,t]=N.useState([]),[s,n]=N.useState(!0),[i,r]=N.useState(""),[o,l]=N.useState(!1),{user:c}=Te(),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null);N.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:m}=await I.get("/patients");t(m)}catch{R.error("Failed to fetch patients")}finally{n(!1)}},x=e.filter(m=>m.firstName.toLowerCase().includes(i.toLowerCase())||m.lastName.toLowerCase().includes(i.toLowerCase())||m.email.toLowerCase().includes(i.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Patients Management"}),a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:()=>v6(e,"patients_list"),className:"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors font-medium text-sm",children:[a.jsx(Ne,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]}),((c==null?void 0:c.role)==="Admin"||(c==null?void 0:c.role)==="Receptionist")&&a.jsxs("button",{onClick:()=>u(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-cyan-500/20 text-sm",children:[a.jsx(ns,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Add Patient"})]})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Us,{className:"absolute left-3 top-3 text-slate-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search patients by name or email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500 transition-colors",value:i,onChange:m=>r(m.target.value)})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-x-auto",children:s?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading patients..."}):a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Patient Name"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Contact"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Age/Gender"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Registered"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[x.map((m,y)=>a.jsxs(q.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[m.profileImage?a.jsx("img",{src:m.profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover ring-2 ring-slate-100"}):a.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center text-cyan-600 font-bold",children:m.firstName[0]}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-slate-800",children:[m.firstName," ",m.lastName]}),a.jsx("div",{className:"text-sm text-slate-500",children:m.email})]})]})}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vi,{size:16,className:"text-slate-400"}),m.phone||"N/A"]})}),a.jsxs("td",{className:"px-6 py-4 text-slate-600",children:[m.gender,m.dateOfBirth&&`  ${new Date().getFullYear()-new Date(m.dateOfBirth).getFullYear()} y/o`]}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(m.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 flex gap-3",children:[a.jsx("button",{onClick:()=>{g(m),f(!0)},className:"text-cyan-600 hover:text-cyan-700 font-medium",children:"View"}),a.jsx("button",{onClick:()=>{g(m),l(!0)},className:"text-slate-500 hover:text-slate-800",title:"View QR Code",children:a.jsx(CE,{size:20})})]})]},m._id)),x.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-500",children:"No patients found."})})]})]})}),a.jsx(y6,{isOpen:o,onClose:()=>l(!1),patient:p}),a.jsx(b6,{isOpen:d,onClose:()=>u(!1),onPatientAdded:v}),a.jsx(w6,{isOpen:h,onClose:()=>f(!1),patient:p})]})},N6=({doctorId:e,isOpen:t,onClose:s})=>{const[n,i]=N.useState({reviews:[],averageRating:0,totalReviews:0}),[r,o]=N.useState(!0);N.useEffect(()=>{t&&e&&l()},[t,e]);const l=async()=>{try{const{data:d}=await I.get(`/reviews/doctor/${e}`);i(d)}catch(d){console.error("Error fetching reviews:",d)}finally{o(!1)}};if(!t)return null;const c=d=>a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(u=>a.jsx(pr,{size:14,className:u<=d?"text-yellow-400 fill-yellow-400":"text-slate-200"},u))});return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Doctor Reviews"}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pr,{size:20,className:"text-yellow-400 fill-yellow-400"}),a.jsx("span",{className:"text-2xl font-bold text-slate-800",children:n.averageRating})]}),a.jsxs("span",{className:"text-slate-500 text-sm",children:["(",n.totalReviews," reviews)"]})]})]}),a.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-600 text-2xl font-bold",children:""})]})}),a.jsx("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:r?a.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading reviews..."}):n.reviews.length>0?n.reviews.map(d=>{var u,h,f,p,g,v,x;return a.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[(u=d.patient)!=null&&u.profileImage?a.jsx("img",{src:d.patient.profileImage,alt:"",className:"w-9 h-9 rounded-full object-cover"}):a.jsxs("div",{className:"w-9 h-9 bg-cyan-100 rounded-full flex items-center justify-center text-cyan-600 text-xs font-bold",children:[(f=(h=d.patient)==null?void 0:h.firstName)==null?void 0:f[0],(g=(p=d.patient)==null?void 0:p.lastName)==null?void 0:g[0]]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 text-sm",children:[(v=d.patient)==null?void 0:v.firstName," ",(x=d.patient)==null?void 0:x.lastName]}),a.jsx("p",{className:"text-xs text-slate-400",children:new Date(d.createdAt).toLocaleDateString()})]})]}),c(d.rating)]}),d.comment&&a.jsx("p",{className:"text-sm text-slate-600 mt-3 pl-12",children:d.comment})]},d._id)}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(SE,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"No Reviews Yet"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Be the first to review this doctor!"})]})})]})})},S6=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState(""),[l,c]=N.useState({}),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({firstName:"",lastName:"",email:"",password:"",phone:"",gender:"Male",department:""});N.useEffect(()=>{v(),x()},[]);const v=async()=>{try{const{data:w}=await I.get("/doctors");s(w)}catch{R.error("Failed to fetch doctors")}finally{i(!1)}},x=async()=>{try{const{data:w}=await I.get("/reviews/ratings");c(w)}catch(w){console.error("Failed to fetch ratings:",w)}},m=async w=>{var j,k;w.preventDefault();try{await I.post("/doctors",p),R.success("Doctor added successfully"),f(!1),g({firstName:"",lastName:"",email:"",password:"",phone:"",gender:"Male",department:""}),v()}catch(C){R.error(((k=(j=C.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to add doctor")}},y=t.filter(w=>{var j;return w.firstName.toLowerCase().includes(r.toLowerCase())||w.lastName.toLowerCase().includes(r.toLowerCase())||((j=w.doctorDepartment)==null?void 0:j.toLowerCase().includes(r.toLowerCase()))}),b=w=>a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(j=>a.jsx(pr,{size:12,className:j<=Math.round(w)?"text-yellow-400 fill-yellow-400":"text-slate-200"},j))});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Doctors"}),e.role==="Admin"&&a.jsxs("button",{onClick:()=>f(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-cyan-500/20 text-sm",children:[a.jsx(ns,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Add Doctor"}),a.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Us,{className:"absolute left-3 top-3 text-slate-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name or department...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:border-cyan-500 transition-colors bg-white shadow-sm",value:r,onChange:w=>o(w.target.value)})]}),n?a.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading doctors..."}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.map((w,j)=>{const k=l[w._id];return a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 flex flex-col gap-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[w.profileImage?a.jsx("img",{src:w.profileImage,alt:"",className:"w-16 h-16 rounded-full object-cover shadow-lg ring-2 ring-cyan-200"}):a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-cyan-500/30",children:w.firstName[0]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:["Dr. ",w.firstName," ",w.lastName]}),a.jsxs("div",{className:"flex items-center gap-1 text-cyan-600 font-medium text-sm",children:[a.jsx(r2,{size:14}),a.jsx("span",{children:w.doctorDepartment||"General"})]}),k?a.jsxs("button",{onClick:()=>u(w._id),className:"flex items-center gap-1.5 mt-1 hover:opacity-80 transition-opacity",children:[b(k.averageRating),a.jsxs("span",{className:"text-xs font-medium text-slate-500",children:[k.averageRating," (",k.totalReviews,")"]})]}):a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"No reviews yet"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-100 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[a.jsx(ud,{size:12})," Email"]}),a.jsx("span",{className:"text-slate-600 truncate",title:w.email,children:w.email})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[a.jsx(vi,{size:12})," Phone"]}),a.jsx("span",{className:"text-slate-600",children:w.phone||"N/A"})]})]}),a.jsx("button",{onClick:()=>u(w._id),className:"w-full mt-2 py-2 rounded-lg bg-slate-50 text-slate-600 font-medium hover:bg-cyan-50 hover:text-cyan-600 transition-colors",children:"View Reviews"})]},w._id)}),y.length===0&&a.jsx("div",{className:"col-span-full py-10 text-center text-slate-500",children:"No doctors found."})]}),a.jsx(N6,{doctorId:d,isOpen:!!d,onClose:()=>u(null)}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white p-5 sm:p-8 rounded-2xl w-full max-w-lg shadow-2xl mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Add New Doctor"}),a.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:20})})]}),a.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"First Name"}),a.jsx("input",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.firstName,onChange:w=>g({...p,firstName:w.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Name"}),a.jsx("input",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.lastName,onChange:w=>g({...p,lastName:w.target.value}),required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.email,onChange:w=>g({...p,email:w.target.value}),required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.password,onChange:w=>g({...p,password:w.target.value}),required:!0,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),a.jsx("input",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.phone,onChange:w=>g({...p,phone:w.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Gender"}),a.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.gender,onChange:w=>g({...p,gender:w.target.value}),children:[a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Department"}),a.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.department,onChange:w=>g({...p,department:w.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Select Department"}),a.jsx("option",{value:"Cardiology",children:"Cardiology"}),a.jsx("option",{value:"Neurology",children:"Neurology"}),a.jsx("option",{value:"Orthopedics",children:"Orthopedics"}),a.jsx("option",{value:"Pediatrics",children:"Pediatrics"}),a.jsx("option",{value:"Dermatology",children:"Dermatology"}),a.jsx("option",{value:"Ophthalmology",children:"Ophthalmology"}),a.jsx("option",{value:"ENT",children:"ENT"}),a.jsx("option",{value:"General Medicine",children:"General Medicine"}),a.jsx("option",{value:"Surgery",children:"Surgery"}),a.jsx("option",{value:"Gynecology",children:"Gynecology"}),a.jsx("option",{value:"Psychiatry",children:"Psychiatry"}),a.jsx("option",{value:"Radiology",children:"Radiology"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6 col-span-2",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 py-3 bg-cyan-600 text-white rounded-lg font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-500/20",children:"Add Doctor"})]})]})]})})]})},k6=({isOpen:e,onClose:t,appointment:s,onReviewAdded:n})=>{var g,v;const[i,r]=N.useState(0),[o,l]=N.useState(0),[c,d]=N.useState(""),[u,h]=N.useState(!1);if(!e)return null;const f=async x=>{var m,y;if(x.preventDefault(),i===0){R.error("Please select a rating");return}h(!0);try{await I.post("/reviews",{appointmentId:s._id,rating:i,comment:c}),R.success("Review submitted! Thank you "),n==null||n(),t(),r(0),d("")}catch(b){R.error(((y=(m=b.response)==null?void 0:m.data)==null?void 0:y.message)||"Failed to submit review")}finally{h(!1)}},p=o||i;return a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 p-6 text-white",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Rate Your Experience"}),a.jsxs("p",{className:"text-cyan-100 text-sm mt-1",children:["Dr. ",(g=s==null?void 0:s.doctor)==null?void 0:g.firstName," ",(v=s==null?void 0:s.doctor)==null?void 0:v.lastName]})]}),a.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors",children:a.jsx(Me,{size:24})})]})}),a.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600 mb-3",children:"How was your experience?"}),a.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(x=>a.jsx("button",{type:"button",onClick:()=>r(x),onMouseEnter:()=>l(x),onMouseLeave:()=>l(0),className:"transition-transform hover:scale-125",children:a.jsx(pr,{size:36,className:`transition-colors ${x<=p?"text-yellow-400 fill-yellow-400":"text-slate-200"}`})},x))}),a.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[p===1&&"Poor",p===2&&"Fair",p===3&&"Good",p===4&&"Very Good",p===5&&"Excellent!"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Write a Review (optional)"}),a.jsx("textarea",{value:c,onChange:x=>d(x.target.value),placeholder:"Share your experience with the doctor...",rows:"3",maxLength:500,className:"w-full p-3 border border-slate-200 rounded-xl focus:outline-none focus:border-cyan-500 resize-none transition-colors"}),a.jsxs("p",{className:"text-xs text-slate-400 text-right mt-1",children:[c.length,"/500"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u||i===0,className:"flex-1 py-3 bg-cyan-600 text-white rounded-xl font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-500/20 flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(i2,{size:18}),u?"Submitting...":"Submit Review"]})]})]})]})})})},_6=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState([]),[r,o]=N.useState(!0),[l,c]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(new Set),[p,g]=N.useState({doctorId:"",appointmentDate:"",reason:""});N.useEffect(()=>{v(),(e.role==="Patient"||e.role==="Receptionist")&&x()},[e.role]),N.useEffect(()=>{e.role==="Patient"&&b()},[t]);const v=async()=>{try{const{data:w}=await I.get("/appointments");s(w)}catch{R.error("Failed to fetch appointments")}finally{o(!1)}},x=async()=>{try{const{data:w}=await I.get("/doctors");i(w)}catch(w){console.error(w)}},m=async w=>{var j,k;w.preventDefault();try{await I.post("/appointments",p),R.success("Appointment booked successfully"),c(!1),v()}catch(C){R.error(((k=(j=C.response)==null?void 0:j.data)==null?void 0:k.message)||"Booking Failed")}},y=async(w,j)=>{try{await I.put(`/appointments/${w}`,{status:j}),R.success(`Appointment ${j}`),v()}catch{R.error("Update Failed")}},b=async()=>{try{const w=t.filter(k=>k.status==="Completed"),j=new Set;for(const k of w)try{const{data:C}=await I.get(`/reviews/check/${k._id}`);C.reviewed&&j.add(k._id)}catch{}f(j)}catch(w){console.error(w)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Appointments"}),(e.role==="Patient"||e.role==="Receptionist")&&a.jsxs("button",{onClick:()=>c(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-cyan-500/20 text-sm",children:[a.jsx(ns,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Book Appointment"}),a.jsx("span",{className:"sm:hidden",children:"Book"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r?a.jsx("div",{className:"text-center py-10 text-slate-500",children:"Loading appointments..."}):t.map((w,j)=>a.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.05},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[(()=>{var C,_;const k=e.role==="Patient"?w.doctor:w.patient;return k!=null&&k.profileImage?a.jsx("img",{src:k.profileImage,alt:"",className:"w-12 h-12 rounded-xl object-cover ring-2 ring-slate-100 shadow-sm"}):a.jsxs("div",{className:"w-12 h-12 bg-cyan-50 rounded-xl flex items-center justify-center text-cyan-600 font-bold shadow-sm",children:[(C=k==null?void 0:k.firstName)==null?void 0:C[0],(_=k==null?void 0:k.lastName)==null?void 0:_[0]]})})(),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800",children:e.role==="Patient"?`Dr. ${w.doctor.firstName} ${w.doctor.lastName}`:`Patient: ${w.patient.firstName} ${w.patient.lastName}`}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[a.jsx(ot,{size:14}),new Date(w.appointmentDate).toLocaleString()]}),a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[a.jsx("span",{className:"font-semibold",children:"Reason:"})," ",w.reason]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium
                  ${w.status==="Pending"?"bg-yellow-100 text-yellow-700":w.status==="Confirmed"?"bg-green-100 text-green-700":w.status==="Cancelled"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:w.status}),(e.role==="Doctor"||e.role==="Receptionist")&&w.status==="Pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>y(w._id,"Confirmed"),className:"p-2 text-green-600 hover:bg-green-50 rounded-full",title:"Confirm",children:a.jsx(Ut,{size:20})}),a.jsx("button",{onClick:()=>y(w._id,"Cancelled"),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Cancel",children:a.jsx(jc,{size:20})})]}),e.role==="Patient"&&w.status==="Completed"&&!h.has(w._id)&&a.jsxs("button",{onClick:()=>u(w),className:"flex items-center gap-1 px-3 py-1.5 bg-yellow-50 text-yellow-700 rounded-lg text-sm font-medium hover:bg-yellow-100 transition-colors",children:[a.jsx(pr,{size:14}),"Rate Doctor"]}),e.role==="Patient"&&h.has(w._id)&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium",children:[a.jsx(Ut,{size:14}),"Reviewed"]})]})]},w._id)),!r&&t.length===0&&a.jsx("div",{className:"text-center py-10 text-slate-500 bg-white rounded-xl border border-slate-100",children:"No appointments found."})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white p-8 rounded-2xl w-full max-w-md shadow-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Book Appointment"}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Doctor"}),a.jsxs("select",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500 bg-white",value:p.doctorId,onChange:w=>g({...p,doctorId:w.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Choose a doctor..."}),n.map(w=>a.jsxs("option",{value:w._id,children:["Dr. ",w.firstName," ",w.lastName," (",w.doctorDepartment,")"]},w._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date & Time"}),a.jsx("input",{type:"datetime-local",className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:p.appointmentDate,onChange:w=>g({...p,appointmentDate:w.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reason"}),a.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",rows:"3",value:p.reason,onChange:w=>g({...p,reason:w.target.value}),required:!0})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 py-3 bg-cyan-600 text-white rounded-lg font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-500/20",children:"Confirm Booking"})]})]})]})}),a.jsx(k6,{isOpen:!!d,onClose:()=>u(null),appointment:d,onReviewAdded:()=>{b()}})]})},C6=({isOpen:e,onClose:t,onInvoiceCreated:s})=>{const[n,i]=N.useState([]),[r,o]=N.useState([]),[l,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState([{description:"Consultation Fee",cost:""}]),[p,g]=N.useState(!1);N.useEffect(()=>{e&&(async()=>{try{const[j,k]=await Promise.all([I.get("/patients"),I.get("/doctors")]);i(j.data),o(k.data)}catch(j){console.error("Error fetching data:",j)}})()},[e]);const v=(w,j,k)=>{const C=[...h];C[w][j]=j==="cost"?Number(k)||"":k,f(C)},x=()=>{f([...h,{description:"",cost:""}])},m=w=>{f(h.filter((j,k)=>k!==w))},y=h.reduce((w,j)=>w+(Number(j.cost)||0),0),b=async w=>{var j,k;if(w.preventDefault(),!l||!d){R.error("Please select patient and doctor");return}if(h.some(C=>!C.description||!C.cost)){R.error("Please fill all item fields");return}g(!0);try{await I.post("/invoices",{patientId:l,doctorId:d,items:h.map(C=>({description:C.description,cost:Number(C.cost)}))}),R.success("Invoice created successfully!"),s(),t(),c(""),u(""),f([{description:"Consultation Fee",cost:""}])}catch(C){R.error(((k=(j=C.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to create invoice")}finally{g(!1)}};return e?a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(Ne,{className:"text-cyan-500"}),a.jsx("h2",{className:"text-lg font-bold",children:"Create Invoice"})]}),a.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(Me,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto p-6",children:a.jsxs("form",{id:"invoice-form",onSubmit:b,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Patient *"}),a.jsxs("select",{value:l,onChange:w=>c(w.target.value),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),n.map(w=>{var j,k,C;return a.jsxs("option",{value:((j=w.user)==null?void 0:j._id)||w._id,children:[((k=w.user)==null?void 0:k.firstName)||w.firstName," ",((C=w.user)==null?void 0:C.lastName)||w.lastName]},w._id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-600 mb-1 text-sm font-medium",children:"Doctor *"}),a.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Doctor"}),r.map(w=>{var j,k,C;return a.jsxs("option",{value:((j=w.user)==null?void 0:j._id)||w._id,children:["Dr. ",((k=w.user)==null?void 0:k.firstName)||w.firstName," ",((C=w.user)==null?void 0:C.lastName)||w.lastName]},w._id)})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-slate-600 text-sm font-medium",children:"Billing Items"}),a.jsxs("button",{type:"button",onClick:x,className:"text-cyan-600 hover:text-cyan-700 text-sm font-bold flex items-center gap-1",children:[a.jsx(ns,{size:16})," Add Item"]})]}),a.jsx("div",{className:"space-y-3",children:h.map((w,j)=>a.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-lg border border-slate-100",children:[a.jsx("input",{placeholder:"Description (e.g. Consultation Fee)",value:w.description,onChange:k=>v(j,"description",k.target.value),className:"flex-1 border border-slate-200 rounded py-1.5 px-2 text-sm focus:outline-none focus:border-cyan-500",required:!0}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-2 top-1.5 text-slate-400 text-sm",children:""}),a.jsx("input",{type:"number",placeholder:"Cost",value:w.cost,onChange:k=>v(j,"cost",k.target.value),className:"w-28 border border-slate-200 rounded py-1.5 pl-6 pr-2 text-sm focus:outline-none focus:border-cyan-500",required:!0,min:"0"})]}),h.length>1&&a.jsx("button",{type:"button",onClick:()=>m(j),className:"text-red-400 hover:text-red-600 transition-colors",children:a.jsx(ga,{size:18})})]},j))})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100 flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"Total Amount:"}),a.jsxs("span",{className:"text-2xl font-bold text-cyan-600",children:["",y.toLocaleString()]})]})]})}),a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end gap-3 shrink-0",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",form:"invoice-form",disabled:p,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors font-bold disabled:opacity-50",children:p?"Creating...":"Create Invoice"})]})]})})}):null},P6=({invoice:e,isOpen:t,onClose:s})=>{var r,o,l,c,d,u;const n=N.useRef();if(!t||!e)return null;const i=()=>{const h=n.current,f=window.open("","_blank");f.document.write(`
            <html>
            <head>
                <title>Invoice #${e._id.slice(-6)}</title>
                <style>
                    * { margin: 0; padding: 0; box-sizing: border-box; }
                    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #1e293b; padding: 40px; }
                    .invoice { max-width: 800px; margin: 0 auto; }
                    .header { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 3px solid #06b6d4; padding-bottom: 20px; margin-bottom: 30px; }
                    .hospital-name { font-size: 28px; font-weight: 800; color: #06b6d4; }
                    .hospital-sub { font-size: 12px; color: #64748b; margin-top: 4px; }
                    .invoice-title { text-align: right; }
                    .invoice-title h2 { font-size: 24px; color: #1e293b; }
                    .invoice-title p { font-size: 13px; color: #64748b; margin-top: 2px; }
                    .meta { display: flex; justify-content: space-between; margin-bottom: 30px; }
                    .meta-box { background: #f8fafc; padding: 15px 20px; border-radius: 8px; width: 48%; }
                    .meta-box h4 { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: #94a3b8; margin-bottom: 8px; }
                    .meta-box p { font-size: 14px; color: #334155; margin: 3px 0; }
                    .meta-box .name { font-weight: 700; font-size: 16px; color: #1e293b; }
                    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
                    th { background: #0891b2; color: white; padding: 12px 16px; text-align: left; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; }
                    th:first-child { border-radius: 8px 0 0 0; }
                    th:last-child { border-radius: 0 8px 0 0; text-align: right; }
                    td { padding: 12px 16px; border-bottom: 1px solid #e2e8f0; font-size: 14px; }
                    td:last-child { text-align: right; font-weight: 600; }
                    tr:nth-child(even) { background: #f8fafc; }
                    .total-row { display: flex; justify-content: flex-end; margin-top: 10px; }
                    .total-box { background: #06b6d4; color: white; padding: 15px 30px; border-radius: 8px; text-align: right; min-width: 250px; }
                    .total-box .label { font-size: 13px; opacity: 0.8; }
                    .total-box .amount { font-size: 28px; font-weight: 800; }
                    .status-badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 700; }
                    .status-paid { background: #dcfce7; color: #16a34a; }
                    .status-unpaid { background: #fee2e2; color: #dc2626; }
                    .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #e2e8f0; text-align: center; color: #94a3b8; font-size: 12px; }
                    .info-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #e2e8f0; font-size: 13px; }
                    .info-row .label { color: #64748b; }
                    .info-row .value { font-weight: 600; color: #1e293b; }
                    @media print { body { padding: 20px; } .no-print { display: none; } }
                </style>
            </head>
            <body>
                ${h.innerHTML}
            </body>
            </html>
        `),f.document.close(),setTimeout(()=>{f.print()},300)};return a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden my-8",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Invoice Preview"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:i,className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 font-bold text-sm transition-colors",children:[a.jsx(n2,{size:16}),"Print / Save PDF"]}),a.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:24})})]})]}),a.jsx("div",{ref:n,className:"p-8",children:a.jsxs("div",{className:"invoice",children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",borderBottom:"3px solid #06b6d4",paddingBottom:"20px",marginBottom:"25px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"#06b6d4"},children:" MediCare Hospital"}),a.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"4px"},children:"123 Health Street, Medical City"}),a.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Phone: +91 98765-43210 | Email: info@medicare.com"})]}),a.jsxs("div",{style:{textAlign:"right"},children:[a.jsx("h2",{style:{fontSize:"22px",color:"#1e293b",fontWeight:700},children:"INVOICE"}),a.jsxs("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"2px"},children:["#",e._id.slice(-6)]}),a.jsx("span",{className:`status-badge ${e.status==="Paid"?"status-paid":"status-unpaid"}`,style:{display:"inline-block",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:700,marginTop:"8px",background:e.status==="Paid"?"#dcfce7":"#fee2e2",color:e.status==="Paid"?"#16a34a":"#dc2626"},children:e.status})]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"25px",gap:"16px"},children:[a.jsxs("div",{style:{background:"#f8fafc",padding:"15px 20px",borderRadius:"8px",width:"48%"},children:[a.jsx("h4",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"1px",color:"#94a3b8",marginBottom:"8px"},children:"Bill To"}),a.jsxs("p",{style:{fontWeight:700,fontSize:"16px",color:"#1e293b"},children:[(r=e.patient)==null?void 0:r.firstName," ",(o=e.patient)==null?void 0:o.lastName]}),a.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"2px"},children:(l=e.patient)==null?void 0:l.email})]}),a.jsxs("div",{style:{background:"#f8fafc",padding:"15px 20px",borderRadius:"8px",width:"48%"},children:[a.jsx("h4",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"1px",color:"#94a3b8",marginBottom:"8px"},children:"Invoice Details"}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",marginBottom:"4px"},children:[a.jsx("span",{style:{color:"#64748b"},children:"Date:"}),a.jsx("span",{style:{fontWeight:600},children:new Date(e.date||e.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),e.doctor&&a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",marginBottom:"4px"},children:[a.jsx("span",{style:{color:"#64748b"},children:"Doctor:"}),a.jsxs("span",{style:{fontWeight:600},children:["Dr. ",(c=e.doctor)==null?void 0:c.firstName," ",(d=e.doctor)==null?void 0:d.lastName]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[a.jsx("span",{style:{color:"#64748b"},children:"Type:"}),a.jsx("span",{style:{fontWeight:600},children:e.invoiceType||"Consultation"})]})]})]}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{background:"#0891b2",color:"white",padding:"12px 16px",textAlign:"left",fontSize:"13px",borderRadius:"8px 0 0 0"},children:"#"}),a.jsx("th",{style:{background:"#0891b2",color:"white",padding:"12px 16px",textAlign:"left",fontSize:"13px"},children:"Description"}),a.jsx("th",{style:{background:"#0891b2",color:"white",padding:"12px 16px",textAlign:"right",fontSize:"13px"},children:"Qty"}),a.jsx("th",{style:{background:"#0891b2",color:"white",padding:"12px 16px",textAlign:"right",fontSize:"13px"},children:"Price"}),a.jsx("th",{style:{background:"#0891b2",color:"white",padding:"12px 16px",textAlign:"right",fontSize:"13px",borderRadius:"0 8px 0 0"},children:"Total"})]})}),a.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map((h,f)=>{const p=h.cost||h.price||h.amount||0,g=h.quantity||1;return a.jsxs("tr",{style:{background:f%2===0?"white":"#f8fafc"},children:[a.jsx("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px"},children:f+1}),a.jsx("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px"},children:h.description||h.name}),a.jsx("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px",textAlign:"right"},children:g}),a.jsxs("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px",textAlign:"right"},children:["",p]}),a.jsxs("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px",textAlign:"right",fontWeight:600},children:["",g*p]})]},f)}):a.jsxs("tr",{children:[a.jsx("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px"},children:"1"}),a.jsxs("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px"},children:[e.invoiceType||"Consultation"," Service"]}),a.jsx("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px",textAlign:"right"},children:"1"}),a.jsxs("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px",textAlign:"right"},children:["",e.total]}),a.jsxs("td",{style:{padding:"12px 16px",borderBottom:"1px solid #e2e8f0",fontSize:"14px",textAlign:"right",fontWeight:600},children:["",e.total]})]})})]}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:a.jsxs("div",{style:{background:"#06b6d4",color:"white",padding:"15px 30px",borderRadius:"8px",textAlign:"right",minWidth:"200px"},children:[a.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Grand Total"}),a.jsxs("div",{style:{fontSize:"28px",fontWeight:800},children:["",(u=e.total)==null?void 0:u.toLocaleString()]})]})}),a.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid #e2e8f0",textAlign:"center",color:"#94a3b8",fontSize:"12px"},children:[a.jsx("p",{children:"Thank you for choosing MediCare Hospital"}),a.jsx("p",{style:{marginTop:"4px"},children:"This is a computer-generated invoice. No signature required."})]})]})})]})})})},tx=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState(!1),[l,c]=N.useState(null);N.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h}=await I.get("/invoices");s(h)}catch{R.error("Failed to fetch invoices")}finally{i(!1)}},u=async h=>{try{await I.put(`/invoices/${h}/pay`),R.success("Invoice marked as paid"),d()}catch{R.error("Update Failed")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Billing & Invoices"}),(e.role==="Admin"||e.role==="Receptionist")&&a.jsxs("button",{onClick:()=>o(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-cyan-500/20 text-sm",children:[a.jsx(ns,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Create Invoice"}),a.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n?a.jsx("div",{className:"col-span-full text-center py-10 text-slate-500",children:"Loading invoices..."}):t.map((h,f)=>{var p,g,v,x;return a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:f*.05},className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"bg-cyan-50 p-3 rounded-lg text-cyan-500",children:a.jsx(Ne,{size:24})}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium
                    ${h.status==="Paid"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:h.status})]}),a.jsxs("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:["Invoice #",h._id.slice(-6)]}),a.jsx("p",{className:"text-slate-500 text-sm mb-4",children:new Date(h.date).toLocaleDateString()}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-500",children:"Patient:"}),a.jsxs("span",{className:"font-medium text-slate-700",children:[(p=h.patient)==null?void 0:p.firstName," ",(g=h.patient)==null?void 0:g.lastName]})]}),h.doctor&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-500",children:"Doctor:"}),a.jsxs("span",{className:"font-medium text-slate-700",children:[(v=h.doctor)==null?void 0:v.firstName," ",(x=h.doctor)==null?void 0:x.lastName]})]}),h.invoiceType&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-500",children:"Type:"}),a.jsx("span",{className:`font-medium ${h.invoiceType==="Pharmacy"?"text-green-600":"text-blue-600"}`,children:h.invoiceType})]}),a.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-100",children:[a.jsx("span",{className:"text-slate-700",children:"Total:"}),a.jsxs("span",{className:"text-cyan-600",children:["",h.total]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>c(h),className:"flex-1 py-2 border border-slate-200 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors font-medium text-sm flex items-center justify-center gap-1",children:[a.jsx(n2,{size:14}),"Print / PDF"]}),(e.role==="Admin"||e.role==="Receptionist")&&h.status==="Unpaid"&&a.jsxs("button",{onClick:()=>u(h._id),className:"flex-1 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium text-sm flex items-center justify-center gap-1",children:[a.jsx(Ut,{size:16})," Mark Paid"]})]})]},h._id)}),!n&&t.length===0&&a.jsx("div",{className:"col-span-full text-center py-10 text-slate-500",children:"No invoices found."})]}),a.jsx(C6,{isOpen:r,onClose:()=>o(!1),onInvoiceCreated:d}),a.jsx(P6,{invoice:l,isOpen:!!l,onClose:()=>c(null)})]})},T6=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState(!1),[l,c]=N.useState(null),[d,u]=N.useState({name:"",category:"",stock:0,price:0,expiryDate:"",supplier:""});N.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:m}=await I.get("/medicines");s(m)}catch{R.error("Failed to fetch inventory")}finally{i(!1)}},f=async m=>{m.preventDefault();try{await I.post("/medicines",d),R.success("Medicine added successfully"),o(!1),h(),u({name:"",category:"",stock:0,price:0,expiryDate:"",supplier:""})}catch{R.error("Failed to add medicine")}},p=async m=>{m.preventDefault();try{await I.put(`/medicines/${l._id}`,l),R.success("Medicine updated successfully"),c(null),h()}catch{R.error("Failed to update medicine")}},g=m=>{c({...m,expiryDate:m.expiryDate?new Date(m.expiryDate).toISOString().split("T")[0]:""})},v=async m=>{if(window.confirm("Are you sure?"))try{await I.delete(`/medicines/${m}`),R.success("Medicine removed"),h()}catch{R.error("Delete failed")}},x=(m,y,b,w,j)=>a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white p-8 rounded-2xl w-full max-w-lg shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:w}),a.jsx("button",{onClick:j,className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:20})})]}),a.jsxs("form",{onSubmit:b,className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),a.jsx("input",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:m.name,onChange:k=>y({...m,name:k.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),a.jsx("input",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:m.category,onChange:k=>y({...m,category:k.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Stock"}),a.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:m.stock,onChange:k=>y({...m,stock:k.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price"}),a.jsx("input",{type:"number",className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:m.price,onChange:k=>y({...m,price:k.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:m.expiryDate,onChange:k=>y({...m,expiryDate:k.target.value}),required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Supplier"}),a.jsx("input",{className:"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",value:m.supplier||"",onChange:k=>y({...m,supplier:k.target.value})})]}),a.jsxs("div",{className:"flex gap-3 mt-6 col-span-2",children:[a.jsx("button",{type:"button",onClick:j,className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 py-3 bg-cyan-600 text-white rounded-lg font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-500/20",children:w==="Edit Medicine"?"Update":"Save Medicine"})]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Pharmacy Inventory"}),(e.role==="Admin"||e.role==="Pharmacist")&&a.jsxs("button",{onClick:()=>o(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-cyan-500/20",children:[a.jsx(ns,{size:20}),a.jsx("span",{children:"Add Medicine"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-x-auto",children:n?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading inventory..."}):a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Category"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Stock"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Price"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Expiry"}),(e.role==="Admin"||e.role==="Pharmacist")&&a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[t.map((m,y)=>a.jsxs(q.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:y*.05},className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:m.name}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:m.category}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold
                      ${m.stock<10?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[m.stock," Units"]})}),a.jsxs("td",{className:"px-6 py-4 text-slate-600",children:["",m.price]}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(m.expiryDate).toLocaleDateString()}),(e.role==="Admin"||e.role==="Pharmacist")&&a.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[a.jsx("button",{onClick:()=>g(m),className:"text-blue-600 hover:text-blue-800",children:a.jsx(_E,{size:18})}),a.jsx("button",{onClick:()=>v(m._id),className:"text-red-600 hover:text-red-800",children:a.jsx(ga,{size:18})})]})]},m._id)),t.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-slate-500",children:"No medicines in stock."})})]})]})}),r&&x(d,u,f,"Add New Medicine",()=>o(!1)),l&&x(l,c,p,"Edit Medicine",()=>c(null))]})},E6=["Diagnosis","Allergy","Surgery","Chronic Condition","Family History","Vaccination","Other"],A6=["Mild","Moderate","Severe","Critical","N/A"],D6={Diagnosis:Ne,Allergy:xi,Surgery:Fs,"Chronic Condition":Pl,"Family History":us,Vaccination:TE,Other:ma},sx={Diagnosis:"bg-blue-50 text-blue-600 border-blue-200",Allergy:"bg-red-50 text-red-600 border-red-200",Surgery:"bg-purple-50 text-purple-600 border-purple-200","Chronic Condition":"bg-orange-50 text-orange-600 border-orange-200","Family History":"bg-teal-50 text-teal-600 border-teal-200",Vaccination:"bg-green-50 text-green-600 border-green-200",Other:"bg-slate-50 text-slate-600 border-slate-200"},R6={Mild:"bg-green-100 text-green-700",Moderate:"bg-yellow-100 text-yellow-700",Severe:"bg-orange-100 text-orange-700",Critical:"bg-red-100 text-red-700","N/A":"bg-slate-100 text-slate-500"},M6=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,c]=N.useState([]),[d,u]=N.useState(null),[h,f]=N.useState(!0),[p,g]=N.useState("history"),[v,x]=N.useState(!1),[m,y]=N.useState([]),[b,w]=N.useState({patientId:"",type:"Diagnosis",title:"",description:"",severity:"N/A"});N.useEffect(()=>{(async()=>{try{const T=[I.get("/prescriptions"),I.get("/appointments"),I.get("/medical-history"),I.get("/lab-reports")];((e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin")&&T.push(I.get("/patients"));const P=await Promise.all(T);s(P[0].data),i(P[1].data.filter(E=>E.status==="Completed")),o(P[2].data),c(P[3].data.filter(E=>E.status==="Completed")),P[4]&&y(P[4].data)}catch(T){console.error("Error fetching medical records:",T)}finally{f(!1)}})()},[]);const j=S=>u(d===S?null:S),k=async S=>{var T,P;if(S.preventDefault(),!b.title){R.error("Title is required");return}try{await I.post("/medical-history",b),R.success("Medical history record added!"),x(!1),w({patientId:"",type:"Diagnosis",title:"",description:"",severity:"N/A"});const{data:E}=await I.get("/medical-history");o(E)}catch(E){R.error(((P=(T=E.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to add record")}},C=async S=>{try{await I.put(`/medical-history/${S._id}`,{isActive:!S.isActive}),R.success(S.isActive?"Marked as resolved":"Marked as active");const{data:T}=await I.get("/medical-history");o(T)}catch{R.error("Failed to update")}};if(h)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})});const _=[{id:"history",label:"Medical History",count:r.length},{id:"prescriptions",label:"Prescriptions",count:t.length},{id:"lab",label:"Lab Results",count:l.length},{id:"visits",label:"Visit History",count:n.length}];return a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Medical Records"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete medical history and records"})]}),((e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin")&&a.jsxs("button",{onClick:()=>x(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 font-bold transition-colors shadow-lg shadow-cyan-500/20",children:[a.jsx(ns,{size:20}),"Add Record"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Conditions",value:r.filter(S=>S.isActive).length,color:"text-red-500",bg:"bg-red-50",icon:Pl},{label:"Allergies",value:r.filter(S=>S.type==="Allergy").length,color:"text-orange-500",bg:"bg-orange-50",icon:xi},{label:"Prescriptions",value:t.length,color:"text-cyan-500",bg:"bg-cyan-50",icon:Ne},{label:"Lab Reports",value:l.length,color:"text-purple-500",bg:"bg-purple-50",icon:Fs}].map(S=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-full ${S.bg}`,children:a.jsx(S.icon,{className:`w-5 h-5 ${S.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:S.label}),a.jsx("p",{className:"text-xl font-bold text-slate-800",children:S.value})]})]},S.label))}),a.jsx("div",{className:"flex gap-1 bg-white p-1 rounded-xl shadow-sm border border-slate-100",children:_.map(S=>a.jsxs("button",{onClick:()=>g(S.id),className:`flex-1 py-2.5 px-4 rounded-lg text-sm font-medium transition-colors ${p===S.id?"bg-cyan-500 text-white shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[S.label," (",S.count,")"]},S.id))}),p==="history"&&a.jsx("div",{className:"space-y-3",children:r.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 px-6 py-12 text-center text-slate-500",children:[a.jsx(Pl,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{children:"No medical history records yet."})]}):r.map(S=>{var E,O;const T=D6[S.type]||ma,P=sx[S.type]||sx.Other;return a.jsxs("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden ${S.isActive?"":"opacity-60"}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-lg border ${P}`,children:a.jsx(T,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:S.title}),!S.isActive&&a.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-200 text-slate-500",children:"Resolved"})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${P}`,children:S.type}),S.severity!=="N/A"&&a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${R6[S.severity]}`,children:S.severity}),a.jsxs("span",{className:"text-xs text-slate-400",children:[new Date(S.dateRecorded).toLocaleDateString(),"  Dr. ",(E=S.addedBy)==null?void 0:E.firstName," ",(O=S.addedBy)==null?void 0:O.lastName]})]})]})]}),((e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin")&&a.jsx("button",{onClick:()=>C(S),className:`px-3 py-1 rounded-lg text-xs font-bold transition-colors ${S.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:S.isActive?"Mark Resolved":"Reactivate"})]}),S.description&&a.jsx("div",{className:"px-4 pb-4",children:a.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:S.description})})]},S._id)})}),p==="prescriptions"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"divide-y divide-slate-100",children:t.length===0?a.jsxs("div",{className:"px-6 py-12 text-center text-slate-500",children:[a.jsx(Ne,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{children:"No prescriptions found."})]}):t.map(S=>{var T,P;return a.jsxs("div",{children:[a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>j(S._id),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-cyan-50 rounded-lg",children:a.jsx(Ne,{className:"w-5 h-5 text-cyan-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800",children:["Dr. ",(T=S.doctor)==null?void 0:T.firstName," ",(P=S.doctor)==null?void 0:P.lastName]}),a.jsxs("p",{className:"text-sm text-slate-500",children:[new Date(S.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),S.diagnosis&&`  ${S.diagnosis}`]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm text-slate-500",children:[S.medicines.length," medicines"]}),d===S._id?a.jsx(yE,{className:"w-5 h-5 text-slate-400"}):a.jsx(xE,{className:"w-5 h-5 text-slate-400"})]})]}),a.jsx(tt,{children:d===S._id&&a.jsx(q.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsx("div",{className:"px-6 pb-5 bg-slate-50 border-t border-slate-100",children:a.jsxs("div",{className:"pt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Diagnosis"}),a.jsx("p",{className:"text-slate-800 bg-white p-3 rounded-lg border border-slate-100",children:S.diagnosis})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Medicines"}),a.jsx("div",{className:"space-y-2",children:S.medicines.map((E,O)=>a.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg border border-slate-100",children:[a.jsx("div",{className:"p-1.5 bg-green-50 rounded",children:a.jsx(s2,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-800",children:E.name}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Dosage: ",E.dosage," | Duration: ",E.duration]})]})]},O))})]}),S.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Notes"}),a.jsx("p",{className:"text-slate-700 bg-white p-3 rounded-lg border border-slate-100",children:S.notes})]})]})})})})]},S._id)})})}),p==="lab"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Test"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Category"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Doctor"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Results"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[l.map(S=>{var T,P;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:S.testName}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.testCategory}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["Dr. ",(T=S.doctor)==null?void 0:T.firstName," ",(P=S.doctor)==null?void 0:P.lastName]}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(S.completedAt||S.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs truncate",children:S.results||""})]},S._id)}),l.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-500",children:"No completed lab reports yet."})})]})]})})}),p==="visits"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Doctor"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Date"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Reason"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(S=>{var T,P;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800",children:["Dr. ",(T=S.doctor)==null?void 0:T.firstName," ",(P=S.doctor)==null?void 0:P.lastName]}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(S.appointmentDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:S.reason}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-600",children:S.status})})]},S._id)}),n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No completed visits yet."})})]})]})})}),a.jsx(tt,{children:v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"text-red-500"}),a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Add Medical Record"})]}),a.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:24})})]}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Patient *"}),a.jsxs("select",{value:b.patientId,onChange:S=>w({...b,patientId:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),m.map(S=>a.jsxs("option",{value:S._id,children:[S.firstName," ",S.lastName]},S._id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Type *"}),a.jsx("select",{value:b.type,onChange:S=>w({...b,type:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",children:E6.map(S=>a.jsx("option",{value:S,children:S},S))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Severity"}),a.jsx("select",{value:b.severity,onChange:S=>w({...b,severity:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",children:A6.map(S=>a.jsx("option",{value:S,children:S},S))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Title *"}),a.jsx("input",{type:"text",value:b.title,onChange:S=>w({...b,title:S.target.value}),placeholder:"e.g., Diabetes Type 2, Peanut Allergy",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Description"}),a.jsx("textarea",{value:b.description,onChange:S=>w({...b,description:S.target.value}),placeholder:"Additional details...",rows:"3",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold",children:"Add Record"})]})]})]})})})]})},L6=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState("");N.useEffect(()=>{(async()=>{try{const{data:d}=await I.get("/prescriptions");s(d)}catch(d){console.error("Error fetching prescriptions:",d)}finally{i(!1)}})()},[]);const l=t.filter(c=>{var h,f,p,g,v;const d=`${(h=c.patient)==null?void 0:h.firstName} ${(f=c.patient)==null?void 0:f.lastName}`.toLowerCase(),u=`${(p=c.doctor)==null?void 0:p.firstName} ${(g=c.doctor)==null?void 0:g.lastName}`.toLowerCase();return d.includes(r.toLowerCase())||u.includes(r.toLowerCase())||((v=c.diagnosis)==null?void 0:v.toLowerCase().includes(r.toLowerCase()))});return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Prescriptions"}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsx(Us,{className:"absolute left-3 top-2.5 text-slate-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search prescriptions...",value:r,onChange:c=>o(c.target.value),className:"w-full sm:w-auto pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500 transition-colors"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[(e==null?void 0:e.role)!=="Patient"&&a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Patient"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Doctor"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Date"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Diagnosis"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600",children:"Medicines"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[l.map(c=>{var d,u,h,f;return a.jsxs(q.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-slate-50 transition-colors",children:[(e==null?void 0:e.role)!=="Patient"&&a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[(d=c.patient)==null?void 0:d.firstName," ",(u=c.patient)==null?void 0:u.lastName]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-4 h-4 text-cyan-400"}),a.jsxs("span",{className:"font-medium text-slate-800",children:["Dr. ",(h=c.doctor)==null?void 0:h.firstName," ",(f=c.doctor)==null?void 0:f.lastName]})]})}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{className:"w-4 h-4 text-slate-400"}),new Date(c.createdAt).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-slate-600",children:c.diagnosis}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:c.medicines.map((p,g)=>a.jsx("span",{className:"px-2 py-0.5 bg-cyan-50 text-cyan-700 rounded text-xs font-medium",children:p.name},g))})})]},c._id)}),l.length===0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-500",children:[a.jsx(Ne,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),"No prescriptions found."]})})]})]})})})]})},O6=()=>{var j,k,C,_;const{user:e,updateUser:t}=Te(),[s,n]=N.useState("profile"),[i,r]=N.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}),[o,l]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,d]=N.useState(!1),[u,h]=N.useState(!1),[f,p]=N.useState(!1),g=N.useRef(null),v=[{id:"profile",label:"Profile",icon:bi},{id:"security",label:"Security",icon:ma},{id:"notifications",label:"Notifications",icon:qo}],x=async S=>{var T,P;S.preventDefault(),d(!0);try{const{data:E}=await I.put("/users/profile",i);t(E),R.success("Profile updated successfully!")}catch(E){R.error(((P=(T=E.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to update profile")}finally{d(!1)}},m=async S=>{var T,P;if(S.preventDefault(),o.newPassword!==o.confirmPassword){R.error("Passwords do not match");return}if(o.newPassword.length<6){R.error("Password must be at least 6 characters");return}d(!0);try{await I.put("/users/profile",{password:o.newPassword}),R.success("Password changed successfully!"),l({currentPassword:"",newPassword:"",confirmPassword:""})}catch(E){R.error(((P=(T=E.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to change password")}finally{d(!1)}},y=async S=>{var T,P;if(S){if(!S.type.startsWith("image/")){R.error("Please upload an image file");return}if(S.size>5*1024*1024){R.error("Image size must be less than 5MB");return}h(!0);try{const E=new FormData;E.append("profileImage",S);const{data:O}=await I.post("/users/profile/upload-picture",E,{headers:{"Content-Type":"multipart/form-data"}});t({profileImage:O.profileImage}),R.success("Profile picture uploaded successfully!")}catch(E){R.error(((P=(T=E.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to upload picture")}finally{h(!1)}}},b=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?p(!0):S.type==="dragleave"&&p(!1)},w=S=>{S.preventDefault(),S.stopPropagation(),p(!1),S.dataTransfer.files&&S.dataTransfer.files[0]&&y(S.dataTransfer.files[0])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Gn,{className:"w-7 h-7 text-cyan-500"}),a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Settings"})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"w-56 shrink-0",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:v.map(S=>a.jsxs("button",{onClick:()=>n(S.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left text-sm font-medium transition-colors ${s===S.id?"bg-cyan-50 text-cyan-700 border-l-4 border-cyan-500":"text-slate-600 hover:bg-slate-50 border-l-4 border-transparent"}`,children:[a.jsx(S.icon,{className:"w-4 h-4"}),S.label]},S.id))}),a.jsx("div",{className:"mt-4 bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.profileImage?a.jsx("img",{src:e.profileImage,alt:"Profile",className:"w-10 h-10 rounded-full object-cover ring-2 ring-cyan-200"}):a.jsxs("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:[(j=e==null?void 0:e.firstName)==null?void 0:j[0],(k=e==null?void 0:e.lastName)==null?void 0:k[0]]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 text-sm",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),a.jsx("p",{className:"text-xs text-slate-500",children:e==null?void 0:e.role})]})]})})]}),a.jsx("div",{className:"flex-1",children:a.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[s==="profile"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-6",children:"Profile Settings"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-3 font-medium",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsxs("div",{className:"relative group",children:[e!=null&&e.profileImage?a.jsx("img",{src:e.profileImage,alt:"Profile",className:"w-24 h-24 rounded-2xl object-cover ring-4 ring-slate-100 shadow-lg"}):a.jsxs("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center text-white text-2xl font-bold ring-4 ring-slate-100 shadow-lg",children:[(C=e==null?void 0:e.firstName)==null?void 0:C[0],(_=e==null?void 0:e.lastName)==null?void 0:_[0]]}),a.jsx("button",{onClick:()=>{var S;return(S=g.current)==null?void 0:S.click()},disabled:u,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all group-hover:scale-110",children:a.jsx(mE,{size:14})})]}),a.jsx("div",{onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:w,onClick:()=>{var S;return(S=g.current)==null?void 0:S.click()},className:`flex-1 max-w-sm border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all ${f?"border-cyan-400 bg-cyan-50":"border-slate-200 hover:border-cyan-300 hover:bg-slate-50"}`,children:u?a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-cyan-200 border-t-cyan-600 rounded-full animate-spin"}),a.jsx("p",{className:"text-sm text-cyan-600 font-medium",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(AE,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-slate-600 font-medium",children:f?"Drop image here":"Click or drag image to upload"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PNG, JPG, JPEG up to 5MB"})]})}),a.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:S=>y(S.target.files[0]),className:"hidden"})]})]}),a.jsx("hr",{className:"border-slate-100 mb-6"}),a.jsxs("form",{onSubmit:x,className:"space-y-4 max-w-lg",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"First Name"}),a.jsx("input",{type:"text",value:i.firstName,onChange:S=>r({...i,firstName:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"Last Name"}),a.jsx("input",{type:"text",value:i.lastName,onChange:S=>r({...i,lastName:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"Email"}),a.jsx("input",{type:"email",value:i.email,disabled:!0,className:"w-full border border-slate-200 rounded-lg py-2 px-3 bg-slate-50 text-slate-500 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Email cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"Phone"}),a.jsx("input",{type:"tel",value:i.phone,onChange:S=>r({...i,phone:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"Enter phone number"})]}),a.jsx("button",{type:"submit",disabled:c,className:"bg-cyan-500 hover:bg-cyan-600 text-white px-6 py-2 rounded-lg font-bold transition-colors disabled:opacity-50",children:c?"Saving...":"Save Changes"})]})]}),s==="security"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Security Settings"}),a.jsxs("form",{onSubmit:m,className:"space-y-4 max-w-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"Current Password"}),a.jsx("input",{type:"password",value:o.currentPassword,onChange:S=>l({...o,currentPassword:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"New Password"}),a.jsx("input",{type:"password",value:o.newPassword,onChange:S=>l({...o,newPassword:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1 font-medium",children:"Confirm New Password"}),a.jsx("input",{type:"password",value:o.confirmPassword,onChange:S=>l({...o,confirmPassword:S.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-500 transition-colors",required:!0})]}),a.jsx("button",{type:"submit",disabled:c,className:"bg-cyan-500 hover:bg-cyan-600 text-white px-6 py-2 rounded-lg font-bold transition-colors disabled:opacity-50",children:c?"Changing...":"Change Password"})]})]}),s==="notifications"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Notification Preferences"}),a.jsxs("div",{className:"space-y-4 max-w-lg",children:[[{label:"Appointment Reminders",desc:"Get notified about upcoming appointments"},{label:"New Patient Alerts",desc:"Notifications when new patients register"},{label:"Billing Updates",desc:"Updates on invoice and payment status"},{label:"System Alerts",desc:"Important system notifications"}].map((S,T)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-800 text-sm",children:S.label}),a.jsx("p",{className:"text-xs text-slate-500",children:S.desc})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-500"})]})]},T)),a.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"* Notification preferences are saved automatically"})]})]})]},s)})]})]})},I6=["Blood Test","Urine Test","X-Ray","MRI","CT Scan","Ultrasound","ECG","Other"],nx={Ordered:"bg-orange-100 text-orange-700","In Progress":"bg-blue-100 text-blue-700",Completed:"bg-green-100 text-green-700"},B6={"Blood Test":"bg-red-50 text-red-600","Urine Test":"bg-yellow-50 text-yellow-600","X-Ray":"bg-slate-50 text-slate-600",MRI:"bg-purple-50 text-purple-600","CT Scan":"bg-indigo-50 text-indigo-600",Ultrasound:"bg-cyan-50 text-cyan-600",ECG:"bg-pink-50 text-pink-600",Other:"bg-gray-50 text-gray-600"},F6=()=>{var P,E,O,F;const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState([]),[r,o]=N.useState(!0),[l,c]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(""),[p,g]=N.useState("All"),[v,x]=N.useState({patientId:"",testName:"",testCategory:"Blood Test",notes:""}),[m,y]=N.useState(!1),[b,w]=N.useState({status:"",results:"",notes:""});N.useEffect(()=>{j(),((e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin")&&k()},[]);const j=async()=>{try{const{data:D}=await I.get("/lab-reports");s(D)}catch(D){console.error("Error:",D)}finally{o(!1)}},k=async()=>{try{const{data:D}=await I.get("/patients");i(D)}catch(D){console.error("Error fetching patients:",D)}},C=async D=>{var M,$;if(D.preventDefault(),!v.patientId||!v.testName){R.error("Patient and Test Name are required");return}y(!0);try{await I.post("/lab-reports",v),R.success("Lab test ordered!"),c(!1),x({patientId:"",testName:"",testCategory:"Blood Test",notes:""}),j()}catch(L){R.error((($=(M=L.response)==null?void 0:M.data)==null?void 0:$.message)||"Failed to order test")}finally{y(!1)}},_=async D=>{try{await I.put(`/lab-reports/${D}`,b),R.success("Lab report updated!"),u(null),j()}catch{R.error("Failed to update")}},S=D=>{w({status:D.status,results:D.results||"",notes:D.notes||""}),u(D)},T=t.filter(D=>{var L,z,K,U;const M=D.testName.toLowerCase().includes(h.toLowerCase())||((z=(L=D.patient)==null?void 0:L.firstName)==null?void 0:z.toLowerCase().includes(h.toLowerCase()))||((U=(K=D.patient)==null?void 0:K.lastName)==null?void 0:U.toLowerCase().includes(h.toLowerCase())),$=p==="All"||D.status===p;return M&&$});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ai,{className:"text-purple-500"}),"Lab Reports"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"View and manage laboratory test reports"})]}),((e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin")&&a.jsxs("button",{onClick:()=>c(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 font-bold transition-colors shadow-lg shadow-purple-500/20",children:[a.jsx(ns,{size:20}),"Order Test"]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Total Tests",value:t.length,color:"bg-purple-500",icon:ai},{label:"Ordered",value:t.filter(D=>D.status==="Ordered").length,color:"bg-orange-500",icon:ot},{label:"In Progress",value:t.filter(D=>D.status==="In Progress").length,color:"bg-blue-500",icon:Wo},{label:"Completed",value:t.filter(D=>D.status==="Completed").length,color:"bg-green-500",icon:Ut}].map(D=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-full ${D.color} bg-opacity-10`,children:a.jsx(D.icon,{className:`w-5 h-5 ${D.color.replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:D.label}),a.jsx("p",{className:"text-xl font-bold text-slate-800",children:D.value})]})]},D.label))}),a.jsxs("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm border border-slate-100 flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Us,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by test name or patient...",value:h,onChange:D=>f(D.target.value),className:"w-full border border-slate-200 rounded-lg py-2 pl-10 pr-3 focus:outline-none focus:border-purple-400 transition-colors"})]}),a.jsx("div",{className:"flex gap-2",children:["All","Ordered","In Progress","Completed"].map(D=>a.jsx("button",{onClick:()=>g(D),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p===D?"bg-purple-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:D},D))})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Test Name"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Category"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Doctor"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Status"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[T.map(D=>{var M,$,L,z;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-medium text-slate-800",children:D.testName}),D.notes&&a.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:D.notes})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B6[D.testCategory]||"bg-gray-50 text-gray-600"}`,children:D.testCategory})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[(M=D.patient)==null?void 0:M.firstName," ",($=D.patient)==null?void 0:$.lastName]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["Dr. ",(L=D.doctor)==null?void 0:L.firstName," ",(z=D.doctor)==null?void 0:z.lastName]}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(D.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${nx[D.status]}`,children:D.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>S(D),className:"text-purple-500 hover:text-purple-700 text-sm font-medium transition-colors",children:D.status==="Completed"?"View Results":(e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin"?"Update":"View"})})]},D._id)}),T.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-500",children:" No lab reports found"})})]})]})})}),a.jsx(tt,{children:l&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ai,{className:"text-purple-500"}),a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Order Lab Test"})]}),a.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:24})})]}),a.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Patient *"}),a.jsxs("select",{value:v.patientId,onChange:D=>x({...v,patientId:D.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400",required:!0,children:[a.jsx("option",{value:"",children:"Select Patient"}),n.map(D=>a.jsxs("option",{value:D._id,children:[D.firstName," ",D.lastName]},D._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Test Name *"}),a.jsx("input",{type:"text",value:v.testName,onChange:D=>x({...v,testName:D.target.value}),placeholder:"e.g., Complete Blood Count (CBC)",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Test Category"}),a.jsx("select",{value:v.testCategory,onChange:D=>x({...v,testCategory:D.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400",children:I6.map(D=>a.jsx("option",{value:D,children:D},D))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Notes"}),a.jsx("textarea",{value:v.notes,onChange:D=>x({...v,notes:D.target.value}),placeholder:"Any special instructions...",rows:"2",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-bold disabled:opacity-50",children:m?"Ordering...":"Order Test"})]})]})]})})}),a.jsx(tt,{children:d&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"text-purple-500"}),a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:d.testName})]}),a.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Patient"}),a.jsxs("p",{className:"font-medium text-slate-800",children:[(P=d.patient)==null?void 0:P.firstName," ",(E=d.patient)==null?void 0:E.lastName]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Doctor"}),a.jsxs("p",{className:"font-medium text-slate-800",children:["Dr. ",(O=d.doctor)==null?void 0:O.firstName," ",(F=d.doctor)==null?void 0:F.lastName]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Category"}),a.jsx("p",{className:"font-medium text-slate-800",children:d.testCategory})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Ordered On"}),a.jsx("p",{className:"font-medium text-slate-800",children:new Date(d.createdAt).toLocaleDateString()})]})]}),(e==null?void 0:e.role)==="Doctor"||(e==null?void 0:e.role)==="Admin"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Status"}),a.jsxs("select",{value:b.status,onChange:D=>w({...b,status:D.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400",children:[a.jsx("option",{value:"Ordered",children:"Ordered"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Completed",children:"Completed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Results"}),a.jsx("textarea",{value:b.results,onChange:D=>w({...b,results:D.target.value}),placeholder:"Enter test results...",rows:"4",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Notes"}),a.jsx("textarea",{value:b.notes,onChange:D=>w({...b,notes:D.target.value}),placeholder:"Additional notes...",rows:"2",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-400"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),a.jsx("button",{onClick:()=>_(d._id),className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-bold",children:"Save Changes"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${nx[d.status]}`,children:d.status})]}),d.results&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Results"}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg text-sm text-slate-800 whitespace-pre-wrap border border-green-100",children:d.results})]}),d.notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Notes"}),a.jsx("p",{className:"text-sm text-slate-700",children:d.notes})]}),!d.results&&d.status!=="Completed"&&a.jsx("div",{className:"bg-orange-50 p-4 rounded-lg text-sm text-orange-700 border border-orange-100 text-center",children:" Results are pending. Please check back later."}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Close"})})]})]})]})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ya(e){return e+.5|0}const rn=(e,t,s)=>Math.max(Math.min(e,s),t);function Xr(e){return rn(ya(e*2.55),0,255)}function vn(e){return rn(ya(e*255),0,255)}function ks(e){return rn(ya(e/2.55)/100,0,1)}function ix(e){return rn(ya(e*100),0,100)}const Mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zh=[..."0123456789ABCDEF"],z6=e=>Zh[e&15],V6=e=>Zh[(e&240)>>4]+Zh[e&15],Ya=e=>(e&240)>>4===(e&15),$6=e=>Ya(e.r)&&Ya(e.g)&&Ya(e.b)&&Ya(e.a);function U6(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Mt[e[1]]*17,g:255&Mt[e[2]]*17,b:255&Mt[e[3]]*17,a:t===5?Mt[e[4]]*17:255}:(t===7||t===9)&&(s={r:Mt[e[1]]<<4|Mt[e[2]],g:Mt[e[3]]<<4|Mt[e[4]],b:Mt[e[5]]<<4|Mt[e[6]],a:t===9?Mt[e[7]]<<4|Mt[e[8]]:255})),s}const H6=(e,t)=>e<255?t(e):"";function W6(e){var t=$6(e)?z6:V6;return e?"#"+t(e.r)+t(e.g)+t(e.b)+H6(e.a,t):void 0}const q6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function w2(e,t,s){const n=t*Math.min(s,1-s),i=(r,o=(r+e/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function K6(e,t,s){const n=(i,r=(i+e/60)%6)=>s-s*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function Y6(e,t,s){const n=w2(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function G6(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function qp(e){const s=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),l=(r+o)/2;let c,d,u;return r!==o&&(u=r-o,d=l>.5?u/(2-r-o):u/(r+o),c=G6(s,n,i,u,r),c=c*60+.5),[c|0,d||0,l]}function Kp(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(vn)}function Yp(e,t,s){return Kp(w2,e,t,s)}function X6(e,t,s){return Kp(Y6,e,t,s)}function Q6(e,t,s){return Kp(K6,e,t,s)}function j2(e){return(e%360+360)%360}function J6(e){const t=q6.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Xr(+t[5]):vn(+t[5]));const i=j2(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=X6(i,r,o):t[1]==="hsv"?n=Q6(i,r,o):n=Yp(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function Z6(e,t){var s=qp(e);s[0]=j2(s[0]+t),s=Yp(s),e.r=s[0],e.g=s[1],e.b=s[2]}function eA(e){if(!e)return;const t=qp(e),s=t[0],n=ix(t[1]),i=ix(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${ks(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const rx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ox={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tA(){const e={},t=Object.keys(ox),s=Object.keys(rx);let n,i,r,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],i=0;i<s.length;i++)r=s[i],l=l.replace(r,rx[r]);r=parseInt(ox[o],16),e[l]=[r>>16&255,r>>8&255,r&255]}return e}let Ga;function sA(e){Ga||(Ga=tA(),Ga.transparent=[0,0,0,0]);const t=Ga[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const nA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iA(e){const t=nA.exec(e);let s=255,n,i,r;if(t){if(t[7]!==n){const o=+t[7];s=t[8]?Xr(o):rn(o*255,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?Xr(n):rn(n,0,255)),i=255&(t[4]?Xr(i):rn(i,0,255)),r=255&(t[6]?Xr(r):rn(r,0,255)),{r:n,g:i,b:r,a:s}}}function rA(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ks(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const xu=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ei=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function oA(e,t,s){const n=Ei(ks(e.r)),i=Ei(ks(e.g)),r=Ei(ks(e.b));return{r:vn(xu(n+s*(Ei(ks(t.r))-n))),g:vn(xu(i+s*(Ei(ks(t.g))-i))),b:vn(xu(r+s*(Ei(ks(t.b))-r))),a:e.a+s*(t.a-e.a)}}function Xa(e,t,s){if(e){let n=qp(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=Yp(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function N2(e,t){return e&&Object.assign(t||{},e)}function ax(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vn(e[3]))):(t=N2(e,{r:0,g:0,b:0,a:1}),t.a=vn(t.a)),t}function aA(e){return e.charAt(0)==="r"?iA(e):J6(e)}class Ko{constructor(t){if(t instanceof Ko)return t;const s=typeof t;let n;s==="object"?n=ax(t):s==="string"&&(n=U6(t)||sA(t)||aA(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=N2(this._rgb);return t&&(t.a=ks(t.a)),t}set rgb(t){this._rgb=ax(t)}rgbString(){return this._valid?rA(this._rgb):void 0}hexString(){return this._valid?W6(this._rgb):void 0}hslString(){return this._valid?eA(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let r;const o=s===r?.5:s,l=2*o-1,c=n.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;r=1-d,n.r=255&d*n.r+r*i.r+.5,n.g=255&d*n.g+r*i.g+.5,n.b=255&d*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=oA(this._rgb,t._rgb,s)),this}clone(){return new Ko(this.rgb)}alpha(t){return this._rgb.a=vn(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=ya(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xa(this._rgb,2,t),this}darken(t){return Xa(this._rgb,2,-t),this}saturate(t){return Xa(this._rgb,1,t),this}desaturate(t){return Xa(this._rgb,1,-t),this}rotate(t){return Z6(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function bs(){}const lA=(()=>{let e=0;return()=>e++})();function se(e){return e==null}function De(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Z(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function st(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function rs(e,t){return st(e)?e:t}function X(e,t){return typeof e>"u"?t:e}const cA=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,S2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ue(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function ne(e,t,s,n){let i,r,o;if(De(e))for(r=e.length,i=0;i<r;i++)t.call(s,e[i],i);else if(Z(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(s,e[o[i]],o[i])}function Nc(e,t){let s,n,i,r;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],r=t[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Sc(e){if(De(e))return e.map(Sc);if(Z(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Sc(e[s[i]]);return t}return e}function k2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function dA(e,t,s,n){if(!k2(e))return;const i=t[e],r=s[e];Z(i)&&Z(r)?Yo(i,r,n):t[e]=Sc(r)}function Yo(e,t,s){const n=De(t)?t:[t],i=n.length;if(!Z(e))return e;s=s||{};const r=s.merger||dA;let o;for(let l=0;l<i;++l){if(o=n[l],!Z(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)r(c[d],e,o,s)}return e}function yo(e,t){return Yo(e,t,{merger:uA})}function uA(e,t,s){if(!k2(e))return;const n=t[e],i=s[e];Z(n)&&Z(i)?yo(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Sc(i))}const lx={"":e=>e,x:e=>e.x,y:e=>e.y};function hA(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function fA(e){const t=hA(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function wi(e,t){return(lx[t]||(lx[t]=fA(t)))(e)}function Gp(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Go=e=>typeof e<"u",kn=e=>typeof e=="function",cx=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function pA(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const re=Math.PI,xe=2*re,mA=xe+re,kc=Number.POSITIVE_INFINITY,gA=re/180,Ie=re/2,Bn=re/4,dx=re*2/3,_2=Math.log10,gs=Math.sign;function vo(e,t,s){return Math.abs(e-t)<s}function ux(e){const t=Math.round(e);e=vo(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(_2(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function xA(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,r)=>i-r).pop(),t}function yA(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Xo(e){return!yA(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function vA(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function bA(e,t,s){let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n][s],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Ts(e){return e*(re/180)}function wA(e){return e*(180/re)}function hx(e){if(!st(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function C2(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*re&&(r+=xe),{angle:r,distance:i}}function ef(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jA(e,t){return(e-t+mA)%xe-re}function jt(e){return(e%xe+xe)%xe}function Qo(e,t,s,n){const i=jt(e),r=jt(t),o=jt(s),l=jt(r-i),c=jt(o-i),d=jt(i-r),u=jt(i-o);return i===r||i===o||n&&r===o||l>c&&d<u}function Je(e,t,s){return Math.max(t,Math.min(s,e))}function NA(e){return Je(e,-32768,32767)}function Es(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Xp(e,t,s){s=s||(o=>e[o]<t);let n=e.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const si=(e,t,s,n)=>Xp(e,s,n?i=>{const r=e[i][t];return r<s||r===s&&e[i+1][t]===s}:i=>e[i][t]<s),SA=(e,t,s)=>Xp(e,s,n=>e[n][t]>=s);function kA(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const P2=["push","pop","shift","splice","unshift"];function _A(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),P2.forEach(s=>{const n="_onData"+Gp(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),o}})})}function fx(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(P2.forEach(r=>{delete e[r]}),delete e._chartjs)}function T2(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const E2=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function A2(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,E2.call(window,()=>{n=!1,e.apply(t,s)}))}}function CA(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const Qp=e=>e==="start"?"left":e==="end"?"right":"center",Ge=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,PA=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function TA(e,t,s){const n=t.length;let i=0,r=n;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(i=Math.min(si(c,u,h).lo,s?n:si(t,u,o.getPixelForValue(h)).lo),d){const v=c.slice(0,i+1).reverse().findIndex(x=>!se(x[l.axis]));i-=Math.max(0,v)}i=Je(i,0,n-1)}if(g){let v=Math.max(si(c,o.axis,f,!0).hi+1,s?0:si(t,u,o.getPixelForValue(f),!0).hi+1);if(d){const x=c.slice(v-1).findIndex(m=>!se(m[l.axis]));v+=Math.max(0,x)}r=Je(v,i,n)-i}else r=n-i}return{start:i,count:r}}function EA(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),r}const Qa=e=>e===0||e===1,px=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*xe/s)),mx=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*xe/s)+1,bo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ie)+1,easeOutSine:e=>Math.sin(e*Ie),easeInOutSine:e=>-.5*(Math.cos(re*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Qa(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Qa(e)?e:px(e,.075,.3),easeOutElastic:e=>Qa(e)?e:mx(e,.075,.3),easeInOutElastic(e){return Qa(e)?e:e<.5?.5*px(e*2,.1125,.45):.5+.5*mx(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-bo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?bo.easeInBounce(e*2)*.5:bo.easeOutBounce(e*2-1)*.5+.5};function Jp(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function gx(e){return Jp(e)?e:new Ko(e)}function yu(e){return Jp(e)?e:new Ko(e).saturate(.5).darken(.1).hexString()}const AA=["x","y","borderWidth","radius","tension"],DA=["color","borderColor","backgroundColor"];function RA(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:DA},numbers:{type:"number",properties:AA}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function MA(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xx=new Map;function LA(e,t){t=t||{};const s=e+JSON.stringify(t);let n=xx.get(s);return n||(n=new Intl.NumberFormat(e,t),xx.set(s,n)),n}function Zp(e,t,s){return LA(t,s).format(e)}const OA={values(e){return De(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,r=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),r=IA(e,s)}const o=_2(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Zp(e,n,c)}};function IA(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var D2={formatters:OA};function BA(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:D2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ji=Object.create(null),tf=Object.create(null);function wo(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];e=e[r]||(e[r]=Object.create(null))}return e}function vu(e,t,s){return typeof t=="string"?Yo(wo(e,t),s):Yo(wo(e,""),t)}class FA{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>yu(i.backgroundColor),this.hoverBorderColor=(n,i)=>yu(i.borderColor),this.hoverColor=(n,i)=>yu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return vu(this,t,s)}get(t){return wo(this,t)}describe(t,s){return vu(tf,t,s)}override(t,s){return vu(ji,t,s)}route(t,s,n,i){const r=wo(this,t),o=wo(this,n),l="_"+s;Object.defineProperties(r,{[l]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[i];return Z(c)?Object.assign({},d,c):X(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(s=>s(this))}}var Ce=new FA({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RA,MA,BA]);function zA(e){return!e||se(e.size)||se(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function yx(e,t,s,n,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,s.push(i)),r>n&&(n=r),n}function Fn(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function vx(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function sf(e,t,s,n){R2(e,t,s,n,null)}function R2(e,t,s,n,i){let r,o,l,c,d,u,h,f;const p=t.pointStyle,g=t.rotation,v=t.radius;let x=(g||0)*gA;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(x),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,v,0,0,xe):e.arc(s,n,v,0,xe),e.closePath();break;case"triangle":u=i?i/2:v,e.moveTo(s+Math.sin(x)*u,n-Math.cos(x)*v),x+=dx,e.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*v),x+=dx,e.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*v),e.closePath();break;case"rectRounded":d=v*.516,c=v-d,o=Math.cos(x+Bn)*c,h=Math.cos(x+Bn)*(i?i/2-d:c),l=Math.sin(x+Bn)*c,f=Math.sin(x+Bn)*(i?i/2-d:c),e.arc(s-h,n-l,d,x-re,x-Ie),e.arc(s+f,n-o,d,x-Ie,x),e.arc(s+h,n+l,d,x,x+Ie),e.arc(s-f,n+o,d,x+Ie,x+re),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*v,u=i?i/2:c,e.rect(s-u,n-c,2*u,2*c);break}x+=Bn;case"rectRot":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,l=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),e.moveTo(s-h,n-l),e.lineTo(s+f,n-o),e.lineTo(s+h,n+l),e.lineTo(s-f,n+o),e.closePath();break;case"crossRot":x+=Bn;case"cross":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,l=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+f,n-o),e.lineTo(s-f,n+o);break;case"star":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,l=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+f,n-o),e.lineTo(s-f,n+o),x+=Bn,h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,l=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+f,n-o),e.lineTo(s-f,n+o);break;case"line":o=i?i/2:Math.cos(x)*v,l=Math.sin(x)*v,e.moveTo(s-o,n-l),e.lineTo(s+o,n+l);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(x)*(i?i/2:v),n+Math.sin(x)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Jo(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function pd(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function md(e){e.restore()}function VA(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const r=(t.x+s.x)/2;e.lineTo(r,t.y),e.lineTo(r,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function $A(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function UA(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),se(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function HA(e,t,s,n,i){if(i.strikethrough||i.underline){const r=e.measureText(n),o=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,c=s-r.actualBoundingBoxAscent,d=s+r.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function WA(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Zo(e,t,s,n,i,r={}){const o=De(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,UA(e,r),c=0;c<o.length;++c)d=o[c],r.backdrop&&WA(e,r.backdrop),l&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),se(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(d,s,n,r.maxWidth)),e.fillText(d,s,n,r.maxWidth),HA(e,s,n,d,r),n+=Number(i.lineHeight);e.restore()}function _c(e,t){const{x:s,y:n,w:i,h:r,radius:o}=t;e.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*re,re,!0),e.lineTo(s,n+r-o.bottomLeft),e.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,re,Ie,!0),e.lineTo(s+i-o.bottomRight,n+r),e.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Ie,0,!0),e.lineTo(s+i,n+o.topRight),e.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-Ie,!0),e.lineTo(s+o.topLeft,n)}const qA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YA(e,t){const s=(""+e).match(qA);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const GA=e=>+e||0;function em(e,t){const s={},n=Z(t),i=n?Object.keys(t):t,r=Z(e)?n?o=>X(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=GA(r(o));return s}function M2(e){return em(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tr(e){return em(e,["topLeft","topRight","bottomLeft","bottomRight"])}function qt(e){const t=M2(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ze(e,t){e=e||{},t=t||Ce.font;let s=X(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=X(e.style,t.style);n&&!(""+n).match(KA)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:X(e.family,t.family),lineHeight:YA(X(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:X(e.weight,t.weight),string:""};return i.string=zA(i),i}function Ja(e,t,s,n){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function XA(e,t,s){const{min:n,max:i}=e,r=S2(t,(i-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function Pi(e,t){return Object.assign(Object.create(e),t)}function tm(e,t=[""],s,n,i=()=>e[0]){const r=s||e;typeof n>"u"&&(n=B2("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:l=>tm([l,...e],t,r,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return O2(l,c,()=>iD(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return wx(l).includes(c)},ownKeys(l){return wx(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function gr(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:L2(e,n),setContext:r=>gr(e,r,s,n),override:r=>gr(e.override(r),t,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,l){return O2(r,o,()=>JA(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,l){return e[o]=l,delete r[o],!0}})}function L2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:kn(s)?s:()=>s,isIndexable:kn(n)?n:()=>n}}const QA=(e,t)=>e?e+Gp(t):t,sm=(e,t)=>Z(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function O2(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function JA(e,t,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=e;let l=n[t];return kn(l)&&o.isScriptable(t)&&(l=ZA(t,l,e,s)),De(l)&&l.length&&(l=eD(t,l,e,o.isIndexable)),sm(t,l)&&(l=gr(l,i,r&&r[t],o)),l}function ZA(e,t,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(r,o||n);return l.delete(e),sm(e,c)&&(c=nm(i._scopes,i,e,c)),c}function eD(e,t,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=s;if(typeof r.index<"u"&&n(e))return t[r.index%t.length];if(Z(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=nm(d,i,e,u);t.push(gr(h,r,o&&o[e],l))}}return t}function I2(e,t,s){return kn(e)?e(t,s):e}const tD=(e,t)=>e===!0?t:typeof e=="string"?wi(t,e):void 0;function sD(e,t,s,n,i){for(const r of t){const o=tD(s,r);if(o){e.add(o);const l=I2(o._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function nm(e,t,s,n){const i=t._rootScopes,r=I2(t._fallback,s,n),o=[...e,...i],l=new Set;l.add(n);let c=bx(l,o,s,r||s,n);return c===null||typeof r<"u"&&r!==s&&(c=bx(l,o,r,c,n),c===null)?!1:tm(Array.from(l),[""],i,r,()=>nD(t,s,n))}function bx(e,t,s,n,i){for(;s;)s=sD(e,t,s,n,i);return s}function nD(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return De(i)&&Z(s)?s:i||{}}function iD(e,t,s,n){let i;for(const r of t)if(i=B2(QA(r,e),s),typeof i<"u")return sm(e,i)?nm(s,n,e,i):i}function B2(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function wx(e){let t=e._keys;return t||(t=e._keys=rD(e._scopes)),t}function rD(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const oD=Number.EPSILON||1e-14,xr=(e,t)=>t<e.length&&!e[t].skip&&e[t],F2=e=>e==="x"?"y":"x";function aD(e,t,s,n){const i=e.skip?t:e,r=t,o=s.skip?t:s,l=ef(r,i),c=ef(o,r);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function lD(e,t,s){const n=e.length;let i,r,o,l,c,d=xr(e,0);for(let u=0;u<n-1;++u)if(c=d,d=xr(e,u+1),!(!c||!d)){if(vo(t[u],0,oD)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],r=s[u+1]/t[u],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=i*o*t[u],s[u+1]=r*o*t[u])}}function cD(e,t,s="x"){const n=F2(s),i=e.length;let r,o,l,c=xr(e,0);for(let d=0;d<i;++d){if(o=l,l=c,c=xr(e,d+1),!l)continue;const u=l[s],h=l[n];o&&(r=(u-o[s])/3,l[`cp1${s}`]=u-r,l[`cp1${n}`]=h-r*t[d]),c&&(r=(c[s]-u)/3,l[`cp2${s}`]=u+r,l[`cp2${n}`]=h+r*t[d])}}function dD(e,t="x"){const s=F2(t),n=e.length,i=Array(n).fill(0),r=Array(n);let o,l,c,d=xr(e,0);for(o=0;o<n;++o)if(l=c,c=d,d=xr(e,o+1),!!c){if(d){const u=d[t]-c[t];i[o]=u!==0?(d[s]-c[s])/u:0}r[o]=l?d?gs(i[o-1])!==gs(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}lD(e,i,r),cD(e,r,t)}function Za(e,t,s){return Math.max(Math.min(e,s),t)}function uD(e,t){let s,n,i,r,o,l=Jo(e[0],t);for(s=0,n=e.length;s<n;++s)o=r,r=l,l=s<n-1&&Jo(e[s+1],t),r&&(i=e[s],o&&(i.cp1x=Za(i.cp1x,t.left,t.right),i.cp1y=Za(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=Za(i.cp2x,t.left,t.right),i.cp2y=Za(i.cp2y,t.top,t.bottom)))}function hD(e,t,s,n,i){let r,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")dD(e,i);else{let d=n?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)l=e[r],c=aD(d,l,e[Math.min(r+1,o-(n?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&uD(e,s)}function im(){return typeof window<"u"&&typeof document<"u"}function rm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Cc(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const gd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function fD(e,t){return gd(e).getPropertyValue(t)}const pD=["top","right","bottom","left"];function li(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=pD[i];n[r]=parseFloat(e[t+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const mD=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function gD(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:r}=n;let o=!1,l,c;if(mD(i,r,e.target))l=i,c=r;else{const d=t.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Kn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=gd(s),r=i.boxSizing==="border-box",o=li(i,"padding"),l=li(i,"border","width"),{x:c,y:d,box:u}=gD(e,s),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:p,height:g}=t;return r&&(p-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-h)/p*s.width/n),y:Math.round((d-f)/g*s.height/n)}}function xD(e,t,s){let n,i;if(t===void 0||s===void 0){const r=e&&rm(e);if(!r)t=e.clientWidth,s=e.clientHeight;else{const o=r.getBoundingClientRect(),l=gd(r),c=li(l,"border","width"),d=li(l,"padding");t=o.width-d.width-c.width,s=o.height-d.height-c.height,n=Cc(l.maxWidth,r,"clientWidth"),i=Cc(l.maxHeight,r,"clientHeight")}}return{width:t,height:s,maxWidth:n||kc,maxHeight:i||kc}}const on=e=>Math.round(e*10)/10;function yD(e,t,s,n){const i=gd(e),r=li(i,"margin"),o=Cc(i.maxWidth,e,"clientWidth")||kc,l=Cc(i.maxHeight,e,"clientHeight")||kc,c=xD(e,t,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const f=li(i,"border","width"),p=li(i,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-r.width),u=Math.max(0,n?d/n:u-r.height),d=on(Math.min(d,o,c.maxWidth)),u=on(Math.min(u,l,c.maxHeight)),d&&!u&&(u=on(d/2)),(t!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=on(Math.floor(u*n))),{width:d,height:u}}function jx(e,t,s){const n=t||1,i=on(e.height*n),r=on(e.width*n);e.height=on(e.height),e.width=on(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=n,o.height=i,o.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const vD=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};im()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Nx(e,t){const s=fD(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Yn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function bD(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function wD(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Yn(e,i,s),l=Yn(i,r,s),c=Yn(r,t,s),d=Yn(o,l,s),u=Yn(l,c,s);return Yn(d,u,s)}const jD=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},ND=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function sr(e,t,s){return e?jD(t,s):ND()}function z2(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function V2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function $2(e){return e==="angle"?{between:Qo,compare:jA,normalize:jt}:{between:Es,compare:(t,s)=>t-s,normalize:t=>t}}function Sx({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function SD(e,t,s){const{property:n,start:i,end:r}=s,{between:o,normalize:l}=$2(n),c=t.length;let{start:d,end:u,loop:h}=e,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&o(l(t[d%c][n]),i,r);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function U2(e,t,s){if(!s)return[e];const{property:n,start:i,end:r}=s,o=t.length,{compare:l,between:c,normalize:d}=$2(n),{start:u,end:h,loop:f,style:p}=SD(e,t,s),g=[];let v=!1,x=null,m,y,b;const w=()=>c(i,b,m)&&l(i,b)!==0,j=()=>l(r,m)===0||c(r,b,m),k=()=>v||w(),C=()=>!v||j();for(let _=u,S=u;_<=h;++_)y=t[_%o],!y.skip&&(m=d(y[n]),m!==b&&(v=c(m,i,r),x===null&&k()&&(x=l(m,i)===0?_:S),x!==null&&C()&&(g.push(Sx({start:x,end:_,loop:f,count:o,style:p})),x=null),S=_,b=m));return x!==null&&g.push(Sx({start:x,end:h,loop:f,count:o,style:p})),g}function H2(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const r=U2(n[i],e.points,t);r.length&&s.push(...r)}return s}function kD(e,t,s,n){let i=0,r=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function _D(e,t,s,n){const i=e.length,r=[];let o=t,l=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%i];d.skip||d.stop?l.skip||(n=!1,r.push({start:t%i,end:(c-1)%i,loop:n}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&r.push({start:t%i,end:o%i,loop:n}),r}function CD(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const r=!!e._loop,{start:o,end:l}=kD(s,i,r,n);if(n===!0)return kx(e,[{start:o,end:l,loop:r}],s,t);const c=l<o?l+i:l,d=!!e._fullLoop&&o===0&&l===i-1;return kx(e,_D(s,o,c,d),s,t)}function kx(e,t,s,n){return!n||!n.setContext||!s?t:PD(e,t,s,n)}function PD(e,t,s,n){const i=e._chart.getContext(),r=_x(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=s.length,d=[];let u=r,h=t[0].start,f=h;function p(g,v,x,m){const y=l?-1:1;if(g!==v){for(g+=c;s[g%c].skip;)g-=y;for(;s[v%c].skip;)v+=y;g%c!==v%c&&(d.push({start:g%c,end:v%c,loop:x,style:m}),u=m,h=v%c)}}for(const g of t){h=l?h:g.start;let v=s[h%c],x;for(f=h+1;f<=g.end;f++){const m=s[f%c];x=_x(n.setContext(Pi(i,{type:"segment",p0:v,p1:m,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),TD(x,u)&&p(h,f-1,g.loop,u),v=m,u=x}h<f-1&&p(h,f-1,g.loop,u)}return d}function _x(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function TD(e,t){if(!t)return!1;const s=[],n=function(i,r){return Jp(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function el(e,t,s){return e.options.clip?e[s]:t[s]}function ED(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:el(s,t,"left"),right:el(s,t,"right"),top:el(n,t,"top"),bottom:el(n,t,"bottom")}:t}function W2(e,t){const s=t._clip;if(s.disabled)return!1;const n=ED(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(l=>l({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=E2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,l=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),l=!0):(r[o]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=r.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ws=new AD;const Cx="transparent",DD={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=gx(e||Cx),i=n.valid&&gx(t||Cx);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class RD{constructor(t,s,n,i){const r=s[n];i=Ja([t.to,i,r,t.from]);const o=Ja([t.from,r,i]);this._active=!0,this._fn=t.fn||DD[t.type||typeof o],this._easing=bo[t.easing]||bo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ja([t.to,s,i,t.from]),this._from=Ja([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,l=this._to;let c;if(this._active=r!==l&&(o||s<n),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=r;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class q2{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!Z(t))return;const s=Object.keys(Ce.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Z(r))return;const o={};for(const l of s)o[l]=r[l];(De(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,s){const n=s.options,i=LD(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&MD(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,s){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[d];let h=r[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}r[d]=h=new RD(f,t,d,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return ws.add(this._chart,n),!0}}function MD(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const r=e[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function LD(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Px(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,r=s.max===void 0?t:0;return{start:n?r:i,end:n?i:r}}function OD(e,t,s){if(s===!1)return!1;const n=Px(e,s),i=Px(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function ID(e){let t,s,n,i;return Z(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function K2(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function Tx(e,t,s,n={}){const i=e.keys,r=n.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===s){if(u=!0,n.all)continue;break}d=e.values[c],st(d)&&(r||t===0||gs(t)===gs(d))&&(t+=d)}return!u&&!n.all?0:t}function BD(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[r]:e[u]};return l}function bu(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function FD(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function zD(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function VD(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Ex(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const r=e[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function Ax(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:l}=n,c=r.axis,d=o.axis,u=FD(r,o,n),h=t.length;let f;for(let p=0;p<h;++p){const g=t[p],{[c]:v,[d]:x}=g,m=g._stacks||(g._stacks={});f=m[d]=VD(i,u,v),f[l]=x,f._top=Ex(f,o,!0,n.type),f._bottom=Ex(f,o,!1,n.type);const y=f._visualValues||(f._visualValues={});y[l]=x}}function wu(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function $D(e,t){return Pi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function UD(e,t,s){return Pi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Br(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const ju=e=>e==="reset"||e==="none",Dx=(e,t)=>t?e:Object.assign({},e),HD=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:K2(s,!0),values:null};class ci{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Br(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,r=s.xAxisID=X(n.xAxisID,wu(t,"x")),o=s.yAxisID=X(n.yAxisID,wu(t,"y")),l=s.rAxisID=X(n.rAxisID,wu(t,"r")),c=s.indexAxis,d=s.iAxisID=i(c,r,o,l),u=s.vAxisID=i(c,o,r,l);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&fx(this._data,this),t._stacked&&Br(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(Z(s)){const i=this._cachedMeta;this._data=BD(s,i)}else if(n!==s){if(n){fx(n,this);const i=this._cachedMeta;Br(i),i._parsed=[]}s&&Object.isExtensible(s)&&_A(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=bu(s.vScale,s),s.stack!==n.stack&&(i=!0,Br(s),s.stack=n.stack),this._resyncElements(t),(i||r!==s._stacked)&&(Ax(this,s._parsed),s._stacked=bu(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,l=r.axis;let c=t===0&&s===i.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{De(i[t])?f=this.parseArrayData(n,i,t,s):Z(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+t]=h=f[u],c&&(p()&&(c=!1),d=h);n._sorted=c}o&&Ax(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:r,vScale:o}=t,l=r.axis,c=o.axis,d=r.getLabels(),u=r===o,h=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+n,h[f]={[l]:u||r.parse(d[g],g),[c]:o.parse(s[g],g)};return h}parseArrayData(t,s,n,i){const{xScale:r,yScale:o}=t,l=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=s[u],l[c]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(t,s,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+n,p=s[f],d[u]={x:r.parse(wi(p,l),f),y:o.parse(wi(p,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,r=this._cachedMeta,o=s[t.axis],l={keys:K2(i,!0),values:s._stacks[t.axis]._visualValues};return Tx(l,o,r.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const l=i&&n._stacks[s.axis];i&&l&&(i.values=l,o=Tx(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,l=this._getOtherScale(t),c=HD(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=zD(l);let f,p;function g(){p=i[f];const v=p[l.axis];return!st(p[t.axis])||u>v||h<v}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(d,t,p,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,t,p,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][t.axis],st(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=ID(X(this.options.clip,OD(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,r,l,c),u=l;u<l+c;++u){const h=i[u];h.hidden||(h.active&&d?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=UD(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=$D(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=t+"-"+s,l=r[o],c=this.enableOptionSharing&&Go(n);if(l)return Dx(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(Ce.elements[t]),g=()=>this.getContext(n,i,s),v=d.resolveNamedOptions(f,p,g,h);return v.$shared&&(v.$shared=c,r[o]=Object.freeze(Dx(v,c))),v}_resolveAnimations(t,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,l=r[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,n,s))}const d=new q2(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||ju(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(t,s,n,i){ju(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!ju(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,s,n=!0){const i=this._cachedMeta,r=i.data,o=t+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(r),l=t;l<o;++l)r[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),n&&this.updateElements(r,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Br(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}H(ci,"defaults",{}),H(ci,"datasetElementType",null),H(ci,"dataElementType",null);function WD(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,r=s.length;i<r;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=T2(n.sort((i,r)=>i-r))}return e._cache.$bar}function qD(e){const t=e.iScale,s=WD(t,e.type);let n=t._length,i,r,o,l;const c=()=>{o===32767||o===-32768||(Go(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,r=s.length;i<r;++i)o=t.getPixelForValue(s[i]),c();for(l=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),c();return n}function KD(e,t,s,n){const i=s.barThickness;let r,o;return se(i)?(r=t.min*s.categoryPercentage,o=s.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:t.pixels[e]-r/2}}function YD(e,t,s,n){const i=t.pixels,r=i[e];let o=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null;const c=s.categoryPercentage;o===null&&(o=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-o);const d=r-(r-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:s.barPercentage,start:d}}function GD(e,t,s,n){const i=s.parse(e[0],n),r=s.parse(e[1],n),o=Math.min(i,r),l=Math.max(i,r);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[s.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:r,min:o,max:l}}function Y2(e,t,s,n){return De(e)?GD(e,t,s,n):t[s.axis]=s.parse(e,n),t}function Rx(e,t,s,n){const i=e.iScale,r=e.vScale,o=i.getLabels(),l=i===r,c=[];let d,u,h,f;for(d=s,u=s+n;d<u;++d)f=t[d],h={},h[i.axis]=l||i.parse(o[d],d),c.push(Y2(f,h,r,d));return c}function Nu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function XD(e,t,s){return e!==0?gs(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function QD(e){let t,s,n,i,r;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",r="start"):(i="start",r="end"),{start:s,end:n,reverse:t,top:i,bottom:r}}function JD(e,t,s,n){let i=t.borderSkipped;const r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=QD(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=d:(s._bottom||0)===n?i=u:(r[Mx(u,o,l,c)]=!0,i=d)),r[Mx(i,o,l,c)]=!0,e.borderSkipped=r}function Mx(e,t,s,n){return n?(e=ZD(e,t,s),e=Lx(e,s,t)):e=Lx(e,t,s),e}function ZD(e,t,s){return e===t?s:e===s?t:e}function Lx(e,t,s){return e==="start"?t:e==="end"?s:e}function eR(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class Al extends ci{parsePrimitiveData(t,s,n,i){return Rx(t,s,n,i)}parseArrayData(t,s,n,i){return Rx(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,p,g,v;for(f=n,p=n+i;f<p;++f)v=s[f],g={},g[r.axis]=r.parse(wi(v,d),f),h.push(Y2(wi(v,u),g,o,f));return h}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const r=n._custom;r&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,r=this.getParsed(t),o=r._custom,l=Nu(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const g=this.getParsed(p),v=r||se(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,u),m=(g._stacks||{})[l.axis],y={horizontal:d,base:v.base,enableBorderRadius:!m||Nu(g._custom)||o===m._top||o===m._bottom,x:d?v.head:x.center,y:d?x.center:v.head,height:d?x.size:Math.abs(v.size),width:d?Math.abs(v.size):x.size};f&&(y.options=h||this.resolveDataElementOptions(p,t[p].active?"active":i));const b=y.options||t[p].options;JD(y,b,m,o),eR(y,b,u.ratio),this.updateElement(t[p],p,y,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(p=>p[n.axis]===c),f=h&&h[u.vScale.axis];if(se(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&d(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[X(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const i=this._getStacks(t,n),r=s!==void 0?i.indexOf(s):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let r,o;for(r=0,o=s.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=t.barThickness;return{min:l||qD(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,l=r||0,c=this.getParsed(t),d=c._custom,u=Nu(d);let h=c[s.axis],f=0,p=n?this.applyStack(s,c,n):h,g,v;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&gs(h)!==gs(d.barEnd)&&(f=0),f+=h);const x=!se(r)&&!u?r:f;let m=s.getPixelForValue(x);if(this.chart.getDataVisibility(t)?g=s.getPixelForValue(f+p):g=m,v=g-m,Math.abs(v)<o){v=XD(v,s,l)*o,h===l&&(m-=v/2);const y=s.getPixelForDecimal(0),b=s.getPixelForDecimal(1),w=Math.min(y,b),j=Math.max(y,b);m=Math.max(Math.min(m,j),w),g=m+v,n&&!u&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(g)-s.getValueForPixel(m))}if(m===s.getPixelForValue(l)){const y=gs(v)*s.getLineWidthForValue(l)/2;m+=y,v-=y}return{size:v,base:m,head:g,center:g+v/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,r=i.skipNull,o=X(i.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(s.grouped){const u=r?this._getStackCount(t):s.stackCount,h=i.barThickness==="flex"?YD(t,s,i,u*d):KD(t,s,i,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(X(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+p;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[s.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}H(Al,"id","bar"),H(Al,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),H(Al,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function tR(e,t,s){let n=1,i=1,r=0,o=0;if(t<xe){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(b,w,j)=>Qo(b,l,c,!0)?1:Math.max(w,w*s,j,j*s),g=(b,w,j)=>Qo(b,l,c,!0)?-1:Math.min(w,w*s,j,j*s),v=p(0,d,h),x=p(Ie,u,f),m=g(re,d,h),y=g(re+Ie,u,f);n=(v-m)/2,i=(x-y)/2,r=-(v+m)/2,o=-(x+y)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:o}}class Qr extends ci{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=c=>+n[c];if(Z(n[t])){const{key:c="value"}=this._parsing;r=d=>+wi(n[d],c)}let o,l;for(o=t,l=t+s;o<l;++o)i._parsed[o]=r(o)}}_getRotation(){return Ts(this.options.rotation-90)}_getCircumference(){return Ts(this.options.circumference)}_getRotationExtents(){let t=xe,s=-xe;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),s=Math.max(s,r+o)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(cA(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:v}=tR(h,u,c),x=(n.width-o)/f,m=(n.height-o)/p,y=Math.max(Math.min(x,m)/2,0),b=S2(this.options.radius,y),w=Math.max(b*c,0),j=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=v*b,i.total=this.calculateTotal(),this.outerRadius=b-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/xe)}updateElements(t,s,n,i){const r=i==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=r&&d.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:v,includeOptions:x}=this._getSharedOptions(s,i);let m=this._getRotation(),y;for(y=0;y<s;++y)m+=this._circumference(y,r);for(y=s;y<s+n;++y){const b=this._circumference(y,r),w=t[y],j={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:g,innerRadius:p};x&&(j.options=v||this.resolveDataElementOptions(y,w.active?"active":i)),m+=b,this.updateElement(w,y,j,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?xe*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Zp(s._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,r,o,l,c;if(!t){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const r=this.resolveDataElementOptions(n);s=Math.max(s,r.offset||0,r.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(X(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}H(Qr,"id","doughnut"),H(Qr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),H(Qr,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),H(Qr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data,{labels:{pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:l}}=t.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((c,d)=>{const h=t.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:n,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class Dl extends ci{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=TA(s,i,o);this._drawStart=l,this._drawCount=c,EA(s)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},t),this.updateElements(i,l,c,t)}updateElements(t,s,n,i){const r=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),f=o.axis,p=l.axis,{spanGaps:g,segment:v}=this.options,x=Xo(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||i==="none",y=s+n,b=t.length;let w=s>0&&this.getParsed(s-1);for(let j=0;j<b;++j){const k=t[j],C=m?k:{};if(j<s||j>=y){C.skip=!0;continue}const _=this.getParsed(j),S=se(_[p]),T=C[f]=o.getPixelForValue(_[f],j),P=C[p]=r||S?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,_,c):_[p],j);C.skip=isNaN(T)||isNaN(P)||S,C.stop=j>0&&Math.abs(_[f]-w[f])>x,v&&(C.parsed=_,C.raw=d.data[j]),h&&(C.options=u||this.resolveDataElementOptions(j,k.active?"active":i)),m||this.updateElement(k,j,C,i),w=_}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}H(Dl,"id","line"),H(Dl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),H(Dl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function zn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class om{constructor(t){H(this,"options");this.options=t||{}}static override(t){Object.assign(om.prototype,t)}init(){}formats(){return zn()}parse(){return zn()}format(){return zn()}add(){return zn()}diff(){return zn()}startOf(){return zn()}endOf(){return zn()}}var sR={_date:om};function nR(e,t,s,n){const{controller:i,data:r,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&r.length){const d=l._reversePixels?SA:si;if(n){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(r,t,s-h),p=d(r,t,s+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(r,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(v=>!se(v[h.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(v=>!se(v[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function xd(e,t,s,n,i){const r=e.getSortedVisibleDatasetMetas(),o=s[t];for(let l=0,c=r.length;l<c;++l){const{index:d,data:u}=r[l],{lo:h,hi:f}=nR(r[l],t,o,i);for(let p=h;p<=f;++p){const g=u[p];g.skip||n(g,d,p)}}}function iR(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const r=t?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Su(e,t,s,n,i){const r=[];return!i&&!e.isPointInArea(t)||xd(e,s,t,function(l,c,d){!i&&!Jo(l,e.chartArea,0)||l.inRange(t.x,t.y,n)&&r.push({element:l,datasetIndex:c,index:d})},!0),r}function rR(e,t,s,n){let i=[];function r(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=C2(o,{x:t.x,y:t.y});Qo(h,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return xd(e,s,t,r),i}function oR(e,t,s,n,i,r){let o=[];const l=iR(s);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const g=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(g))&&!p)return;const x=l(t,g);x<c?(o=[{element:u,datasetIndex:h,index:f}],c=x):x===c&&o.push({element:u,datasetIndex:h,index:f})}return xd(e,s,t,d),o}function ku(e,t,s,n,i,r){return!r&&!e.isPointInArea(t)?[]:s==="r"&&!n?rR(e,t,s,i):oR(e,t,s,n,i,r)}function Ox(e,t,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return xd(e,s,t,(c,d,u)=>{c[o]&&c[o](t[s],i)&&(r.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,i))}),n&&!l?[]:r}var aR={modes:{index(e,t,s,n){const i=Kn(t,e),r=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?Su(e,i,r,n,o):ku(e,i,r,!1,n,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,n){const i=Kn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?Su(e,i,r,n,o):ku(e,i,r,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,s,n){const i=Kn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;return Su(e,i,r,n,o)},nearest(e,t,s,n){const i=Kn(t,e),r=s.axis||"xy",o=s.includeInvisible||!1;return ku(e,i,r,s.intersect,n,o)},x(e,t,s,n){const i=Kn(t,e);return Ox(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Kn(t,e);return Ox(e,i,"y",s.intersect,n)}}};const G2=["left","top","right","bottom"];function Fr(e,t){return e.filter(s=>s.pos===t)}function Ix(e,t){return e.filter(s=>G2.indexOf(s.pos)===-1&&s.box.axis===t)}function zr(e,t){return e.sort((s,n)=>{const i=t?n:s,r=t?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function lR(e){const t=[];let s,n,i,r,o,l;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:r,options:{stack:o,stackWeight:l=1}}=i,t.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:l});return t}function cR(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!G2.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function dR(e,t){const s=cR(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let r,o,l;for(r=0,o=e.length;r<o;++r){l=e[r];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&t.availableWidth,l.height=i):(l.width=n,l.height=u?u*i:c&&t.availableHeight)}return s}function uR(e){const t=lR(e),s=zr(t.filter(d=>d.box.fullSize),!0),n=zr(Fr(t,"left"),!0),i=zr(Fr(t,"right")),r=zr(Fr(t,"top"),!0),o=zr(Fr(t,"bottom")),l=Ix(t,"x"),c=Ix(t,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:Fr(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:r.concat(o).concat(l)}}function Bx(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function X2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function hR(e,t,s,n){const{pos:i,box:r}=s,o=e.maxPadding;if(!Z(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?r.height:r.width),s.size=h.size/h.count,e[i]+=s.size}r.getPadding&&X2(o,r.getPadding());const l=Math.max(0,t.outerWidth-Bx(o,e,"left","right")),c=Math.max(0,t.outerHeight-Bx(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function fR(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function pR(e,t){const s=t.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],s[o])}),r}return n(e?["left","right"]:["top","bottom"])}function Jr(e,t,s,n){const i=[];let r,o,l,c,d,u;for(r=0,o=e.length,d=0;r<o;++r){l=e[r],c=l.box,c.update(l.width||t.w,l.height||t.h,pR(l.horizontal,t));const{same:h,other:f}=hR(t,s,l,n);d|=h&&i.length,u=u||f,c.fullSize||i.push(l)}return d&&Jr(i,t,s,n)||u}function tl(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Fx(e,t,s,n){const i=s.padding;let{x:r,y:o}=t;for(const l of e){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,f=d.size||c.height;Go(d.start)&&(o=d.start),c.fullSize?tl(c,i.left,o,s.outerWidth-i.right-i.left,f):tl(c,t.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=t.h*u,f=d.size||c.width;Go(d.start)&&(r=d.start),c.fullSize?tl(c,r,i.top,f,s.outerHeight-i.bottom-i.top):tl(c,r,t.top+d.placed,f,h),d.start=r,d.placed+=h,r=c.right}}t.x=r,t.y=o}var Vt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=qt(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(s-i.height,0),l=uR(e.boxes),c=l.vertical,d=l.horizontal;ne(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=c.reduce((v,x)=>x.box.options&&x.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);X2(f,qt(n));const p=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),g=dR(c.concat(d),h);Jr(l.fullSize,p,h,g),Jr(c,p,h,g),Jr(d,p,h,g)&&Jr(c,p,h,g),fR(p),Fx(l.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,Fx(l.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ne(l.chartArea,v=>{const x=v.box;Object.assign(x,e.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Q2{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class mR extends Q2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Rl="$chartjs",gR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zx=e=>e===null||e==="";function xR(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Rl]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",zx(i)){const r=Nx(e,"width");r!==void 0&&(e.width=r)}if(zx(n))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Nx(e,"height");r!==void 0&&(e.height=r)}return e}const J2=vD?{passive:!0}:!1;function yR(e,t,s){e&&e.addEventListener(t,s,J2)}function vR(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,J2)}function bR(e,t){const s=gR[e.type]||e.type,{x:n,y:i}=Kn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Pc(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function wR(e,t,s){const n=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Pc(l.addedNodes,n),o=o&&!Pc(l.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function jR(e,t,s){const n=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Pc(l.removedNodes,n),o=o&&!Pc(l.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const ea=new Map;let Vx=0;function Z2(){const e=window.devicePixelRatio;e!==Vx&&(Vx=e,ea.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function NR(e,t){ea.size||window.addEventListener("resize",Z2),ea.set(e,t)}function SR(e){ea.delete(e),ea.size||window.removeEventListener("resize",Z2)}function kR(e,t,s){const n=e.canvas,i=n&&rm(n);if(!i)return;const r=A2((l,c)=>{const d=i.clientWidth;s(l,c),d<i.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||r(d,u)});return o.observe(i),NR(e,r),o}function _u(e,t,s){s&&s.disconnect(),t==="resize"&&SR(e)}function _R(e,t,s){const n=e.canvas,i=A2(r=>{e.ctx!==null&&s(bR(r,e))},e);return yR(n,t,i),i}class CR extends Q2{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(xR(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Rl])return!1;const n=s[Rl].initial;["height","width"].forEach(r=>{const o=n[r];se(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[Rl],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:wR,detach:jR,resize:kR}[s]||_R;i[s]=o(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:_u,detach:_u,resize:_u}[s]||vR)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return yD(t,s,n,i)}isAttached(t){const s=t&&rm(t);return!!(s&&s.isConnected)}}function PR(e){return!im()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?mR:CR}var cl;let Hs=(cl=class{constructor(){H(this,"x");H(this,"y");H(this,"active",!1);H(this,"options");H(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Xo(this.x)&&Xo(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},H(cl,"defaults",{}),H(cl,"defaultRoutes"),cl);function TR(e,t){const s=e.options.ticks,n=ER(e),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?DR(t):[],o=r.length,l=r[0],c=r[o-1],d=[];if(o>i)return RR(t,d,r,o/i),d;const u=AR(r,t,i);if(o>0){let h,f;const p=o>1?Math.round((c-l)/(o-1)):null;for(sl(t,d,u,se(p)?0:l-p,l),h=0,f=o-1;h<f;h++)sl(t,d,u,r[h],r[h+1]);return sl(t,d,u,c,se(p)?t.length:c+p),d}return sl(t,d,u),d}function ER(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function AR(e,t,s){const n=MR(e),i=t.length/s;if(!n)return Math.max(i,1);const r=xA(n);for(let o=0,l=r.length-1;o<l;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function DR(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function RR(e,t,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=s[i*n])}function sl(e,t,s,n,i){const r=X(n,0),o=Math.min(X(i,e.length),e.length);let l=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),u=r;u<0;)l++,u=Math.round(r+l*s);for(d=Math.max(r,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(r+l*s))}function MR(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const LR=e=>e==="left"?"right":e==="right"?"left":e,$x=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Ux=(e,t)=>Math.min(t||e,e);function Hx(e,t){const s=[],n=e.length/t,i=e.length;let r=0;for(;r<i;r+=n)s.push(e[Math.floor(r)]);return s}function OR(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),r=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),d;if(!(s&&(n===1?d=Math.max(c-r,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<r-l||c>o+l)))return c}function IR(e,t){ne(e,s=>{const n=s.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function Vr(e){return e.drawTicks?e.tickLength:0}function Wx(e,t){if(!e.display)return 0;const s=Ze(e.font,t),n=qt(e.padding);return(De(e.text)?e.text.length:1)*s.lineHeight+n.height}function BR(e,t){return Pi(e,{scale:t,type:"scale"})}function FR(e,t,s){return Pi(e,{tick:s,index:t,type:"tick"})}function zR(e,t,s){let n=Qp(e);return(s&&t!=="right"||!s&&t==="right")&&(n=LR(n)),n}function VR(e,t,s,n){const{top:i,left:r,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,p,g;const v=o-i,x=l-r;if(e.isHorizontal()){if(p=Ge(n,r,l),Z(s)){const m=Object.keys(s)[0],y=s[m];g=u[m].getPixelForValue(y)+v-t}else s==="center"?g=(d.bottom+d.top)/2+v-t:g=$x(e,s,t);f=l-r}else{if(Z(s)){const m=Object.keys(s)[0],y=s[m];p=u[m].getPixelForValue(y)-x+t}else s==="center"?p=(d.left+d.right)/2-x+t:p=$x(e,s,t);g=Ge(n,o,i),h=s==="left"?-Ie:Ie}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class kr extends Hs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=rs(t,Number.POSITIVE_INFINITY),s=rs(s,Number.NEGATIVE_INFINITY),n=rs(n,Number.POSITIVE_INFINITY),i=rs(i,Number.NEGATIVE_INFINITY),{min:rs(t,n),max:rs(s,i),minDefined:st(t),maxDefined:st(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:rs(s,rs(n,s)),max:rs(n,rs(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=XA(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Hx(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=TR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=ue(s.callback,[r.value,n,t],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=Ux(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Je(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:p/(n-1),h+6>l&&(l=p/(n-(t.offset?.5:1)),c=this.maxHeight-Vr(t.grid)-s.padding-Wx(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=wA(Math.min(Math.asin(Je((u.highest.height+6)/l,-1,1)),Math.asin(Je(c/d,-1,1))-Math.asin(Je(f/d,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=Wx(i,s.options.font);if(l?(t.width=this.maxWidth,t.height=Vr(r)+c):(t.height=this.maxHeight,t.width=Vr(r)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,g=Ts(this.labelRotation),v=Math.cos(g),x=Math.sin(g);if(l){const m=n.mirror?0:x*h.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+m+p)}else{const m=n.mirror?0:v*h.width+x*f.height;t.width=Math.min(this.maxWidth,t.width+m+p)}this._calculatePadding(d,u,x,v)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:r,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=i*t.width,p=n*s.height):(f=n*t.height,p=i*s.width):r==="start"?p=s.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,p=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)se(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Hx(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],l=[],c=Math.floor(s/Ux(s,n));let d=0,u=0,h,f,p,g,v,x,m,y,b,w,j;for(h=0;h<s;h+=c){if(g=t[h].label,v=this._resolveTickFontOptions(h),i.font=x=v.string,m=r[x]=r[x]||{data:{},gc:[]},y=v.lineHeight,b=w=0,!se(g)&&!De(g))b=yx(i,m.data,m.gc,b,g),w=y;else if(De(g))for(f=0,p=g.length;f<p;++f)j=g[f],!se(j)&&!De(j)&&(b=yx(i,m.data,m.gc,b,j),w+=y);o.push(b),l.push(w),d=Math.max(b,d),u=Math.max(w,u)}IR(r,s);const k=o.indexOf(d),C=l.indexOf(u),_=S=>({width:o[S]||0,height:l[S]||0});return{first:_(0),last:_(s-1),widest:_(k),highest:_(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return NA(this._alignToPixels?Fn(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=FR(this.getContext(),t,n))}return this.$context||(this.$context=BR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Ts(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,l=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:l}=i,c=r.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Vr(r),p=[],g=l.setContext(this.getContext()),v=g.display?g.width:0,x=v/2,m=function(M){return Fn(n,M,v)};let y,b,w,j,k,C,_,S,T,P,E,O;if(o==="top")y=m(this.bottom),C=this.bottom-f,S=y-x,P=m(t.top)+x,O=t.bottom;else if(o==="bottom")y=m(this.top),P=t.top,O=m(t.bottom)-x,C=y+x,S=this.top+f;else if(o==="left")y=m(this.right),k=this.right-f,_=y-x,T=m(t.left)+x,E=t.right;else if(o==="right")y=m(this.left),T=t.left,E=m(t.right)-x,k=y+x,_=this.left+f;else if(s==="x"){if(o==="center")y=m((t.top+t.bottom)/2+.5);else if(Z(o)){const M=Object.keys(o)[0],$=o[M];y=m(this.chart.scales[M].getPixelForValue($))}P=t.top,O=t.bottom,C=y+x,S=C+f}else if(s==="y"){if(o==="center")y=m((t.left+t.right)/2);else if(Z(o)){const M=Object.keys(o)[0],$=o[M];y=m(this.chart.scales[M].getPixelForValue($))}k=y-x,_=k-f,T=t.left,E=t.right}const F=X(i.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/F));for(b=0;b<h;b+=D){const M=this.getContext(b),$=r.setContext(M),L=l.setContext(M),z=$.lineWidth,K=$.color,U=L.dash||[],Q=L.dashOffset,ze=$.tickWidth,pe=$.tickColor,nt=$.tickBorderDash||[],Se=$.tickBorderDashOffset;w=OR(this,b,c),w!==void 0&&(j=Fn(n,w,z),d?k=_=T=E=j:C=S=P=O=j,p.push({tx1:k,ty1:C,tx2:_,ty2:S,x1:T,y1:P,x2:E,y2:O,width:z,color:K,borderDash:U,borderDashOffset:Q,tickWidth:ze,tickColor:pe,tickBorderDash:nt,tickBorderDashOffset:Se}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=r,f=Vr(n.grid),p=f+u,g=h?-u:p,v=-Ts(this.labelRotation),x=[];let m,y,b,w,j,k,C,_,S,T,P,E,O="middle";if(i==="top")k=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const D=this._getYAxisLabelAlignment(f);C=D.textAlign,j=D.x}else if(i==="right"){const D=this._getYAxisLabelAlignment(f);C=D.textAlign,j=D.x}else if(s==="x"){if(i==="center")k=(t.top+t.bottom)/2+p;else if(Z(i)){const D=Object.keys(i)[0],M=i[D];k=this.chart.scales[D].getPixelForValue(M)+p}C=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")j=(t.left+t.right)/2-p;else if(Z(i)){const D=Object.keys(i)[0],M=i[D];j=this.chart.scales[D].getPixelForValue(M)}C=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const F=this._getLabelSizes();for(m=0,y=l.length;m<y;++m){b=l[m],w=b.label;const D=r.setContext(this.getContext(m));_=this.getPixelForTick(m)+r.labelOffset,S=this._resolveTickFontOptions(m),T=S.lineHeight,P=De(w)?w.length:1;const M=P/2,$=D.color,L=D.textStrokeColor,z=D.textStrokeWidth;let K=C;o?(j=_,C==="inner"&&(m===y-1?K=this.options.reverse?"left":"right":m===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?d==="near"||v!==0?E=-P*T+T/2:d==="center"?E=-F.highest.height/2-M*T+T:E=-F.highest.height+T/2:d==="near"||v!==0?E=T/2:d==="center"?E=F.highest.height/2-M*T:E=F.highest.height-P*T,h&&(E*=-1),v!==0&&!D.showLabelBackdrop&&(j+=T/2*Math.sin(v))):(k=_,E=(1-P)*T/2);let U;if(D.showLabelBackdrop){const Q=qt(D.backdropPadding),ze=F.heights[m],pe=F.widths[m];let nt=E-Q.top,Se=0-Q.left;switch(O){case"middle":nt-=ze/2;break;case"bottom":nt-=ze;break}switch(C){case"center":Se-=pe/2;break;case"right":Se-=pe;break;case"inner":m===y-1?Se-=pe:m>0&&(Se-=pe/2);break}U={left:Se,top:nt,width:pe+Q.width,height:ze+Q.height,color:D.backdropColor}}x.push({label:w,font:S,textOffset:E,options:{rotation:v,color:$,strokeColor:L,strokeWidth:z,textAlign:K,textBaseline:O,translation:[j,k],backdrop:U}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Ts(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),l=t+r,c=o.widest.width;let d,u;return s==="left"?i?(u=this.right+r,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const c=i[r];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Fn(t,this.left,o)-o/2,u=Fn(t,this.right,l)+l/2,h=f=c):(h=Fn(t,this.top,o)-o/2,f=Fn(t,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&pd(n,i);const r=this.getLabelItems(t);for(const o of r){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Zo(n,d,0,u,c,l)}i&&md(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=Ze(n.font),o=qt(n.padding),l=n.align;let c=r.lineHeight/2;s==="bottom"||s==="center"||Z(s)?(c+=o.bottom,De(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=VR(this,c,s,l);Zo(t,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:f,textAlign:zR(l,s,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=X(t.grid&&t.grid.z,-1),i=X(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==kr.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const l=s[r];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Ze(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class nl{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;HR(s)&&(n=this.register(s));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,$R(t,o,n),this.override&&Ce.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Ce[i]&&(delete Ce[i][n],this.override&&delete ji[n])}}function $R(e,t,s){const n=Yo(Object.create(null),[s?Ce.get(s):{},Ce.get(t),e.defaults]);Ce.set(t,n),e.defaultRoutes&&UR(t,e.defaultRoutes),e.descriptors&&Ce.describe(t,e.descriptors)}function UR(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),r=[e].concat(n).join("."),o=t[s].split("."),l=o.pop(),c=o.join(".");Ce.route(r,i,c,l)})}function HR(e){return"id"in e&&"defaults"in e}class WR{constructor(){this.controllers=new nl(ci,"datasets",!0),this.elements=new nl(Hs,"elements"),this.plugins=new nl(Object,"plugins"),this.scales=new nl(kr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):ne(i,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,s,n){const i=Gp(t);ue(n["before"+i],[],n),s[t](n),ue(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var ls=new WR;class qR{constructor(){this._init=void 0}notify(t,s,n,i){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,s,n);return s==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,s,n,i){i=i||{};for(const r of t){const o=r.plugin,l=o[n],c=[s,i,r.options];if(ue(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=X(n.options&&n.options.plugins,{}),r=KR(n);return i===!1&&!s?[]:GR(t,r,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function KR(e){const t={},s=[],n=Object.keys(ls.plugins.items);for(let r=0;r<n.length;r++)s.push(ls.getPlugin(n[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function YR(e,t){return!t&&e===!1?null:e===!0?{}:e}function GR(e,{plugins:t,localIds:s},n,i){const r=[],o=e.getContext();for(const l of t){const c=l.id,d=YR(n[c],i);d!==null&&r.push({plugin:l,options:XR(e.config,{plugin:l,local:s[c]},d,o)})}return r}function XR(e,{plugin:t,local:s},n,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(n,r);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nf(e,t){const s=Ce.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function QR(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function JR(e,t){return e===t?"_index_":"_value_"}function qx(e){if(e==="x"||e==="y"||e==="r")return e}function ZR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function rf(e,...t){if(qx(e))return e;for(const s of t){const n=s.axis||ZR(s.position)||e.length>1&&qx(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Kx(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function eM(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Kx(e,"x",s[0])||Kx(e,"y",s[0])}return{}}function tM(e,t){const s=ji[e.type]||{scales:{}},n=t.scales||{},i=nf(e.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Z(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=rf(o,l,eM(o,e),Ce.scales[l.type]),d=JR(c,i),u=s.scales||{};r[o]=yo(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||nf(l,t),u=(ji[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=QR(h,c),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),yo(r[p],[{axis:f},n[p],u[h]])})}),Object.keys(r).forEach(o=>{const l=r[o];yo(l,[Ce.scales[l.type],Ce.scale])}),r}function ej(e){const t=e.options||(e.options={});t.plugins=X(t.plugins,{}),t.scales=tM(e,t)}function tj(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function sM(e){return e=e||{},e.data=tj(e.data),ej(e),e}const Yx=new Map,sj=new Set;function il(e,t){let s=Yx.get(e);return s||(s=t(),Yx.set(e,s),sj.add(s)),s}const $r=(e,t,s)=>{const n=wi(t,s);n!==void 0&&e.add(n)};class nM{constructor(t){this._config=sM(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tj(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ej(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return il(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return il(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return il(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return il(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>$r(c,t,h))),u.forEach(h=>$r(c,i,h)),u.forEach(h=>$r(c,ji[r]||{},h)),u.forEach(h=>$r(c,Ce,h)),u.forEach(h=>$r(c,tf,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),sj.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,ji[s]||{},Ce.datasets[s]||{},{type:s},Ce,tf]}resolveNamedOptions(t,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=Gx(this._resolverCache,t,i);let c=o;if(rM(o,s)){r.$shared=!1,n=kn(n)?n():n;const d=this.createResolver(t,n,l);c=gr(o,n,d)}for(const d of s)r[d]=c[d];return r}createResolver(t,s,n=[""],i){const{resolver:r}=Gx(this._resolverCache,t,n);return Z(s)?gr(r,s,void 0,i):r}}function Gx(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let r=n.get(i);return r||(r={resolver:tm(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,r)),r}const iM=e=>Z(e)&&Object.getOwnPropertyNames(e).some(t=>kn(e[t]));function rM(e,t){const{isScriptable:s,isIndexable:n}=L2(e);for(const i of t){const r=s(i),o=n(i),l=(o||r)&&e[i];if(r&&(kn(l)||iM(l))||o&&De(l))return!0}return!1}var oM="4.5.1";const aM=["top","bottom","left","right","chartArea"];function Xx(e,t){return e==="top"||e==="bottom"||aM.indexOf(e)===-1&&t==="x"}function Qx(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Jx(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),ue(s&&s.onComplete,[e],t)}function lM(e){const t=e.chart,s=t.options.animation;ue(s&&s.onProgress,[e],t)}function nj(e){return im()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ml={},Zx=e=>{const t=nj(e);return Object.values(Ml).filter(s=>s.canvas===t).pop()};function cM(e,t,s){const n=Object.keys(e);for(const i of n){const r=+i;if(r>=t){const o=e[i];delete e[i],(s>0||r>t)&&(e[r+s]=o)}}}function dM(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Ks;let yd=(Ks=class{static register(...t){ls.add(...t),ey()}static unregister(...t){ls.remove(...t),ey()}constructor(t,s){const n=this.config=new nM(s),i=nj(t),r=Zx(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||PR(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=lA(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CA(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ml[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ws.listen(this,"complete",Jx),ws.listen(this,"progress",lM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return se(t)?s&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ls}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vx(this.canvas,this.ctx),this}stop(){return ws.stop(this),this}resize(t,s){ws.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,jx(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ue(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ne(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const l=s[o],c=rf(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ne(r,o=>{const l=o.options,c=l.id,d=rf(c,l),u=X(l.type,o.dtype);(l.position===void 0||Xx(l.position,d)!==Xx(o.dposition))&&(l.position=o.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=ls.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),ne(i,(o,l)=>{o||delete n[l]}),ne(n,o=>{Vt.configure(this,o,o.options),Vt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Qx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=r.indexAxis||nf(l,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=ls.getController(l),{datasetElementType:d,dataElementType:u}=Ce.datasets[l];Object.assign(c,{dataElementType:ls.getElement(u),datasetElementType:d&&ls.getElement(d)}),o.controller=new c(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ne(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||ne(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Qx("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ne(this.scales,t=>{Vt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!cx(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;cM(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(t.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!cx(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Vt.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ne(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,kn(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ws.has(this)?this.attached&&!ws.running(this)&&ws.start(this):(this.draw(),Jx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=W2(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&pd(s,i),t.controller.draw(),i&&md(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Jo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const r=aR.modes[s];return typeof r=="function"?r(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);Go(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),ws.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),vx(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Ml[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),t[r]=o},i=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};ne(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){ne(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},ne(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let r,o,l,c;for(s==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!Nc(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,r=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(s,t),l=n?t:r(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:r}=this,o=s,l=this._getActiveElements(t,i,n,o),c=pA(t),d=dM(t,this._lastEvent,n,c);n&&(this._lastEvent=null,ue(r.onHover,[t,l,this],this),c&&ue(r.onClick,[t,l,this],this));const u=!Nc(l,i);return(u||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=d,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}},H(Ks,"defaults",Ce),H(Ks,"instances",Ml),H(Ks,"overrides",ji),H(Ks,"registry",ls),H(Ks,"version",oM),H(Ks,"getChart",Zx),Ks);function ey(){return ne(yd.instances,e=>e._plugins.invalidate())}function uM(e,t,s){const{startAngle:n,x:i,y:r,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,jt(n-s));if(e.beginPath(),e.arc(i,r,o-d/2,n+h/2,s-h/2),l>0){const f=Math.min(d/l,jt(n-s));e.arc(i,r,l+d/2,s-f/2,n+f/2,!0)}else{const f=Math.min(d/2,o*jt(n-s));if(u==="round")e.arc(i,r,f,s-re/2,n+re/2,!0);else if(u==="bevel"){const p=2*f*f,g=-p*Math.cos(s+re/2)+i,v=-p*Math.sin(s+re/2)+r,x=p*Math.cos(n+re/2)+i,m=p*Math.sin(n+re/2)+r;e.lineTo(g,v),e.lineTo(x,m)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function hM(e,t,s){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:l,innerRadius:c}=t;let d=i/l;e.beginPath(),e.arc(r,o,l,n-d,s+d),c>i?(d=i/c,e.arc(r,o,c,s+d,n-d,!0)):e.arc(r,o,i,s+Ie,n-Ie),e.closePath(),e.clip()}function fM(e){return em(e,["outerStart","outerEnd","innerStart","innerEnd"])}function pM(e,t,s,n){const i=fM(e.options.borderRadius),r=(s-t)/2,o=Math.min(r,n*t/2),l=c=>{const d=(s-Math.min(r,c))*n/2;return Je(c,0,Math.min(r,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Je(i.innerStart,0,o),innerEnd:Je(i.innerEnd,0,o)}}function Ai(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Tc(e,t,s,n,i,r){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+n+s-d,0),f=u>0?u+n+s+d:0;let p=0;const g=i-c;if(n){const D=u>0?u-n:0,M=h>0?h-n:0,$=(D+M)/2,L=$!==0?g*$/($+n):g;p=(g-L)/2}const v=Math.max(.001,g*h-s/re)/h,x=(g-v)/2,m=c+x+p,y=i-x-p,{outerStart:b,outerEnd:w,innerStart:j,innerEnd:k}=pM(t,f,h,y-m),C=h-b,_=h-w,S=m+b/C,T=y-w/_,P=f+j,E=f+k,O=m+j/P,F=y-k/E;if(e.beginPath(),r){const D=(S+T)/2;if(e.arc(o,l,h,S,D),e.arc(o,l,h,D,T),w>0){const z=Ai(_,T,o,l);e.arc(z.x,z.y,w,T,y+Ie)}const M=Ai(E,y,o,l);if(e.lineTo(M.x,M.y),k>0){const z=Ai(E,F,o,l);e.arc(z.x,z.y,k,y+Ie,F+Math.PI)}const $=(y-k/f+(m+j/f))/2;if(e.arc(o,l,f,y-k/f,$,!0),e.arc(o,l,f,$,m+j/f,!0),j>0){const z=Ai(P,O,o,l);e.arc(z.x,z.y,j,O+Math.PI,m-Ie)}const L=Ai(C,m,o,l);if(e.lineTo(L.x,L.y),b>0){const z=Ai(C,S,o,l);e.arc(z.x,z.y,b,m-Ie,S)}}else{e.moveTo(o,l);const D=Math.cos(S)*h+o,M=Math.sin(S)*h+l;e.lineTo(D,M);const $=Math.cos(T)*h+o,L=Math.sin(T)*h+l;e.lineTo($,L)}e.closePath()}function mM(e,t,s,n,i){const{fullCircles:r,startAngle:o,circumference:l}=t;let c=t.endAngle;if(r){Tc(e,t,s,n,c,i);for(let d=0;d<r;++d)e.fill();isNaN(l)||(c=o+(l%xe||xe))}return Tc(e,t,s,n,c,i),e.fill(),c}function gM(e,t,s,n,i){const{fullCircles:r,startAngle:o,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=c,g=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=f,g?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let v=t.endAngle;if(r){Tc(e,t,s,n,v,i);for(let x=0;x<r;++x)e.stroke();isNaN(l)||(v=o+(l%xe||xe))}g&&hM(e,t,v),c.selfJoin&&v-o>=re&&p===0&&u!=="miter"&&uM(e,t,v),r||(Tc(e,t,s,n,v,i),e.stroke())}class Zr extends Hs{constructor(s){super();H(this,"circumference");H(this,"endAngle");H(this,"fullCircles");H(this,"innerRadius");H(this,"outerRadius");H(this,"pixelMargin");H(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=C2(r,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=X(f,d-c),v=Qo(o,c,d)&&c!==d,x=g>=xe||v,m=Es(l,u+p,h+p);return x&&m}getCenterPoint(s){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(r+o)/2,f=(l+c+u+d)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>xe?Math.floor(i/xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*r,Math.sin(c)*r);const d=1-Math.sin(Math.min(re,i||0)),u=r*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,mM(s,this,u,o,l),gM(s,this,u,o,l),s.restore()}}H(Zr,"id","arc"),H(Zr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),H(Zr,"defaultRoutes",{backgroundColor:"backgroundColor"}),H(Zr,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function ij(e,t,s=t){e.lineCap=X(s.borderCapStyle,t.borderCapStyle),e.setLineDash(X(s.borderDash,t.borderDash)),e.lineDashOffset=X(s.borderDashOffset,t.borderDashOffset),e.lineJoin=X(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=X(s.borderWidth,t.borderWidth),e.strokeStyle=X(s.borderColor,t.borderColor)}function xM(e,t,s){e.lineTo(s.x,s.y)}function yM(e){return e.stepped?VA:e.tension||e.cubicInterpolationMode==="monotone"?$A:xM}function rj(e,t,s={}){const n=e.length,{start:i=0,end:r=n-1}=s,{start:o,end:l}=t,c=Math.max(i,o),d=Math.min(r,l),u=i<o&&r<o||i>l&&r>l;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function vM(e,t,s,n){const{points:i,options:r}=t,{count:o,start:l,loop:c,ilen:d}=rj(i,s,n),u=yM(r);let{move:h=!0,reverse:f}=n||{},p,g,v;for(p=0;p<=d;++p)g=i[(l+(f?d-p:p))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,v,g,f,r.stepped),v=g);return c&&(g=i[(l+(f?d:0))%o],u(e,v,g,f,r.stepped)),!!c}function bM(e,t,s,n){const i=t.points,{count:r,start:o,ilen:l}=rj(i,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,p,g,v,x,m;const y=w=>(o+(d?l-w:w))%r,b=()=>{v!==x&&(e.lineTo(u,x),e.lineTo(u,v),e.lineTo(u,m))};for(c&&(p=i[y(0)],e.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=i[y(f)],p.skip)continue;const w=p.x,j=p.y,k=w|0;k===g?(j<v?v=j:j>x&&(x=j),u=(h*u+w)/++h):(b(),e.lineTo(w,j),g=k,h=0,v=x=j),m=j}b()}function of(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?bM:vM}function wM(e){return e.stepped?bD:e.tension||e.cubicInterpolationMode==="monotone"?wD:Yn}function jM(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),ij(e,t.options),e.stroke(i)}function NM(e,t,s,n){const{segments:i,options:r}=t,o=of(t);for(const l of i)ij(e,r,l.style),e.beginPath(),o(e,t,l,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const SM=typeof Path2D=="function";function kM(e,t,s,n){SM&&!t.options.segment?jM(e,t,s,n):NM(e,t,s,n)}class an extends Hs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;hD(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CD(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],r=this.points,o=H2(this,{property:s,start:i,end:i});if(!o.length)return;const l=[],c=wM(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],p=r[h],g=r[f];if(p===g){l.push(p);continue}const v=Math.abs((i-p[s])/(g[s]-p[s])),x=c(p,g,v,n.stepped);x[s]=t[s],l.push(x)}return l.length===1?l[0]:l}pathSegment(t,s,n){return of(this)(t,this,s,n)}path(t,s,n){const i=this.segments,r=of(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of i)o&=r(t,this,l,{start:s,end:s+n-1});return!!o}draw(t,s,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),kM(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}H(an,"id","line"),H(an,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),H(an,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),H(an,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ty(e,t,s,n){const i=e.options,{[s]:r}=e.getProps([s],n);return Math.abs(t-r)<i.radius+i.hitRadius}class Ll extends Hs{constructor(s){super();H(this,"parsed");H(this,"skip");H(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,n){return ty(this,s,"x",n)}inYRange(s,n){return ty(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!Jo(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,sf(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}H(Ll,"id","point"),H(Ll,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),H(Ll,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function oj(e,t){const{x:s,y:n,base:i,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,h;return e.horizontal?(h=o/2,l=Math.min(s,i),c=Math.max(s,i),d=n-h,u=n+h):(h=r/2,l=s-h,c=s+h,d=Math.min(n,i),u=Math.max(n,i)),{left:l,top:d,right:c,bottom:u}}function ln(e,t,s,n){return e?0:Je(t,s,n)}function _M(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,r=M2(n);return{t:ln(i.top,r.top,0,s),r:ln(i.right,r.right,0,t),b:ln(i.bottom,r.bottom,0,s),l:ln(i.left,r.left,0,t)}}function CM(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=tr(i),o=Math.min(t,s),l=e.borderSkipped,c=n||Z(i);return{topLeft:ln(!c||l.top||l.left,r.topLeft,0,o),topRight:ln(!c||l.top||l.right,r.topRight,0,o),bottomLeft:ln(!c||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:ln(!c||l.bottom||l.right,r.bottomRight,0,o)}}function PM(e){const t=oj(e),s=t.right-t.left,n=t.bottom-t.top,i=_M(e,s/2,n/2),r=CM(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Cu(e,t,s,n){const i=t===null,r=s===null,l=e&&!(i&&r)&&oj(e,n);return l&&(i||Es(t,l.left,l.right))&&(r||Es(s,l.top,l.bottom))}function TM(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function EM(e,t){e.rect(t.x,t.y,t.w,t.h)}function Pu(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,r=(e.x+e.w!==s.x+s.w?t:0)-n,o=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+r,h:e.h+o,radius:e.radius}}class Ol extends Hs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=PM(this),l=TM(o.radius)?_c:EM;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),l(t,Pu(o,s,r)),t.clip(),l(t,Pu(r,-s,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Pu(r,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Cu(this,t,s,n)}inXRange(t,s){return Cu(this,t,null,s)}inYRange(t,s){return Cu(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(s+i)/2:s,y:r?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}H(Ol,"id","bar"),H(Ol,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),H(Ol,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function AM(e,t,s){const n=e.segments,i=e.points,r=t.points,o=[];for(const l of n){let{start:c,end:d}=l;d=vd(c,d,i);const u=af(s,i[c],i[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const h=H2(t,u);for(const f of h){const p=af(s,r[f.start],r[f.end],f.loop),g=U2(l,i,p);for(const v of g)o.push({source:v,target:f,start:{[s]:sy(u,p,"start",Math.max)},end:{[s]:sy(u,p,"end",Math.min)}})}}return o}function af(e,t,s,n){if(n)return;let i=t[e],r=s[e];return e==="angle"&&(i=jt(i),r=jt(r)),{property:e,start:i,end:r}}function DM(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:l})=>{l=vd(o,l,i);const c=i[o],d=i[l];n!==null?(r.push({x:c.x,y:n}),r.push({x:d.x,y:n})):s!==null&&(r.push({x:s,y:c.y}),r.push({x:s,y:d.y}))}),r}function vd(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function sy(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function aj(e,t){let s=[],n=!1;return De(e)?(n=!0,s=e):s=DM(e,t),s.length?new an({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function ny(e){return e&&e.fill!==!1}function RM(e,t,s){let i=e[t].fill;const r=[t];let o;if(!s)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!st(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function MM(e,t,s){const n=BM(e);if(Z(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return st(i)&&Math.floor(i)===i?LM(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function LM(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function OM(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:Z(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function IM(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:Z(e)?n=e.value:n=t.getBaseValue(),n}function BM(e){const t=e.options,s=t.fill;let n=X(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function FM(e){const{scale:t,index:s,line:n}=e,i=[],r=n.segments,o=n.points,l=zM(t,s);l.push(aj({x:null,y:t.bottom},n));for(let c=0;c<r.length;c++){const d=r[c];for(let u=d.start;u<=d.end;u++)VM(i,o[u],l)}return new an({points:i,options:{}})}function zM(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const r=n[i];if(r.index===t)break;r.hidden||s.unshift(r.dataset)}return s}function VM(e,t,s){const n=[];for(let i=0;i<s.length;i++){const r=s[i],{first:o,last:l,point:c}=$M(r,t,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(e.push(c),!l)break}}e.push(...n)}function $M(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],r=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<r.length;d++){const u=r[d],h=o[u.start][s],f=o[u.end][s];if(Es(i,h,f)){l=i===h,c=i===f;break}}return{first:l,last:c,point:n}}class lj{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:r,radius:o}=this;return s=s||{start:0,end:xe},t.arc(i,r,o,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,r=t.angle;return{x:s+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function UM(e){const{chart:t,fill:s,line:n}=e;if(st(s))return HM(t,s);if(s==="stack")return FM(e);if(s==="shape")return!0;const i=WM(e);return i instanceof lj?i:aj(i,n)}function HM(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function WM(e){return(e.scale||{}).getPointPositionForValue?KM(e):qM(e)}function qM(e){const{scale:t={},fill:s}=e,n=OM(s,t);if(st(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function KM(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,r=n.reverse?t.max:t.min,o=IM(s,t,r),l=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,r);return new lj({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function Tu(e,t,s){const n=UM(t),{chart:i,index:r,line:o,scale:l,axis:c}=t,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:p=h}=u||{},g=i.getDatasetMeta(r),v=W2(i,g);n&&o.points.length&&(pd(e,s),YM(e,{line:o,target:n,above:f,below:p,area:s,scale:l,axis:c,clip:v}),md(e))}function YM(e,t){const{line:s,target:n,above:i,below:r,area:o,scale:l,clip:c}=t,d=s._loop?"angle":t.axis;e.save();let u=r;r!==i&&(d==="x"?(iy(e,n,o.top),Eu(e,{line:s,target:n,color:i,scale:l,property:d,clip:c}),e.restore(),e.save(),iy(e,n,o.bottom)):d==="y"&&(ry(e,n,o.left),Eu(e,{line:s,target:n,color:r,scale:l,property:d,clip:c}),e.restore(),e.save(),ry(e,n,o.right),u=i)),Eu(e,{line:s,target:n,color:u,scale:l,property:d,clip:c}),e.restore()}function iy(e,t,s){const{segments:n,points:i}=t;let r=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[vd(c,d,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function ry(e,t,s){const{segments:n,points:i}=t;let r=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[vd(c,d,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(s,h.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function Eu(e,t){const{line:s,target:n,property:i,color:r,scale:o,clip:l}=t,c=AM(s,n,i);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:p=r}={}}=d,g=n!==!0;e.save(),e.fillStyle=p,GM(e,o,l,g&&af(i,h,f)),e.beginPath();const v=!!s.pathSegment(e,d);let x;if(g){v?e.closePath():oy(e,n,f,i);const m=!!n.pathSegment(e,u,{move:v,reverse:!0});x=v&&m,x||oy(e,n,h,i)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function GM(e,t,s,n){const i=t.chart.chartArea,{property:r,start:o,end:l}=n||{};if(r==="x"||r==="y"){let c,d,u,h;r==="x"?(c=o,d=i.top,u=l,h=i.bottom):(c=i.left,d=o,u=i.right,h=l),e.beginPath(),s&&(c=Math.max(c,s.left),u=Math.min(u,s.right),d=Math.max(d,s.top),h=Math.min(h,s.bottom)),e.rect(c,d,u-c,h-d),e.clip()}}function oy(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var XM={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let r,o,l,c;for(o=0;o<n;++o)r=e.getDatasetMeta(o),l=r.dataset,c=null,l&&l.options&&l instanceof an&&(c={visible:e.isDatasetVisible(o),index:o,fill:MM(l,o,n),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=c,i.push(c);for(o=0;o<n;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=RM(i,o,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&Tu(e.ctx,l,r))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const r=n[i].$filler;ny(r)&&Tu(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!ny(n)||s.drawTime!=="beforeDatasetDraw"||Tu(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ay=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},QM=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class ly extends Hs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=ue(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Ze(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=ay(n,r);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,r,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,v)=>{const x=n+s/2+r.measureText(g.text).width;(v===0||d[d.length-1]+x+2*l>o)&&(h+=u,d[d.length-(v>0?0:1)]=0,p+=u,f++),c[v]={left:0,top:p,row:f,width:x,height:i},d[d.length-1]+=x+l}),h}_fitCols(t,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let h=l,f=0,p=0,g=0,v=0;return this.legendItems.forEach((x,m)=>{const{itemWidth:y,itemHeight:b}=JM(n,s,r,x,i);m>0&&p+b+2*l>u&&(h+=f+l,d.push({width:f,height:p}),g+=f+l,v++,f=p=0),c[m]={left:g,top:p,col:v,width:y,height:b},f=Math.max(f,y),p+=b+l}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=sr(r,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ge(n,this.left+i,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=Ge(n,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=Ge(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=Ge(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;pd(t,this),this._draw(),md(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,l=Ce.color,c=sr(t.rtl,this.left,this.width),d=Ze(o.font),{padding:u}=o,h=d.size,f=h/2;let p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:v,itemHeight:x}=ay(o,h),m=function(k,C,_){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;i.save();const S=X(_.lineWidth,1);if(i.fillStyle=X(_.fillStyle,l),i.lineCap=X(_.lineCap,"butt"),i.lineDashOffset=X(_.lineDashOffset,0),i.lineJoin=X(_.lineJoin,"miter"),i.lineWidth=S,i.strokeStyle=X(_.strokeStyle,l),i.setLineDash(X(_.lineDash,[])),o.usePointStyle){const T={radius:v*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:S},P=c.xPlus(k,g/2),E=C+f;R2(i,T,P,E,o.pointStyleWidth&&g)}else{const T=C+Math.max((h-v)/2,0),P=c.leftForLtr(k,g),E=tr(_.borderRadius);i.beginPath(),Object.values(E).some(O=>O!==0)?_c(i,{x:P,y:T,w:g,h:v,radius:E}):i.rect(P,T,g,v),i.fill(),S!==0&&i.stroke()}i.restore()},y=function(k,C,_){Zo(i,_.text,k,C+x/2,d,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?p={x:Ge(r,this.left+u,this.right-n[0]),y:this.top+u+w,line:0}:p={x:this.left+u,y:Ge(r,this.top+w+u,this.bottom-s[0].height),line:0},z2(this.ctx,t.textDirection);const j=x+u;this.legendItems.forEach((k,C)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const _=i.measureText(k.text).width,S=c.textAlign(k.textAlign||(k.textAlign=o.textAlign)),T=g+f+_;let P=p.x,E=p.y;c.setWidth(this.width),b?C>0&&P+T+u>this.right&&(E=p.y+=j,p.line++,P=p.x=Ge(r,this.left+u,this.right-n[p.line])):C>0&&E+j>this.bottom&&(P=p.x=P+s[p.line].width+u,p.line++,E=p.y=Ge(r,this.top+w+u,this.bottom-s[p.line].height));const O=c.x(P);if(m(O,E,k),P=PA(S,P+g+f,b?P+T:this.right,t.rtl),y(c.x(P),E,k),b)p.x+=T+u;else if(typeof k.text!="string"){const F=d.lineHeight;p.y+=cj(k,F)+u}else p.y+=j}),V2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Ze(s.font),i=qt(s.padding);if(!s.display)return;const r=sr(t.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=i.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Ge(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((v,x)=>Math.max(v,x.height),0);u=d+Ge(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=Ge(l,h,h+f);o.textAlign=r.textAlign(Qp(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,Zo(o,s.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,s=Ze(t.font),n=qt(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,r;if(Es(t,this.left,this.right)&&Es(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Es(t,i.left,i.left+i.width)&&Es(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!t3(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=QM(i,n);i&&!r&&ue(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&ue(s.onHover,[t,n,this],this)}else n&&ue(s.onClick,[t,n,this],this)}}function JM(e,t,s,n,i){const r=ZM(n,e,t,s),o=e3(i,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function ZM(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+s.size/2+n.measureText(i).width}function e3(e,t,s){let n=e;return typeof t.text!="string"&&(n=cj(t,s)),n}function cj(e,t){const s=e.text?e.text.length:0;return t*s}function t3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var s3={id:"legend",_element:ly,start(e,t,s){const n=e.legend=new ly({ctx:e.ctx,options:s,chart:e});Vt.configure(e,n,s),Vt.addBox(e,n)},stop(e){Vt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Vt.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=qt(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class dj extends Hs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=De(n.text)?n.text.length:1;this._padding=qt(n.padding);const r=i*Ze(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:r,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Ge(l,n,r),h=s+t,d=r-n):(o.position==="left"?(u=n+t,h=Ge(l,i,s),c=re*-.5):(u=r-t,h=Ge(l,s,i),c=re*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Ze(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(r);Zo(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:Qp(s.align),textBaseline:"middle",translation:[o,l]})}}function n3(e,t){const s=new dj({ctx:e.ctx,options:t,chart:e});Vt.configure(e,s,t),Vt.addBox(e,s),e.titleBlock=s}var i3={id:"title",_element:dj,start(e,t,s){n3(e,s)},stop(e){const t=e.titleBlock;Vt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Vt.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const eo={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,r=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=e.length;r<o;++r){const c=e[r].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=ef(t,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function os(e,t){return t&&(De(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function js(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function r3(e,t){const{element:s,datasetIndex:n,index:i}=t,r=e.getDatasetMeta(n).controller,{label:o,value:l}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function cy(e,t){const s=e.chart.ctx,{body:n,footer:i,title:r}=e,{boxWidth:o,boxHeight:l}=t,c=Ze(t.bodyFont),d=Ze(t.titleFont),u=Ze(t.footerFont),h=r.length,f=i.length,p=n.length,g=qt(t.padding);let v=g.height,x=0,m=n.reduce((w,j)=>w+j.before.length+j.lines.length+j.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,h&&(v+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),m){const w=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=p*w+(m-p)*c.lineHeight+(m-1)*t.bodySpacing}f&&(v+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const b=function(w){x=Math.max(x,s.measureText(w).width+y)};return s.save(),s.font=d.string,ne(e.title,b),s.font=c.string,ne(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,ne(n,w=>{ne(w.before,b),ne(w.lines,b),ne(w.after,b)}),y=0,s.font=u.string,ne(e.footer,b),s.restore(),x+=g.width,{width:x,height:v}}function o3(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function a3(e,t,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function l3(e,t,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return n==="center"?d=i<=(l+c)/2?"left":"right":i<=r/2?d="left":i>=o-r/2&&(d="right"),a3(d,e,t,s)&&(d="center"),d}function dy(e,t,s){const n=s.yAlign||t.yAlign||o3(e,s);return{xAlign:s.xAlign||t.xAlign||l3(e,t,s,n),yAlign:n}}function c3(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function d3(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function uy(e,t,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:l,yAlign:c}=s,d=i+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=tr(o);let g=c3(t,l);const v=d3(t,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,f)+i:l==="right"&&(g+=Math.max(h,p)+i),{x:Je(g,0,n.width-t.width),y:Je(v,0,n.height-t.height)}}function rl(e,t,s){const n=qt(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function hy(e){return os([],js(e))}function u3(e,t,s){return Pi(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function fy(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const uj={beforeTitle:bs,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:bs,beforeBody:bs,beforeLabel:bs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return se(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:bs,afterBody:bs,beforeFooter:bs,footer:bs,afterFooter:bs};function dt(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?uj[t].call(s,n):i}class lf extends Hs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new q2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=u3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=dt(n,"beforeTitle",this,t),r=dt(n,"title",this,t),o=dt(n,"afterTitle",this,t);let l=[];return l=os(l,js(i)),l=os(l,js(r)),l=os(l,js(o)),l}getBeforeBody(t,s){return hy(dt(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return ne(t,r=>{const o={before:[],lines:[],after:[]},l=fy(n,r);os(o.before,js(dt(l,"beforeLabel",this,r))),os(o.lines,dt(l,"label",this,r)),os(o.after,js(dt(l,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,s){return hy(dt(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=dt(n,"beforeFooter",this,t),r=dt(n,"footer",this,t),o=dt(n,"afterFooter",this,t);let l=[];return l=os(l,js(i)),l=os(l,js(r)),l=os(l,js(o)),l}_createItems(t){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(r3(this.chart,s[c]));return t.filter&&(l=l.filter((u,h,f)=>t.filter(u,h,f,n))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,n))),ne(l,u=>{const h=fy(t.callbacks,u);i.push(dt(h,"labelColor",this,u)),r.push(dt(h,"labelPointStyle",this,u)),o.push(dt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=eo[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=cy(this,n),d=Object.assign({},l,c),u=dy(this.chart,n,d),h=uy(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const r=this.getCaretPosition(t,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=tr(l),{x:f,y:p}=t,{width:g,height:v}=s;let x,m,y,b,w,j;return r==="center"?(w=p+v/2,i==="left"?(x=f,m=x-o,b=w+o,j=w-o):(x=f+g,m=x+o,b=w-o,j=w+o),y=x):(i==="left"?m=f+Math.max(c,u)+o:i==="right"?m=f+g-Math.max(d,h)-o:m=this.caretX,r==="top"?(b=p,w=b-o,x=m-o,y=m+o):(b=p+v,w=b+o,x=m+o,y=m-o),j=b),{x1:x,x2:m,x3:y,y1:b,y2:w,y3:j}}drawTitle(t,s,n){const i=this.title,r=i.length;let o,l,c;if(r){const d=sr(n.rtl,this.x,this.width);for(t.x=rl(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=Ze(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<r;++c)s.fillText(i[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===r&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,s,n,i,r){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=r,u=Ze(r.bodyFont),h=rl(this,"left",r),f=i.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,g=s.y+p;if(r.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=i.leftForLtr(f,d)+d/2,m=g+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,sf(t,v,x,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,sf(t,v,x,m)}else{t.lineWidth=Z(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(f,d),x=i.leftForLtr(i.xPlus(f,1),d-2),m=tr(o.borderRadius);Object.values(m).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,_c(t,{x:v,y:g,w:d,h:c,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),_c(t,{x,y:g+1,w:d-2,h:c-2,radius:m}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(v,g,d,c),t.strokeRect(v,g,d,c),t.fillStyle=o.backgroundColor,t.fillRect(x,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Ze(n.bodyFont);let f=h.lineHeight,p=0;const g=sr(n.rtl,this.x,this.width),v=function(_){s.fillText(_,g.x(t.x+p),t.y+f/2),t.y+=f+r},x=g.textAlign(o);let m,y,b,w,j,k,C;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,t.x=rl(this,x,n),s.fillStyle=n.bodyColor,ne(this.beforeBody,v),p=l&&x!=="right"?o==="center"?d/2+u:d+2+u:0,w=0,k=i.length;w<k;++w){for(m=i[w],y=this.labelTextColors[w],s.fillStyle=y,ne(m.before,v),b=m.lines,l&&b.length&&(this._drawColorBox(s,t,w,g,n),f=Math.max(h.lineHeight,c)),j=0,C=b.length;j<C;++j)v(b[j]),f=h.lineHeight;ne(m.after,v)}p=0,f=h.lineHeight,ne(this.afterBody,v),t.y-=r}drawFooter(t,s,n){const i=this.footer,r=i.length;let o,l;if(r){const c=sr(n.rtl,this.x,this.width);for(t.x=rl(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=Ze(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:r,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=tr(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(t,s,n,i),s.lineTo(l+d-f,c),s.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&r==="right"&&this.drawCaret(t,s,n,i),s.lineTo(l+d,c+u-g),s.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(l+p,c+u),s.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&r==="left"&&this.drawCaret(t,s,n,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=eo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=cy(this,t),c=Object.assign({},o,this._size),d=dy(s,t,c),u=uy(t,c,d,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=qt(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,s),z2(t,s.textDirection),r.y+=o.top,this.drawTitle(r,t,s),this.drawBody(r,t,s),this.drawFooter(r,t,s),V2(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),r=!Nc(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,s,n),l=this._positionChanged(o,t),c=s||!Nc(o,r)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:n,caretY:i,options:r}=this,o=eo[r.position].call(this,t,s);return o!==!1&&(n!==o.x||i!==o.y)}}H(lf,"positioners",eo);var h3={id:"tooltip",_element:lf,positioners:eo,afterInit(e,t,s){s&&(e.tooltip=new lf({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const f3=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function p3(e,t,s,n){const i=e.indexOf(t);if(i===-1)return f3(e,t,s,n);const r=e.lastIndexOf(t);return i!==r?s:i}const m3=(e,t)=>e===null?null:Je(Math.round(e),0,t);function py(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class cf extends kr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(se(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:p3(n,t,X(s,t),this._addedLabels),m3(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=t===0&&s===r.length-1?r:r.slice(t,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return py.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}H(cf,"id","category"),H(cf,"defaults",{ticks:{callback:py}});function g3(e,t){const s=[],{bounds:i,step:r,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,p=r||1,g=u-1,{min:v,max:x}=t,m=!se(o),y=!se(l),b=!se(d),w=(x-v)/(h+1);let j=ux((x-v)/g/p)*p,k,C,_,S;if(j<1e-14&&!m&&!y)return[{value:v},{value:x}];S=Math.ceil(x/j)-Math.floor(v/j),S>g&&(j=ux(S*j/g/p)*p),se(c)||(k=Math.pow(10,c),j=Math.ceil(j*k)/k),i==="ticks"?(C=Math.floor(v/j)*j,_=Math.ceil(x/j)*j):(C=v,_=x),m&&y&&r&&vA((l-o)/r,j/1e3)?(S=Math.round(Math.min((l-o)/j,u)),j=(l-o)/S,C=o,_=l):b?(C=m?o:C,_=y?l:_,S=d-1,j=(_-C)/S):(S=(_-C)/j,vo(S,Math.round(S),j/1e3)?S=Math.round(S):S=Math.ceil(S));const T=Math.max(hx(j),hx(C));k=Math.pow(10,se(c)?T:c),C=Math.round(C*k)/k,_=Math.round(_*k)/k;let P=0;for(m&&(f&&C!==o?(s.push({value:o}),C<o&&P++,vo(Math.round((C+P*j)*k)/k,o,my(o,w,e))&&P++):C<o&&P++);P<S;++P){const E=Math.round((C+P*j)*k)/k;if(y&&E>l)break;s.push({value:E})}return y&&f&&_!==l?s.length&&vo(s[s.length-1].value,l,my(l,w,e))?s[s.length-1].value=l:s.push({value:l}):(!y||_===l)&&s.push({value:_}),s}function my(e,t,{horizontal:s,minRotation:n}){const i=Ts(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class x3 extends kr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=s?i:c,l=c=>r=n?r:c;if(t){const c=gs(i),d=gs(r);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);l(r+c),t||o(i-c)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=g3(i,r);return t.bounds==="ticks"&&bA(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Zp(t,this.chart.options.locale,this.options.ticks.format)}}class df extends x3{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=st(t)?t:0,this.max=st(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Ts(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}H(df,"id","linear"),H(df,"defaults",{ticks:{callback:D2.formatters.numeric}});const bd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ht=Object.keys(bd);function gy(e,t){return e-t}function xy(e,t){if(se(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),st(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(Xo(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function yy(e,t,s,n){const i=ht.length;for(let r=ht.indexOf(e);r<i-1;++r){const o=bd[ht[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(l*o.size))<=n)return ht[r]}return ht[i-1]}function y3(e,t,s,n,i){for(let r=ht.length-1;r>=ht.indexOf(s);r--){const o=ht[r];if(bd[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return ht[s?ht.indexOf(s):0]}function v3(e){for(let t=ht.indexOf(e)+1,s=ht.length;t<s;++t)if(bd[ht[t]].common)return ht[t]}function vy(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Xp(s,t),r=s[n]>=t?s[n]:s[i];e[r]=!0}}function b3(e,t,s,n){const i=e._adapter,r=+i.startOf(t[0].value,n),o=t[t.length-1].value;let l,c;for(l=r;l<=o;l=+i.add(l,1,n))c=s[l],c>=0&&(t[c].major=!0);return t}function by(e,t,s){const n=[],i={},r=t.length;let o,l;for(o=0;o<r;++o)l=t[o],i[l]=o,n.push({value:l,major:!1});return r===0||!s?n:b3(e,n,i,s)}class Ec extends kr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new sR._date(t.adapters.date);i.init(s),yo(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:xy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=st(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=st(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,l=kA(i,r,o);return this._unit=s.unit||(n.autoSkip?yy(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):y3(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:v3(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),by(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=Je(s,0,o),n=Je(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||yy(r.minUnit,s,n,this._getLabelCapacity(s)),l=X(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,d=Xo(c)||c===!0,u={};let h=s,f,p;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+t.add(f,l,o),p++)vy(u,f,g);return(f===n||i.bounds==="ticks"||p===1)&&vy(u,f,g),Object.keys(u).sort(gy).map(v=>+v)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return ue(o,[t,s,n],this);const l=r.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=n[s],p=d&&h&&f&&f.major;return this._adapter.format(t,i||(p?h:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Ts(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*o,h:n*o+l*r}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(t,0,by(this,[t],this._majorUnit),i),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(xy(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return T2(t.sort(gy))}}H(Ec,"id","time"),H(Ec,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ol(e,t,s){let n=0,i=e.length-1,r,o,l,c;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=si(e,"pos",t)),{pos:r,time:l}=e[n],{pos:o,time:c}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=si(e,"time",t)),{time:r,pos:l}=e[n],{time:o,pos:c}=e[i]);const d=o-r;return d?l+(c-l)*(t-r)/d:l}class wy extends Ec{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=ol(s,this.min),this._tableRange=ol(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],r=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=s&&d<=n&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&r.push({time:d,pos:o/(l-1)});return r}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ol(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return ol(this._table,n*this._tableRange+this._minPos,!0)}}H(wy,"id","timeseries"),H(wy,"defaults",Ec.defaults);const hj="label";function jy(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function w3(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function fj(e,t){e.labels=t}function pj(e,t,s=hj){const n=[];e.datasets=t.map(i=>{const r=e.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function j3(e,t=hj){const s={labels:[],datasets:[]};return fj(s,e.labels),pj(s,e.datasets,t),s}function N3(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,p=N.useRef(null),g=N.useRef(null),v=()=>{p.current&&(g.current=new yd(p.current,{type:o,data:j3(l,r),options:c&&{...c},plugins:d}),jy(t,g.current))},x=()=>{jy(t,null),g.current&&(g.current.destroy(),g.current=null)};return N.useEffect(()=>{!i&&g.current&&c&&w3(g.current,c)},[i,c]),N.useEffect(()=>{!i&&g.current&&fj(g.current.config.data,l.labels)},[i,l.labels]),N.useEffect(()=>{!i&&g.current&&l.datasets&&pj(g.current.config.data,l.datasets,r)},[i,l.datasets]),N.useEffect(()=>{g.current&&(i?(x(),setTimeout(v)):g.current.update(h))},[i,c,l.labels,l.datasets,h]),N.useEffect(()=>{g.current&&(x(),setTimeout(v))},[o]),N.useEffect(()=>(v(),()=>x()),[]),a.jsx("canvas",{ref:p,role:"img",height:s,width:n,...f,children:u})}const S3=N.forwardRef(N3);function am(e,t){return yd.register(t),N.forwardRef((s,n)=>a.jsx(S3,{...s,ref:n,type:e}))}const k3=am("line",Dl),_3=am("bar",Al),Ny=am("doughnut",Qr);yd.register(cf,df,Ol,an,Ll,Zr,i3,h3,s3,XM);const C3=()=>{const[e,t]=N.useState([]),[s,n]=N.useState([]),[i,r]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState(!0);if(N.useEffect(()=>{(async()=>{try{const[T,P,E,O]=await Promise.all([I.get("/appointments"),I.get("/invoices"),I.get("/patients"),I.get("/doctors")]);t(T.data),n(P.data),r(E.data),l(O.data)}catch{R.error("Failed to load analytics data")}finally{d(!1)}})()},[]),c)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})});const u=s.reduce((S,T)=>S+(T.total||0),0),h=s.filter(S=>S.status==="Paid").reduce((S,T)=>S+(T.total||0),0),f=u-h,p=e.filter(S=>S.status==="Completed").length,g=e.filter(S=>S.status==="Scheduled").length,v=[],x=new Date;for(let S=5;S>=0;S--){const T=new Date(x.getFullYear(),x.getMonth()-S,1);v.push(T.toLocaleString("default",{month:"short",year:"2-digit"}))}const y=((S,T)=>{const P=new Array(6).fill(0);return S.forEach(E=>{const O=new Date(E[T]||E.createdAt);for(let F=5;F>=0;F--){const D=new Date(x.getFullYear(),x.getMonth()-F,1),M=new Date(x.getFullYear(),x.getMonth()-F+1,0);if(O>=D&&O<=M){P[5-F]++;break}}}),P})(e,"appointmentDate"),b=(()=>{const S=new Array(6).fill(0);return s.forEach(T=>{const P=new Date(T.date||T.createdAt);for(let E=5;E>=0;E--){const O=new Date(x.getFullYear(),x.getMonth()-E,1),F=new Date(x.getFullYear(),x.getMonth()-E+1,0);if(P>=O&&P<=F){S[5-E]+=T.total||0;break}}}),S})(),w={Scheduled:e.filter(S=>S.status==="Scheduled").length,Confirmed:e.filter(S=>S.status==="Confirmed").length,Completed:e.filter(S=>S.status==="Completed").length,Cancelled:e.filter(S=>S.status==="Cancelled").length},j=s.filter(S=>S.status==="Paid").length,k=s.filter(S=>S.status!=="Paid").length,C=[{label:"Total Patients",value:i.length,icon:us,color:"text-blue-500",bg:"bg-blue-50"},{label:"Total Doctors",value:o.length,icon:Fs,color:"text-purple-500",bg:"bg-purple-50"},{label:"Appointments",value:e.length,icon:je,color:"text-cyan-500",bg:"bg-cyan-50"},{label:"Total Revenue",value:`${u.toLocaleString()}`,icon:yi,color:"text-green-500",bg:"bg-green-50"}],_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:12}}},y:{grid:{color:"#f1f5f9"},ticks:{color:"#64748b",font:{size:12}}}}};return a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Jw,{className:"text-cyan-500"})," Reports & Analytics"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Hospital performance overview"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:C.map((S,T)=>a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.1},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-full ${S.bg}`,children:a.jsx(S.icon,{className:`w-6 h-6 ${S.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:S.label}),a.jsx("p",{className:"text-xl font-bold text-slate-800",children:S.value})]})]},S.label))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Up,{size:18,className:"text-cyan-500"})," Appointment Trend"]}),a.jsx("div",{className:"h-64",children:a.jsx(_3,{data:{labels:v,datasets:[{label:"Appointments",data:y,backgroundColor:"rgba(6, 182, 212, 0.7)",borderRadius:8,borderSkipped:!1}]},options:_})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(yi,{size:18,className:"text-green-500"})," Revenue Trend ()"]}),a.jsx("div",{className:"h-64",children:a.jsx(k3,{data:{labels:v,datasets:[{label:"Revenue",data:b,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointRadius:5,pointBackgroundColor:"#10b981"}]},options:_})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[a.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Appointment Status"}),a.jsx("div",{className:"h-56 flex items-center justify-center",children:a.jsx(Ny,{data:{labels:Object.keys(w),datasets:[{data:Object.values(w),backgroundColor:["#f59e0b","#3b82f6","#10b981","#ef4444"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:12}}},cutout:"65%"}})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[a.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Revenue Breakdown"}),a.jsx("div",{className:"h-56 flex items-center justify-center",children:a.jsx(Ny,{data:{labels:["Paid","Unpaid"],datasets:[{data:[h,f],backgroundColor:["#10b981","#ef4444"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:12}}},cutout:"65%"}})}),a.jsx("div",{className:"mt-2 text-center",children:a.jsxs("p",{className:"text-sm text-slate-500",children:["Paid: ",a.jsxs("span",{className:"font-bold text-green-600",children:["",h.toLocaleString()]}),"  Pending: ",a.jsxs("span",{className:"font-bold text-red-500",children:["",f.toLocaleString()]})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[a.jsx("h3",{className:"font-bold text-slate-800 mb-4",children:"Quick Stats"}),a.jsx("div",{className:"space-y-4",children:[{label:"Completed Appointments",value:p,total:e.length,color:"bg-green-500"},{label:"Pending Appointments",value:g,total:e.length,color:"bg-amber-500"},{label:"Paid Invoices",value:j,total:s.length,color:"bg-blue-500"},{label:"Unpaid Invoices",value:k,total:s.length,color:"bg-red-500"}].map(S=>{const T=S.total>0?Math.round(S.value/S.total*100):0;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-slate-600",children:S.label}),a.jsxs("span",{className:"font-bold text-slate-800",children:[S.value," (",T,"%)"]})]}),a.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${S.color} transition-all`,style:{width:`${T}%`}})})]},S.label)})})]})]})]})},Sy=["General","ICU","Private","Semi-Private","Emergency","Maternity","Pediatric"],P3=["Available","Occupied","Maintenance","Reserved"],T3={Available:"bg-green-100 text-green-700 border-green-200",Occupied:"bg-red-100 text-red-700 border-red-200",Maintenance:"bg-yellow-100 text-yellow-700 border-yellow-200",Reserved:"bg-blue-100 text-blue-700 border-blue-200"},E3={Available:"bg-green-500",Occupied:"bg-red-500",Maintenance:"bg-yellow-500",Reserved:"bg-blue-500"},A3={General:"bg-slate-50 border-slate-200",ICU:"bg-red-50 border-red-200",Private:"bg-purple-50 border-purple-200","Semi-Private":"bg-indigo-50 border-indigo-200",Emergency:"bg-orange-50 border-orange-200",Maternity:"bg-pink-50 border-pink-200",Pediatric:"bg-teal-50 border-teal-200"},D3=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState([]),[r,o]=N.useState(!0),[l,c]=N.useState("All"),[d,u]=N.useState("All"),[h,f]=N.useState(""),[p,g]=N.useState(!1),[v,x]=N.useState(null),[m,y]=N.useState({roomNumber:"",bedNumber:"",ward:"General",dailyRate:500,notes:""});N.useEffect(()=>{b()},[]);const b=async()=>{try{const[P,E]=await Promise.all([I.get("/beds"),I.get("/patients")]);s(P.data),i(E.data)}catch{R.error("Failed to load data")}finally{o(!1)}},w=async P=>{var E,O;P.preventDefault();try{await I.post("/beds",m),R.success("Bed added!"),g(!1),y({roomNumber:"",bedNumber:"",ward:"General",dailyRate:500,notes:""}),b()}catch(F){R.error(((O=(E=F.response)==null?void 0:E.data)==null?void 0:O.message)||"Failed to add bed")}},j=async(P,E)=>{try{await I.put(`/beds/${P}/assign`,{patientId:E}),R.success("Patient assigned to bed!"),x(null),b()}catch{R.error("Failed to assign")}},k=async P=>{try{await I.put(`/beds/${P}/discharge`),R.success("Patient discharged!"),b()}catch{R.error("Failed to discharge")}},C=async(P,E)=>{try{await I.put(`/beds/${P}`,{status:E}),R.success("Status updated!"),b()}catch{R.error("Failed to update")}},_=async P=>{if(confirm("Delete this bed?"))try{await I.delete(`/beds/${P}`),R.success("Bed deleted!"),b()}catch{R.error("Failed to delete")}},S=t.filter(P=>{var E,O,F,D;if(l!=="All"&&P.ward!==l||d!=="All"&&P.status!==d)return!1;if(h){const M=h.toLowerCase();return P.roomNumber.toLowerCase().includes(M)||P.bedNumber.toLowerCase().includes(M)||((O=(E=P.patient)==null?void 0:E.firstName)==null?void 0:O.toLowerCase().includes(M))||((D=(F=P.patient)==null?void 0:F.lastName)==null?void 0:D.toLowerCase().includes(M))}return!0}),T={total:t.length,available:t.filter(P=>P.status==="Available").length,occupied:t.filter(P=>P.status==="Occupied").length,maintenance:t.filter(P=>P.status==="Maintenance").length};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ti,{className:"text-cyan-500"})," Bed & Room Management"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Manage hospital beds and patient assignments"})]}),(e==null?void 0:e.role)==="Admin"&&a.jsxs("button",{onClick:()=>g(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 font-bold transition-colors shadow-lg shadow-cyan-500/20",children:[a.jsx(ns,{size:20})," Add Bed"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Beds",value:T.total,color:"text-slate-600",bg:"bg-slate-50"},{label:"Available",value:T.available,color:"text-green-600",bg:"bg-green-50"},{label:"Occupied",value:T.occupied,color:"text-red-600",bg:"bg-red-50"},{label:"Maintenance",value:T.maintenance,color:"text-yellow-600",bg:"bg-yellow-50"}].map(P=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-full ${P.bg}`,children:a.jsx(ti,{className:`w-5 h-5 ${P.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:P.label}),a.jsx("p",{className:"text-xl font-bold text-slate-800",children:P.value})]})]},P.label))}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Us,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search room, bed or patient...",value:h,onChange:P=>f(P.target.value),className:"w-full pl-9 pr-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-400 text-sm"})]}),a.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-cyan-400",children:[a.jsx("option",{value:"All",children:"All Wards"}),Sy.map(P=>a.jsx("option",{value:P,children:P},P))]}),a.jsxs("select",{value:d,onChange:P=>u(P.target.value),className:"border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-cyan-400",children:[a.jsx("option",{value:"All",children:"All Status"}),P3.map(P=>a.jsx("option",{value:P,children:P},P))]})]}),S.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 px-6 py-12 text-center text-slate-500",children:[a.jsx(ti,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsxs("p",{children:["No beds found. ",(e==null?void 0:e.role)==="Admin"&&'Click "Add Bed" to get started.']})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:S.map(P=>a.jsxs("div",{className:`rounded-xl border shadow-sm p-4 ${A3[P.ward]||"bg-white border-slate-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-slate-800",children:["Room ",P.roomNumber]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Bed ",P.bedNumber,"  ",P.ward]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${E3[P.status]}`}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${T3[P.status]}`,children:P.status})]})]}),P.status==="Occupied"&&P.patient&&a.jsxs("div",{className:"bg-white/70 rounded-lg p-2.5 mb-3 border border-slate-100",children:[a.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[P.patient.firstName," ",P.patient.lastName]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Since ",new Date(P.admissionDate).toLocaleDateString()]})]}),a.jsx("div",{className:"flex justify-between items-center text-xs text-slate-500 mb-3",children:a.jsxs("span",{children:["",P.dailyRate,"/day"]})}),a.jsxs("div",{className:"flex gap-2",children:[P.status==="Available"&&a.jsxs("button",{onClick:()=>x(P),className:"flex-1 py-1.5 text-xs font-bold bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 flex items-center justify-center gap-1",children:[a.jsx(mr,{size:12})," Assign"]}),P.status==="Occupied"&&a.jsxs("button",{onClick:()=>k(P._id),className:"flex-1 py-1.5 text-xs font-bold bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center justify-center gap-1",children:[a.jsx($p,{size:12})," Discharge"]}),(e==null?void 0:e.role)==="Admin"&&P.status!=="Occupied"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>C(P._id,P.status==="Maintenance"?"Available":"Maintenance"),className:"py-1.5 px-2 text-xs font-bold border border-slate-200 rounded-lg hover:bg-slate-100 flex items-center gap-1",children:[a.jsx(RE,{size:12})," ",P.status==="Maintenance"?"Fix":"Maint."]}),a.jsx("button",{onClick:()=>_(P._id),className:"py-1.5 px-2 text-xs font-bold text-red-500 border border-red-200 rounded-lg hover:bg-red-50",children:a.jsx(Me,{size:12})})]})]})]},P._id))}),a.jsx(tt,{children:p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ti,{className:"text-cyan-500",size:20})," Add New Bed"]}),a.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:24})})]}),a.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Room No. *"}),a.jsx("input",{type:"text",value:m.roomNumber,onChange:P=>y({...m,roomNumber:P.target.value}),placeholder:"e.g., 101",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Bed No. *"}),a.jsx("input",{type:"text",value:m.bedNumber,onChange:P=>y({...m,bedNumber:P.target.value}),placeholder:"e.g., A",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Ward"}),a.jsx("select",{value:m.ward,onChange:P=>y({...m,ward:P.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",children:Sy.map(P=>a.jsx("option",{value:P,children:P},P))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Daily Rate ()"}),a.jsx("input",{type:"number",value:m.dailyRate,onChange:P=>y({...m,dailyRate:Number(P.target.value)}),className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400",min:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Notes"}),a.jsx("input",{type:"text",value:m.notes,onChange:P=>y({...m,notes:P.target.value}),placeholder:"Optional notes",className:"w-full border border-slate-200 rounded-lg py-2 px-3 focus:outline-none focus:border-cyan-400"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold",children:"Add Bed"})]})]})]})})}),a.jsx(tt,{children:v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-800",children:["Assign Patient  Room ",v.roomNumber,", Bed ",v.bedNumber]}),a.jsx("button",{onClick:()=>x(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Select Patient"}),a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.map(P=>{var E,O;return a.jsxs("button",{onClick:()=>j(v._id,P._id),className:"w-full text-left p-3 rounded-lg border border-slate-100 hover:border-cyan-300 hover:bg-cyan-50 transition-colors flex items-center gap-3",children:[a.jsxs("div",{className:"w-8 h-8 rounded-full bg-cyan-100 flex items-center justify-center text-cyan-700 font-bold text-sm",children:[(E=P.firstName)==null?void 0:E[0],(O=P.lastName)==null?void 0:O[0]]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-slate-800 text-sm",children:[P.firstName," ",P.lastName]}),a.jsx("p",{className:"text-xs text-slate-500",children:P.email})]})]},P._id)})})]})]})})})]})},Au={Pending:"bg-amber-400",Confirmed:"bg-blue-500",Completed:"bg-green-500",Cancelled:"bg-red-400"},R3={Pending:"bg-amber-100 text-amber-700",Confirmed:"bg-blue-100 text-blue-700",Completed:"bg-green-100 text-green-700",Cancelled:"bg-red-100 text-red-700"},M3=()=>{const{user:e}=Te(),[t,s]=N.useState([]),[n,i]=N.useState([]),[r,o]=N.useState(!0),[l,c]=N.useState(new Date),[d,u]=N.useState(null),[h,f]=N.useState("All");N.useEffect(()=>{(async()=>{try{const P=[I.get("/appointments")];((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="Receptionist")&&P.push(I.get("/doctors"));const E=await Promise.all(P);s(E[0].data),E[1]&&i(E[1].data)}catch(P){console.error(P)}finally{o(!1)}})()},[]);const p=l.getFullYear(),g=l.getMonth(),v=l.toLocaleString("default",{month:"long",year:"numeric"}),x=()=>c(new Date(p,g-1,1)),m=()=>c(new Date(p,g+1,1)),y=()=>c(new Date),b=N.useMemo(()=>{const T=new Date(p,g,1).getDay(),P=new Date(p,g+1,0).getDate(),E=[];for(let O=0;O<T;O++)E.push(null);for(let O=1;O<=P;O++)E.push(O);return E},[p,g]),w=T=>T?t.filter(P=>{var F;const E=new Date(P.appointmentDate);return E.getFullYear()===p&&E.getMonth()===g&&E.getDate()===T?h!=="All"?(((F=P.doctor)==null?void 0:F._id)||P.doctor)===h:!0:!1}):[],j=new Date,k=T=>T&&j.getFullYear()===p&&j.getMonth()===g&&j.getDate()===T,C=d?w(d):[],_=t.filter(T=>{const P=new Date(T.appointmentDate);return P.getFullYear()===p&&P.getMonth()===g}),S=t.filter(T=>new Date(T.appointmentDate).toDateString()===j.toDateString());return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(je,{className:"text-cyan-500"})," Doctor Schedule"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"View and manage appointment schedules"})]}),((e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="Receptionist")&&n.length>0&&a.jsxs("select",{value:h,onChange:T=>f(T.target.value),className:"border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-cyan-400",children:[a.jsx("option",{value:"All",children:"All Doctors"}),n.map(T=>a.jsxs("option",{value:T._id,children:["Dr. ",T.firstName," ",T.lastName]},T._id))]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Today's Appointments",value:S.length,color:"text-cyan-600 bg-cyan-50"},{label:"This Month",value:_.length,color:"text-blue-600 bg-blue-50"},{label:"Confirmed",value:_.filter(T=>T.status==="Confirmed").length,color:"text-green-600 bg-green-50"},{label:"Pending",value:_.filter(T=>T.status==="Pending").length,color:"text-amber-600 bg-amber-50"}].map(T=>a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100",children:[a.jsx("p",{className:"text-xs text-slate-500",children:T.label}),a.jsx("p",{className:`text-2xl font-bold ${T.color.split(" ")[0]}`,children:T.value})]},T.label))}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:x,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(Zw,{size:20,className:"text-slate-600"})}),a.jsx("h2",{className:"text-base sm:text-lg font-bold text-slate-800 min-w-[140px] sm:min-w-[200px] text-center",children:v}),a.jsx("button",{onClick:m,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(e2,{size:20,className:"text-slate-600"})})]}),a.jsx("button",{onClick:y,className:"px-4 py-1.5 text-sm font-medium text-cyan-600 border border-cyan-200 rounded-lg hover:bg-cyan-50 transition-colors",children:"Today"})]}),a.jsx("div",{className:"grid grid-cols-7 border-b border-slate-100",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(T=>a.jsx("div",{className:"px-2 py-3 text-center text-xs font-bold text-slate-500 uppercase",children:T},T))}),a.jsx("div",{className:"grid grid-cols-7",children:b.map((T,P)=>{const E=w(T);return a.jsx("div",{className:`min-h-[60px] sm:min-h-[80px] md:min-h-[100px] border-b border-r border-slate-50 p-1 sm:p-1.5 cursor-pointer transition-colors ${T?"hover:bg-slate-50":""} ${k(T)?"bg-cyan-50/50":""} ${d===T&&T?"ring-2 ring-cyan-400 ring-inset":""}`,onClick:()=>T&&u(T===d?null:T),children:T&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:`text-sm font-medium inline-flex items-center justify-center w-7 h-7 rounded-full ${k(T)?"bg-cyan-500 text-white":"text-slate-700"}`,children:T}),a.jsxs("div",{className:"mt-1 space-y-0.5",children:[E.slice(0,3).map(O=>{var F;return a.jsxs("div",{className:`text-[10px] px-1.5 py-0.5 rounded truncate text-white font-medium ${Au[O.status]||"bg-slate-400"}`,children:[new Date(O.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ",((F=O.patient)==null?void 0:F.firstName)||""]},O._id)}),E.length>3&&a.jsxs("p",{className:"text-[10px] text-slate-500 font-medium pl-1",children:["+",E.length-3," more"]})]})]})},P)})})]}),d&&a.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-bold text-slate-800",children:[new Date(p,g,d).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),a.jsxs("span",{className:"ml-2 text-sm font-normal text-slate-500",children:["(",C.length," appointments)"]})]}),a.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Me,{size:20})})]}),a.jsx("div",{className:"divide-y divide-slate-50",children:C.length===0?a.jsx("div",{className:"px-6 py-8 text-center text-slate-500",children:"No appointments on this day"}):C.sort((T,P)=>new Date(T.appointmentDate)-new Date(P.appointmentDate)).map(T=>{var P,E,O,F;return a.jsxs("div",{className:"px-3 sm:px-6 py-3 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:`w-1 h-10 rounded-full ${Au[T.status]}`}),a.jsxs("div",{className:"flex items-center gap-2 min-w-[80px]",children:[a.jsx(ot,{size:14,className:"text-slate-400"}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:new Date(T.appointmentDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{size:14,className:"text-slate-400"}),a.jsxs("span",{className:"text-sm font-medium text-slate-800",children:[(P=T.patient)==null?void 0:P.firstName," ",(E=T.patient)==null?void 0:E.lastName]})]}),a.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Dr. ",(O=T.doctor)==null?void 0:O.firstName," ",(F=T.doctor)==null?void 0:F.lastName,"  ",T.reason]})]}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${R3[T.status]}`,children:T.status})]},T._id)})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-xs text-slate-500",children:[a.jsx("span",{className:"font-medium",children:"Status:"}),Object.entries(Au).map(([T,P])=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${P}`})," ",T]},T))]})]})},L3={appointment:je,lab_report:ai,prescription:Ne,billing:yi,bed:ti,system:Gn,general:Wo},ky={appointment:"bg-blue-100 text-blue-600",lab_report:"bg-purple-100 text-purple-600",prescription:"bg-green-100 text-green-600",billing:"bg-amber-100 text-amber-600",bed:"bg-teal-100 text-teal-600",system:"bg-red-100 text-red-600",general:"bg-slate-100 text-slate-600"},O3=()=>{const e=ki(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[r,o]=N.useState("all");N.useEffect(()=>{l()},[]);const l=async()=>{try{const x=await I.get("/notifications");s(x.data)}catch{R.error("Failed to load notifications")}finally{i(!1)}},c=async x=>{try{await I.put(`/notifications/${x}/read`),s(m=>m.map(y=>y._id===x?{...y,isRead:!0}:y))}catch{R.error("Failed to update")}},d=async()=>{try{await I.put("/notifications/read-all"),s(x=>x.map(m=>({...m,isRead:!0}))),R.success("All marked as read")}catch{R.error("Failed to update")}},u=async x=>{try{await I.delete(`/notifications/${x}`),s(m=>m.filter(y=>y._id!==x))}catch{R.error("Failed to delete")}},h=async()=>{if(confirm("Clear all notifications?"))try{await I.delete("/notifications"),s([]),R.success("All notifications cleared")}catch{R.error("Failed to clear")}},f=x=>{x.isRead||c(x._id),x.link&&e(x.link)},p=x=>{const m=Math.floor((new Date-new Date(x))/1e3);if(m<60)return"just now";const y=Math.floor(m/60);if(y<60)return`${y}m ago`;const b=Math.floor(y/60);if(b<24)return`${b}h ago`;const w=Math.floor(b/24);return w<7?`${w}d ago`:new Date(x).toLocaleDateString()},g=t.filter(x=>r==="unread"?!x.isRead:r==="read"?x.isRead:!0),v=t.filter(x=>!x.isRead).length;return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(qo,{className:"text-cyan-500"})," Notifications",v>0&&a.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:v})]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Stay updated with your activities"})]}),a.jsxs("div",{className:"flex gap-2",children:[v>0&&a.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-cyan-600 border border-cyan-200 rounded-lg hover:bg-cyan-50 flex items-center gap-1.5",children:[a.jsx(gE,{size:16})," Mark All Read"]}),t.length>0&&a.jsxs("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-red-500 border border-red-200 rounded-lg hover:bg-red-50 flex items-center gap-1.5",children:[a.jsx(ga,{size:16})," Clear All"]})]})]}),a.jsx("div",{className:"flex gap-1 bg-slate-100 p-1 rounded-lg w-fit",children:[{key:"all",label:"All"},{key:"unread",label:`Unread (${v})`},{key:"read",label:"Read"}].map(x=>a.jsx("button",{onClick:()=>o(x.key),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-colors ${r===x.key?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:x.label},x.key))}),g.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 px-6 py-12 text-center",children:[a.jsx(qo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:r==="all"?"No notifications yet":`No ${r} notifications`})]}):a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden divide-y divide-slate-50",children:g.map(x=>{const m=L3[x.type]||Wo,y=ky[x.type]||ky.general;return a.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},className:`flex items-start gap-4 px-5 py-4 cursor-pointer transition-colors hover:bg-slate-50 ${x.isRead?"":"bg-cyan-50/30"}`,onClick:()=>f(x),children:[a.jsx("div",{className:`p-2.5 rounded-full shrink-0 ${y}`,children:a.jsx(m,{size:18})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${x.isRead?"font-medium text-slate-700":"font-bold text-slate-900"}`,children:x.title}),a.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:x.message})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("span",{className:"text-xs text-slate-400",children:p(x.createdAt)}),!x.isRead&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500 shrink-0"})]})]})}),a.jsx("button",{onClick:b=>{b.stopPropagation(),u(x._id)},className:"text-slate-300 hover:text-red-400 transition-colors shrink-0 mt-1",children:a.jsx(Me,{size:16})})]},x._id)})})]})},_y={CREATE:"bg-emerald-100 text-emerald-700",UPDATE:"bg-blue-100 text-blue-700",DELETE:"bg-red-100 text-red-700",LOGIN:"bg-violet-100 text-violet-700",LOGOUT:"bg-slate-100 text-slate-700",VIEW:"bg-cyan-100 text-cyan-700",UPLOAD:"bg-amber-100 text-amber-700",DOWNLOAD:"bg-indigo-100 text-indigo-700",STATUS_CHANGE:"bg-orange-100 text-orange-700"},I3={CREATE:"",UPDATE:"",DELETE:"",LOGIN:"",LOGOUT:"",VIEW:"",UPLOAD:"",DOWNLOAD:"",STATUS_CHANGE:""},Cy={Patient:"",Doctor:"",Appointment:"",Invoice:"",Medicine:"",Prescription:"",LabReport:"",MedicalHistory:"",Bed:"",Notification:"",User:"",Profile:""},B3=()=>{const{user:e}=Te(),t=(e==null?void 0:e.role)==="Admin",[s,n]=N.useState([]),[i,r]=N.useState(!0),[o,l]=N.useState(1),[c,d]=N.useState(1),[u,h]=N.useState(0),[f,p]=N.useState({action:"",entity:"",startDate:"",endDate:""}),[g,v]=N.useState(!1),x=async()=>{r(!0);try{const b=new URLSearchParams;b.append("page",o),b.append("limit",15),f.action&&b.append("action",f.action),f.entity&&b.append("entity",f.entity),f.startDate&&b.append("startDate",f.startDate),f.endDate&&b.append("endDate",f.endDate);const w=t?"/activity-logs":"/activity-logs/my",{data:j}=await I.get(`${w}?${b.toString()}`);n(j.logs),d(j.pages),h(j.total)}catch{R.error("Failed to fetch activity logs")}finally{r(!1)}};N.useEffect(()=>{x()},[o,f]);const m=()=>{p({action:"",entity:"",startDate:"",endDate:""}),l(1)},y=b=>{const w=new Date(b),k=new Date-w,C=Math.floor(k/6e4),_=Math.floor(k/36e5),S=Math.floor(k/864e5);return C<1?"Just now":C<60?`${C}m ago`:_<24?`${_}h ago`:S<7?`${S}d ago`:w.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(Fs,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Activity Log"}),a.jsxs("p",{className:"text-sm text-slate-500",children:[u," total activities recorded"]})]})]}),a.jsxs("button",{onClick:()=>v(!g),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${g?"bg-violet-100 text-violet-700 shadow-sm":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:[a.jsx(t2,{size:16}),"Filters",(f.action||f.entity||f.startDate||f.endDate)&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-violet-500 animate-pulse"})]})]}),a.jsx(tt,{children:g&&a.jsx(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-5",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase tracking-wider",children:"Action"}),a.jsxs("select",{value:f.action,onChange:b=>{p({...f,action:b.target.value}),l(1)},className:"w-full border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-violet-400 focus:ring-1 focus:ring-violet-400",children:[a.jsx("option",{value:"",children:"All Actions"}),Object.keys(_y).map(b=>a.jsx("option",{value:b,children:b.replace("_"," ")},b))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase tracking-wider",children:"Entity"}),a.jsxs("select",{value:f.entity,onChange:b=>{p({...f,entity:b.target.value}),l(1)},className:"w-full border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-violet-400 focus:ring-1 focus:ring-violet-400",children:[a.jsx("option",{value:"",children:"All Entities"}),Object.keys(Cy).map(b=>a.jsx("option",{value:b,children:b},b))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase tracking-wider",children:"From Date"}),a.jsx("input",{type:"date",value:f.startDate,onChange:b=>{p({...f,startDate:b.target.value}),l(1)},className:"w-full border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-violet-400 focus:ring-1 focus:ring-violet-400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase tracking-wider",children:"To Date"}),a.jsx("input",{type:"date",value:f.endDate,onChange:b=>{p({...f,endDate:b.target.value}),l(1)},className:"w-full border border-slate-200 rounded-lg py-2 px-3 text-sm focus:outline-none focus:border-violet-400 focus:ring-1 focus:ring-violet-400"})]})]}),(f.action||f.entity||f.startDate||f.endDate)&&a.jsx("button",{onClick:m,className:"mt-3 text-sm text-violet-600 hover:text-violet-800 font-medium",children:" Clear all filters"})]})})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 border-3 border-violet-200 border-t-violet-600 rounded-full animate-spin"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Loading activity logs..."})]})}):s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[a.jsx(Fs,{className:"w-16 h-16 mb-4 opacity-30"}),a.jsx("p",{className:"text-lg font-medium",children:"No activity logs found"}),a.jsx("p",{className:"text-sm",children:"Activity will appear here as actions are performed"})]}):a.jsx("div",{className:"divide-y divide-slate-50",children:s.map((b,w)=>{var j;return a.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.03},className:"flex items-start sm:items-center gap-3 sm:gap-4 px-4 sm:px-6 py-4 hover:bg-slate-50/50 transition-colors group",children:[a.jsx("div",{className:"shrink-0 text-xl w-10 h-10 flex items-center justify-center rounded-full bg-slate-50 group-hover:scale-110 transition-transform",children:I3[b.action]||""}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t&&b.user&&a.jsxs("span",{className:"font-semibold text-slate-800 text-sm",children:[b.user.firstName," ",b.user.lastName]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${_y[b.action]||"bg-slate-100 text-slate-600"}`,children:(j=b.action)==null?void 0:j.replace("_"," ")}),a.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[Cy[b.entity]||""," ",b.entity]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-0.5 truncate",children:b.details})]}),t&&b.user&&a.jsx("span",{className:"shrink-0 px-2.5 py-1 bg-slate-100 text-slate-500 rounded-full text-[10px] font-bold uppercase tracking-wider hidden lg:block",children:b.user.role}),a.jsx("div",{className:"shrink-0 text-right",children:a.jsxs("p",{className:"text-xs font-medium text-slate-500 flex items-center gap-1",children:[a.jsx(ot,{size:12}),y(b.createdAt)]})})]},b._id)})}),c>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 px-4 sm:px-6 py-4 bg-slate-50/50 border-t border-slate-100",children:[a.jsxs("p",{className:"text-sm text-slate-500",children:["Page ",a.jsx("span",{className:"font-bold text-slate-700",children:o})," of ",a.jsx("span",{className:"font-bold text-slate-700",children:c}),a.jsxs("span",{className:"text-slate-400 ml-2",children:["(",u," total)"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>l(b=>Math.max(1,b-1)),disabled:o===1,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium rounded-lg bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Zw,{size:14})," Prev"]}),a.jsxs("button",{onClick:()=>l(b=>Math.min(c,b+1)),disabled:o===c,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium rounded-lg bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:["Next ",a.jsx(e2,{size:14})]})]})]})]})]})},F3=e=>{switch(e){case"expired":return"bg-red-100 text-red-700 border-red-200";case"outOfStock":return"bg-red-50 text-red-600 border-red-200";case"expiringSoon":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"lowStock":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-slate-100 text-slate-600"}},z3=e=>{switch(e){case"expired":return a.jsx(jc,{className:"w-5 h-5"});case"outOfStock":return a.jsx(Qh,{className:"w-5 h-5"});case"expiringSoon":return a.jsx(ot,{className:"w-5 h-5"});case"lowStock":return a.jsx(xi,{className:"w-5 h-5"});default:return a.jsx(ma,{className:"w-5 h-5"})}},V3=()=>{const[e,t]=N.useState(null),[s,n]=N.useState(!0),[i,r]=N.useState("all");N.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:u}=await I.get("/medicines/alerts");t(u)}catch{R.error("Failed to fetch alerts")}finally{n(!1)}};if(s)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})});const l=(u,h)=>a.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-3 sm:p-4 rounded-xl border ${F3(h)} flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white/60",children:z3(h)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-sm",children:u.name}),a.jsxs("p",{className:"text-xs opacity-75",children:[u.category,"  ",u.supplier||"No supplier"]})]})]}),a.jsxs("div",{className:"text-right",children:[(h==="lowStock"||h==="outOfStock")&&a.jsxs("div",{className:"font-bold text-sm",children:[u.stock," units"]}),(h==="expiringSoon"||h==="expired")&&a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-bold",children:new Date(u.expiryDate).toLocaleDateString()}),a.jsxs("div",{className:"text-xs opacity-75",children:["Stock: ",u.stock]})]}),a.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:h==="expired"?" Expired":h==="outOfStock"?" Out of Stock":h==="expiringSoon"?" Expiring":" Low Stock"})]})]},`${h}-${u._id}`),d=(()=>{if(!e)return[];switch(i){case"expired":return e.expired.map(u=>({item:u,type:"expired"}));case"outOfStock":return e.outOfStock.map(u=>({item:u,type:"outOfStock"}));case"expiringSoon":return e.expiringSoon.map(u=>({item:u,type:"expiringSoon"}));case"lowStock":return e.lowStock.map(u=>({item:u,type:"lowStock"}));default:return[...e.expired.map(u=>({item:u,type:"expired"})),...e.outOfStock.map(u=>({item:u,type:"outOfStock"})),...e.expiringSoon.map(u=>({item:u,type:"expiringSoon"})),...e.lowStock.map(u=>({item:u,type:"lowStock"}))]}})();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Inventory Alerts"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Monitor stock levels and medicine expiry dates"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-2 py-1 rounded-xl border border-slate-200 shadow-sm w-full sm:w-auto",children:[a.jsx(t2,{size:16,className:"text-slate-400 shrink-0"}),a.jsxs("select",{value:i,onChange:u=>r(u.target.value),className:"bg-transparent text-sm font-medium text-slate-700 border-none focus:outline-none pr-2 w-full",children:[a.jsxs("option",{value:"all",children:["All Alerts (",e==null?void 0:e.summary.totalAlerts,")"]}),a.jsxs("option",{value:"expired",children:["Expired (",e==null?void 0:e.summary.expiredCount,")"]}),a.jsxs("option",{value:"outOfStock",children:["Out of Stock (",e==null?void 0:e.summary.outOfStockCount,")"]}),a.jsxs("option",{value:"expiringSoon",children:["Expiring Soon (",e==null?void 0:e.summary.expiringSoonCount,")"]}),a.jsxs("option",{value:"lowStock",children:["Low Stock (",e==null?void 0:e.summary.lowStockCount,")"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-red-600",children:e==null?void 0:e.summary.expiredCount}),a.jsx("div",{className:"text-xs font-medium text-slate-500 mt-1",children:"Expired"})]}),a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-red-500",children:e==null?void 0:e.summary.outOfStockCount}),a.jsx("div",{className:"text-xs font-medium text-slate-500 mt-1",children:"Out of Stock"})]}),a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:e==null?void 0:e.summary.expiringSoonCount}),a.jsx("div",{className:"text-xs font-medium text-slate-500 mt-1",children:"Expiring Soon"})]}),a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-orange-600",children:e==null?void 0:e.summary.lowStockCount}),a.jsx("div",{className:"text-xs font-medium text-slate-500 mt-1",children:"Low Stock"})]})]}),a.jsx("div",{className:"space-y-3",children:d.length>0?d.map(({item:u,type:h})=>l(u,h)):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-12 text-center",children:[a.jsx(ma,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"All Clear!"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"No inventory alerts at the moment."})]})})]})},$3=()=>{const{user:e}=Te(),[t,s]=N.useState(null),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,c]=N.useState(!0),[d,u]=N.useState(new Date().toISOString().split("T")[0]),[h,f]=N.useState("my");N.useEffect(()=>{p()},[]),N.useEffect(()=>{(e==null?void 0:e.role)==="Admin"&&h==="all"&&g()},[d,h]);const p=async()=>{try{const[_,S]=await Promise.all([I.get("/attendance/today"),I.get("/attendance/my")]);s(_.data),i(S.data)}catch(_){console.error("Error fetching attendance:",_)}finally{c(!1)}},g=async()=>{try{const{data:_}=await I.get(`/attendance?date=${d}`);o(_)}catch(_){console.error(_)}},v=async()=>{var _,S;try{await I.post("/attendance/check-in"),R.success("Checked in successfully! "),p()}catch(T){R.error(((S=(_=T.response)==null?void 0:_.data)==null?void 0:S.message)||"Check-in failed")}},x=async()=>{var _,S;try{await I.put("/attendance/check-out"),R.success("Checked out successfully! "),p()}catch(T){R.error(((S=(_=T.response)==null?void 0:_.data)==null?void 0:S.message)||"Check-out failed")}},m=(t==null?void 0:t.checkIn)&&!(t!=null&&t.checkOut),y=t==null?void 0:t.checkOut,b=!(t!=null&&t.checkIn)&&!(t!=null&&t.checkedIn),w=n.filter(_=>_.status==="Present").length,j=n.filter(_=>_.status==="Late").length,k=n.reduce((_,S)=>_+(S.hoursWorked||0),0).toFixed(1),C=_=>({Present:"bg-green-100 text-green-700",Late:"bg-yellow-100 text-yellow-700","Half-Day":"bg-orange-100 text-orange-700",Absent:"bg-red-100 text-red-700"})[_]||"bg-slate-100 text-slate-600";return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Staff Attendance"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Track your daily check-in and check-out"})]}),(e==null?void 0:e.role)==="Admin"&&a.jsxs("div",{className:"flex gap-2 bg-white p-1 rounded-xl border border-slate-200 shadow-sm",children:[a.jsx("button",{onClick:()=>f("my"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="my"?"bg-cyan-500 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:"My Attendance"}),a.jsx("button",{onClick:()=>f("all"),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="all"?"bg-cyan-500 text-white shadow-sm":"text-slate-600 hover:bg-slate-50"}`,children:"All Staff"})]})]}),a.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-cyan-500 to-blue-600 p-4 sm:p-6 md:p-8 rounded-2xl shadow-lg text-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-base sm:text-lg md:text-xl font-bold",children:["Today  ",new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 sm:gap-3 text-cyan-100 flex-wrap text-sm sm:text-base",children:[m&&a.jsxs(a.Fragment,{children:[a.jsx(Ut,{size:18}),a.jsxs("span",{children:["Checked in at ",new Date(t.checkIn).toLocaleTimeString()]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${t.status==="Late"?"bg-yellow-400 text-yellow-900":"bg-green-400 text-green-900"}`,children:t.status})]}),y&&a.jsxs(a.Fragment,{children:[a.jsx(Ut,{size:18}),a.jsxs("span",{children:["Worked ",t.hoursWorked,"h today"]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${t.status==="Late"?"bg-yellow-400 text-yellow-900":"bg-green-400 text-green-900"}`,children:t.status})]}),b&&a.jsxs(a.Fragment,{children:[a.jsx(Wo,{size:18}),a.jsx("span",{children:"You haven't checked in yet"})]})]})]}),a.jsxs("div",{children:[b&&a.jsxs("button",{onClick:v,className:"bg-white text-cyan-600 hover:bg-cyan-50 px-8 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg transition-colors",children:[a.jsx(wE,{size:20}),"Check In"]}),m&&a.jsxs("button",{onClick:x,className:"bg-white text-red-600 hover:bg-red-50 px-8 py-3 rounded-xl font-bold flex items-center gap-2 shadow-lg transition-colors",children:[a.jsx($p,{size:20}),"Check Out"]}),y&&a.jsx("div",{className:"bg-white/20 px-6 py-3 rounded-xl font-bold text-center",children:" Done for today"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ut,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:w}),a.jsx("div",{className:"text-xs text-slate-500",children:"Present Days"})]})]}),a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Wo,{className:"w-6 h-6 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:j}),a.jsx("div",{className:"text-xs text-slate-500",children:"Late Arrivals"})]})]}),a.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(EE,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[k,"h"]}),a.jsx("div",{className:"text-xs text-slate-500",children:"Total Hours (30 days)"})]})]})]}),h==="my"?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center gap-2",children:[a.jsx(je,{className:"w-5 h-5 text-cyan-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"My Attendance History"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Date"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Check In"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Check Out"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Hours"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-3 font-medium text-slate-800 text-sm",children:_.date}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:new Date(_.checkIn).toLocaleTimeString()}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:_.checkOut?new Date(_.checkOut).toLocaleTimeString():""}),a.jsxs("td",{className:"px-6 py-3 font-bold text-slate-800 text-sm",children:[_.hoursWorked,"h"]}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${C(_.status)}`,children:_.status})})]},_._id)),n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-500",children:"No attendance records yet."})})]})]})})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-4 sm:p-5 border-b border-slate-100 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(us,{className:"w-5 h-5 text-purple-500"}),a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"All Staff Attendance"})]}),a.jsx("input",{type:"date",value:d,onChange:_=>u(_.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Staff"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Role"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Check In"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Check Out"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Hours"}),a.jsx("th",{className:"px-6 py-3 font-semibold text-slate-600 text-sm",children:"Status"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.map(_=>{var S,T,P,E,O,F,D,M;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[(S=_.user)!=null&&S.profileImage?a.jsx("img",{src:_.user.profileImage,alt:"",className:"w-8 h-8 rounded-full object-cover"}):a.jsxs("div",{className:"w-8 h-8 bg-cyan-100 rounded-full flex items-center justify-center text-cyan-600 text-xs font-bold",children:[(P=(T=_.user)==null?void 0:T.firstName)==null?void 0:P[0],(O=(E=_.user)==null?void 0:E.lastName)==null?void 0:O[0]]}),a.jsxs("span",{className:"font-medium text-slate-800 text-sm",children:[(F=_.user)==null?void 0:F.firstName," ",(D=_.user)==null?void 0:D.lastName]})]})}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:(M=_.user)==null?void 0:M.role}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:new Date(_.checkIn).toLocaleTimeString()}),a.jsx("td",{className:"px-6 py-3 text-slate-600 text-sm",children:_.checkOut?new Date(_.checkOut).toLocaleTimeString():""}),a.jsxs("td",{className:"px-6 py-3 font-bold text-slate-800 text-sm",children:[_.hoursWorked,"h"]}),a.jsx("td",{className:"px-6 py-3",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${C(_.status)}`,children:_.status})})]},_._id)}),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-slate-500",children:"No records for this date."})})]})]})})]})]})},U3=()=>{const{user:e}=Te(),[t,s]=N.useState("my"),[n,i]=N.useState([]),[r,o]=N.useState([]),[l,c]=N.useState(!0),[d,u]=N.useState(!1),[h,f]=N.useState({leaveType:"Casual Leave",startDate:"",endDate:"",reason:""}),p=async()=>{try{const{data:y}=await I.get("/leaves/my");i(y)}catch(y){console.error("Error fetching my leaves:",y)}},g=async()=>{try{const{data:y}=await I.get("/leaves");o(y)}catch(y){console.error("Error fetching all leaves:",y)}};N.useEffect(()=>{(async()=>{c(!0),await p(),(e.role==="Admin"||e.role==="HR")&&await g(),c(!1)})()},[e.role]);const v=async y=>{var b,w;y.preventDefault();try{await I.post("/leaves",h),R.success("Leave application submitted!"),u(!1),f({leaveType:"Casual Leave",startDate:"",endDate:"",reason:""}),p(),e.role==="Admin"&&g()}catch(j){R.error(((w=(b=j.response)==null?void 0:b.data)==null?void 0:w.message)||"Failed to apply")}},x=async(y,b)=>{try{await I.put(`/leaves/${y}/status`,{status:b}),R.success(`Leave ${b.toLowerCase()} successfully`),g(),p()}catch{R.error("Failed to update status")}},m=y=>{switch(y){case"Approved":return"bg-green-100 text-green-700";case"Rejected":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Leave Management"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Manage your leaves and approvals"})]}),a.jsxs("div",{className:"flex gap-2",children:[e.role==="Admin"&&a.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[a.jsx("button",{onClick:()=>s("my"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="my"?"bg-white shadow-sm text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"My Leaves"}),a.jsx("button",{onClick:()=>s("requests"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t==="requests"?"bg-white shadow-sm text-slate-800":"text-slate-500 hover:text-slate-700"}`,children:"Leave Requests"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-cyan-500/20",children:[a.jsx(ns,{size:20}),"Apply Leave"]})]})]}),(t==="my"||e.role!=="Admin")&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-slate-100",children:a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"My Leave History"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Type"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Dates"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Reason"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length>0?n.map(y=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:y.leaveType}),a.jsxs("td",{className:"px-6 py-4 text-slate-600 text-sm",children:[new Date(y.startDate).toLocaleDateString()," - ",new Date(y.endDate).toLocaleDateString(),a.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[Math.ceil((new Date(y.endDate)-new Date(y.startDate))/(1e3*60*60*24))+1," days"]})]}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm max-w-xs truncate",children:y.reason}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${m(y.status)}`,children:y.status})})]},y._id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No leave history found."})})})]})})]}),t==="requests"&&e.role==="Admin"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-slate-100",children:a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Pending Leave Requests"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Employee"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Type"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Dates"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Reason"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-semibold text-slate-600 text-sm",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.map(y=>{var b,w,j;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"font-medium text-slate-800",children:[(b=y.user)==null?void 0:b.firstName," ",(w=y.user)==null?void 0:w.lastName]}),a.jsx("div",{className:"text-xs text-slate-500",children:(j=y.user)==null?void 0:j.role})]}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm",children:y.leaveType}),a.jsxs("td",{className:"px-6 py-4 text-slate-600 text-sm",children:[new Date(y.startDate).toLocaleDateString()," - ",new Date(y.endDate).toLocaleDateString(),a.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[Math.ceil((new Date(y.endDate)-new Date(y.startDate))/(1e3*60*60*24))+1," days"]})]}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm max-w-xs",children:y.reason}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${m(y.status)}`,children:y.status})}),a.jsx("td",{className:"px-6 py-4",children:y.status==="Pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>x(y._id,"Approved"),className:"p-1.5 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",title:"Approve",children:a.jsx(Ut,{size:18})}),a.jsx("button",{onClick:()=>x(y._id,"Rejected"),className:"p-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:"Reject",children:a.jsx(jc,{size:18})})]})})]},y._id)}),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-slate-500",children:"No leave requests found."})})]})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Apply for Leave"}),a.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(jc,{size:24})})]}),a.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Leave Type"}),a.jsxs("select",{required:!0,value:h.leaveType,onChange:y=>f({...h,leaveType:y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",children:[a.jsx("option",{children:"Casual Leave"}),a.jsx("option",{children:"Sick Leave"}),a.jsx("option",{children:"Emergency Leave"}),a.jsx("option",{children:"Vacation"}),a.jsx("option",{children:"Other"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",required:!0,value:h.startDate,onChange:y=>f({...h,startDate:y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",required:!0,value:h.endDate,onChange:y=>f({...h,endDate:y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reason"}),a.jsx("textarea",{required:!0,rows:"3",value:h.reason,onChange:y=>f({...h,reason:y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500",placeholder:"Please describe the reason for your leave..."})]}),a.jsx("button",{type:"submit",className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 rounded-xl transition-colors shadow-lg shadow-cyan-500/20",children:"Submit Application"})]})]})})]})},ys=Object.create(null);ys.open="0";ys.close="1";ys.ping="2";ys.pong="3";ys.message="4";ys.upgrade="5";ys.noop="6";const Il=Object.create(null);Object.keys(ys).forEach(e=>{Il[ys[e]]=e});const uf={type:"error",data:"parser error"},mj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",gj=typeof ArrayBuffer=="function",xj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,lm=({type:e,data:t},s,n)=>mj&&t instanceof Blob?s?n(t):Py(t,n):gj&&(t instanceof ArrayBuffer||xj(t))?s?n(t):Py(new Blob([t]),n):n(ys[e]+(t||"")),Py=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function Ty(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Du;function H3(e,t){if(mj&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ty).then(t);if(gj&&(e.data instanceof ArrayBuffer||xj(e.data)))return t(Ty(e.data));lm(e,!1,s=>{Du||(Du=new TextEncoder),t(Du.encode(s))})}const Ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",to=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ey.length;e++)to[Ey.charCodeAt(e)]=e;const W3=e=>{let t=e.length*.75,s=e.length,n,i=0,r,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<s;n+=4)r=to[e.charCodeAt(n)],o=to[e.charCodeAt(n+1)],l=to[e.charCodeAt(n+2)],c=to[e.charCodeAt(n+3)],u[i++]=r<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},q3=typeof ArrayBuffer=="function",cm=(e,t)=>{if(typeof e!="string")return{type:"message",data:yj(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:K3(e.substring(1),t)}:Il[s]?e.length>1?{type:Il[s],data:e.substring(1)}:{type:Il[s]}:uf},K3=(e,t)=>{if(q3){const s=W3(e);return yj(s,t)}else return{base64:!0,data:e}},yj=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},vj="",Y3=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((r,o)=>{lm(r,!1,l=>{n[o]=l,++i===s&&t(n.join(vj))})})},G3=(e,t)=>{const s=e.split(vj),n=[];for(let i=0;i<s.length;i++){const r=cm(s[i],t);if(n.push(r),r.type==="error")break}return n};function X3(){return new TransformStream({transform(e,t){H3(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,n)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let Ru;function al(e){return e.reduce((t,s)=>t+s.length,0)}function ll(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function Q3(e,t){Ru||(Ru=new TextDecoder);const s=[];let n=0,i=-1,r=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(n===0){if(al(s)<1)break;const c=ll(s,1);r=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(al(s)<2)break;const c=ll(s,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(al(s)<8)break;const c=ll(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(uf);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(al(s)<i)break;const c=ll(s,i);l.enqueue(cm(r?c:Ru.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(uf);break}}}})}const bj=4;function Re(e){if(e)return J3(e)}function J3(e){for(var t in Re.prototype)e[t]=Re.prototype[t];return e}Re.prototype.on=Re.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Re.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Re.prototype.off=Re.prototype.removeListener=Re.prototype.removeAllListeners=Re.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Re.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};Re.prototype.emitReserved=Re.prototype.emit;Re.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Re.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Ft=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Z3="arraybuffer";function wj(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const eL=Ft.setTimeout,tL=Ft.clearTimeout;function jd(e,t){t.useNativeTimers?(e.setTimeoutFn=eL.bind(Ft),e.clearTimeoutFn=tL.bind(Ft)):(e.setTimeoutFn=Ft.setTimeout.bind(Ft),e.clearTimeoutFn=Ft.clearTimeout.bind(Ft))}const sL=1.33;function nL(e){return typeof e=="string"?iL(e):Math.ceil((e.byteLength||e.size)*sL)}function iL(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function jj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rL(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function oL(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let r=s[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class aL extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class dm extends Re{constructor(t){super(),this.writable=!1,jd(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new aL(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=cm(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=rL(t);return s.length?"?"+s:""}}class lL extends dm{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};G3(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Y3(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=jj()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let Nj=!1;try{Nj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cL=Nj;function dL(){}class uL extends lL{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class xs extends Re{constructor(t,s,n){super(),this.createRequest=t,jd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=wj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=xs.requestsCount++,xs.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=dL,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xs.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}xs.requestsCount=0;xs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ay);else if(typeof addEventListener=="function"){const e="onpagehide"in Ft?"pagehide":"unload";addEventListener(e,Ay,!1)}}function Ay(){for(let e in xs.requests)xs.requests.hasOwnProperty(e)&&xs.requests[e].abort()}const hL=function(){const e=Sj({xdomain:!1});return e&&e.responseType!==null}();class fL extends uL{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=hL&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new xs(Sj,this.uri(),t)}}function Sj(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||cL))return new XMLHttpRequest}catch{}if(!t)try{return new Ft[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const kj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pL extends dm{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=kj?{}:wj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;lm(n,this.supportsBinary,r=>{try{this.doWrite(n,r)}catch{}i&&wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=jj()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Mu=Ft.WebSocket||Ft.MozWebSocket;class mL extends pL{createSocket(t,s,n){return kj?new Mu(t,s,n):s?new Mu(t,s):new Mu(t)}doWrite(t,s){this.ws.send(s)}}class gL extends dm{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=Q3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=X3();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const r=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this._writer.write(n).then(()=>{i&&wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const xL={websocket:mL,webtransport:gL,polling:fL},yL=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hf(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=yL.exec(e||""),r={},o=14;for(;o--;)r[vL[o]]=i[o]||"";return s!=-1&&n!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=bL(r,r.path),r.queryKey=wL(r,r.query),r}function bL(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function wL(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,r){i&&(s[i]=r)}),s}const ff=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bl=[];ff&&addEventListener("offline",()=>{Bl.forEach(e=>e())},!1);class bn extends Re{constructor(t,s){if(super(),this.binaryType=Z3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=hf(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=hf(s.host).host);jd(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=oL(this.opts.query)),ff&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=bj,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&bn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",bn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=nL(i)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,wd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:t,data:s,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(bn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ff&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Bl.indexOf(this._offlineEventListener);n!==-1&&Bl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}bn.protocol=bj;class jL extends bn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;bn.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;bn.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=s.name,this.emitReserved("upgradeError",f)}}))};function r(){n||(n=!0,u(),s.close(),s=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=s.name,r(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){s&&h.name!==s.name&&r()}const u=()=>{s.removeListener("open",i),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};s.once("open",i),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let NL=class extends jL{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>xL[i]).filter(i=>!!i)),super(t,n)}};function SL(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=hf(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+t,n.href=n.protocol+"://"+r+(s&&s.port===n.port?"":":"+n.port),n}const kL=typeof ArrayBuffer=="function",_L=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,_j=Object.prototype.toString,CL=typeof Blob=="function"||typeof Blob<"u"&&_j.call(Blob)==="[object BlobConstructor]",PL=typeof File=="function"||typeof File<"u"&&_j.call(File)==="[object FileConstructor]";function um(e){return kL&&(e instanceof ArrayBuffer||_L(e))||CL&&e instanceof Blob||PL&&e instanceof File}function Fl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Fl(e[s]))return!0;return!1}if(um(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Fl(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Fl(e[s]))return!0;return!1}function TL(e){const t=[],s=e.data,n=e;return n.data=pf(s,t),n.attachments=t.length,{packet:n,buffers:t}}function pf(e,t){if(!e)return e;if(um(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=pf(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=pf(e[n],t));return s}return e}function EL(e,t){return e.data=mf(e.data,t),delete e.attachments,e}function mf(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=mf(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=mf(e[s],t));return e}const AL=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var ee;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ee||(ee={}));class DL{constructor(t){this.replacer=t}encode(t){return(t.type===ee.EVENT||t.type===ee.ACK)&&Fl(t)?this.encodeAsBinary({type:t.type===ee.EVENT?ee.BINARY_EVENT:ee.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===ee.BINARY_EVENT||t.type===ee.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=TL(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}class hm extends Re{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===ee.BINARY_EVENT;n||s.type===ee.BINARY_ACK?(s.type=n?ee.EVENT:ee.ACK,this.reconstructor=new RL(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(um(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(ee[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ee.BINARY_EVENT||n.type===ee.BINARY_ACK){const r=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(r,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(s+1)==="/"){const r=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(r,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const r=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}n.id=Number(t.substring(r,s+1))}if(t.charAt(++s)){const r=this.tryParse(t.substr(s));if(hm.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case ee.CONNECT:return Dy(s);case ee.DISCONNECT:return s===void 0;case ee.CONNECT_ERROR:return typeof s=="string"||Dy(s);case ee.EVENT:case ee.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&AL.indexOf(s[0])===-1);case ee.ACK:case ee.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class RL{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=EL(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Dy(e){return Object.prototype.toString.call(e)==="[object Object]"}const ML=Object.freeze(Object.defineProperty({__proto__:null,Decoder:hm,Encoder:DL,get PacketType(){return ee}},Symbol.toStringTag,{value:"Module"}));function Xt(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const LL=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cj extends Re{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xt(t,"open",this.onopen.bind(this)),Xt(t,"packet",this.onpacket.bind(this)),Xt(t,"error",this.onerror.bind(this)),Xt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,i,r;if(LL.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:ee.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const u=this.ids++,h=s.pop();this._registerAckCallback(u,h),o.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(r),s.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((n,i)=>{const r=(o,l)=>o?i(o):n(l);r.withError=!0,s.push(r),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...r)=>(this._queue[0],i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...r)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ee.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ee.EVENT:case ee.BINARY_EVENT:this.onevent(t);break;case ee.ACK:case ee.BINARY_ACK:this.onack(t);break;case ee.DISCONNECT:this.ondisconnect();break;case ee.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:ee.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function _r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}_r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};_r.prototype.reset=function(){this.attempts=0};_r.prototype.setMin=function(e){this.ms=e};_r.prototype.setMax=function(e){this.max=e};_r.prototype.setJitter=function(e){this.jitter=e};class gf extends Re{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,jd(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new _r({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||ML;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new NL(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Xt(s,"open",function(){n.onopen(),t&&t()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Xt(s,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xt(t,"ping",this.onping.bind(this)),Xt(t,"data",this.ondata.bind(this)),Xt(t,"error",this.onerror.bind(this)),Xt(t,"close",this.onclose.bind(this)),Xt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){wd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Cj(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ur={};function jo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=SL(e,t.path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=Ur[i]&&r in Ur[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new gf(n,t):(Ur[i]||(Ur[i]=new gf(n,t)),c=Ur[i]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(jo,{Manager:gf,Socket:Cj,io:jo,connect:jo});const OL=()=>{const{user:e}=Te(),[t,s]=N.useState(null),[n,i]=N.useState([]),[r,o]=N.useState(null),[l,c]=N.useState([]),[d,u]=N.useState(""),[h,f]=N.useState(""),p=N.useRef(null),[g,v]=N.useState(!0),x=()=>{var w;(w=p.current)==null||w.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{const w=jo("http://localhost:5000",{withCredentials:!0});return s(w),w.emit("join_room",e._id),()=>w.close()},[e._id]),N.useEffect(()=>{(async()=>{try{const{data:j}=await I.get("/chat/users");i(j),v(!1)}catch(j){console.error("Error fetching users:",j),v(!1)}})()},[]),N.useEffect(()=>{if(!r)return;(async()=>{try{const{data:j}=await I.get(`/chat/${r._id}`);c(j),x()}catch(j){console.error("Error fetching messages:",j)}})()},[r]),N.useEffect(()=>{if(t)return t.on("receive_message",w=>{r&&(w.sender===r._id||w.sender===e._id)&&(c(j=>[...j,w]),x())}),()=>t.off("receive_message")},[t,r,e._id]),N.useEffect(()=>{x()},[l]);const m=async w=>{if(w.preventDefault(),!(!d.trim()||!r))try{const{data:j}=await I.post("/chat/send",{receiverId:r._id,message:d});c(k=>[...k,j]),u("")}catch(j){console.error("Error sending message:",j)}},y=n.filter(w=>{var j,k;return(((j=w.firstName)==null?void 0:j.toLowerCase())||"").includes(h.toLowerCase())||(((k=w.lastName)==null?void 0:k.toLowerCase())||"").includes(h.toLowerCase())}),b=(w,j)=>`${(w==null?void 0:w[0])||""}${(j==null?void 0:j[0])||""}`;return a.jsxs("div",{className:"h-[calc(100vh-2rem)] flex gap-6",children:[a.jsxs("div",{className:"w-80 bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-slate-100",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Xh,{className:"text-cyan-500"})," Messages"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Us,{className:"absolute left-3 top-2.5 text-slate-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:h,onChange:w=>f(w.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border-none rounded-lg text-sm focus:ring-1 focus:ring-cyan-500"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:g?a.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading users..."}):y.length>0?y.map(w=>a.jsxs("div",{onClick:()=>o(w),className:`p-4 flex items-center gap-3 cursor-pointer transition-colors border-b border-slate-50 hover:bg-slate-50 ${(r==null?void 0:r._id)===w._id?"bg-cyan-50 hover:bg-cyan-50":""}`,children:[a.jsxs("div",{className:"relative",children:[w.profileImage?a.jsx("img",{src:w.profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold",children:b(w.firstName,w.lastName)}),a.jsx("span",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${w.activityStatus==="Online"?"bg-green-500":"bg-slate-300"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h3",{className:"font-semibold text-slate-800 truncate",children:[w.firstName," ",w.lastName]}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:w.role})]})]},w._id)):a.jsx("div",{className:"p-4 text-center text-slate-500",children:"No users found"})})]}),a.jsx("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col overflow-hidden",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-white z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[r.profileImage?a.jsx("img",{src:r.profileImage,alt:"",className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-100 flex items-center justify-center text-cyan-700 font-bold",children:b(r.firstName,r.lastName)}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-slate-800",children:[r.firstName," ",r.lastName]}),a.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Online"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 rounded-full transition-colors",children:a.jsx(vi,{size:20})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 rounded-full transition-colors",children:a.jsx(DE,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[l.map((w,j)=>{var C;const k=String(((C=w.sender)==null?void 0:C._id)||w.sender)===String(e._id);return a.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${k?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-2xl ${k?"bg-cyan-500 text-white rounded-br-none":"bg-white border border-slate-200 text-slate-800 rounded-bl-none shadow-sm"}`,children:[a.jsx("p",{className:"text-sm",children:w.message}),a.jsx("p",{className:`text-[10px] mt-1 text-right ${k?"text-cyan-100":"text-slate-400"}`,children:new Date(w.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},j)}),a.jsx("div",{ref:p})]}),a.jsx("div",{className:"p-4 bg-white border-t border-slate-100",children:a.jsxs("form",{onSubmit:m,className:"flex gap-2",children:[a.jsx("input",{type:"text",value:d,onChange:w=>u(w.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-slate-50 border-none rounded-xl focus:ring-1 focus:ring-cyan-500 outline-none transition-all placeholder:text-slate-400"}),a.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-cyan-500 hover:bg-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed text-white p-3 rounded-xl transition-colors shadow-lg shadow-cyan-500/20",children:a.jsx(i2,{size:20})})]})})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 bg-slate-50/30",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Xh,{size:40,className:"text-slate-300"})}),a.jsx("h3",{className:"text-lg font-medium text-slate-600",children:"Select a user to start chatting"}),a.jsx("p",{className:"text-sm",children:"Choose from the list on the left to send a message."})]})})]})},IL=e=>{const t=[{name:"Dashboard",icon:bE,path:"/dashboard"},{name:"Messages",icon:Xh,path:"/chat"},{name:"Notifications",icon:qo,path:"/notifications"}],s={Admin:[{name:"Doctors",icon:us,path:"/doctors"},{name:"Patients",icon:us,path:"/patients"},{name:"Appointments",icon:je,path:"/appointments"},{name:"Schedule",icon:je,path:"/schedule"},{name:"Lab Reports",icon:ai,path:"/lab-reports"},{name:"Billing",icon:Ne,path:"/billing"},{name:"Pharmacy",icon:Jg,path:"/pharmacy"},{name:"Beds",icon:ti,path:"/beds"},{name:"Reports",icon:Jw,path:"/reports"},{name:"Activity Log",icon:vE,path:"/activity-log"},{name:"Inventory Alerts",icon:xi,path:"/inventory-alerts"},{name:"Attendance",icon:ot,path:"/attendance"},{name:"Leaves",icon:gu,path:"/leaves"},{name:"Settings",icon:Gn,path:"/settings"}],Doctor:[{name:"My Patients",icon:us,path:"/patients"},{name:"Appointments",icon:je,path:"/appointments"},{name:"Schedule",icon:je,path:"/schedule"},{name:"Prescriptions",icon:Ne,path:"/prescriptions"},{name:"Lab Reports",icon:ai,path:"/lab-reports"},{name:"Attendance",icon:ot,path:"/attendance"},{name:"Leaves",icon:gu,path:"/leaves"},{name:"Settings",icon:Gn,path:"/settings"}],Patient:[{name:"My Appointments",icon:je,path:"/appointments"},{name:"Lab Reports",icon:ai,path:"/lab-reports"},{name:"Medical Records",icon:Fs,path:"/records"},{name:"Bills",icon:Ne,path:"/bills"},{name:"My Reviews",icon:pr,path:"/doctors"},{name:"Settings",icon:Gn,path:"/settings"}],Receptionist:[{name:"Appointments",icon:je,path:"/appointments"},{name:"Schedule",icon:je,path:"/schedule"},{name:"Patients",icon:us,path:"/patients"},{name:"Billing",icon:Ne,path:"/billing"},{name:"Beds",icon:ti,path:"/beds"},{name:"Attendance",icon:ot,path:"/attendance"},{name:"Leaves",icon:gu,path:"/leaves"},{name:"Settings",icon:Gn,path:"/settings"}],Pharmacist:[{name:"Inventory",icon:Jg,path:"/pharmacy"},{name:"Prescriptions",icon:Ne,path:"/prescriptions"},{name:"Inventory Alerts",icon:xi,path:"/inventory-alerts"},{name:"Attendance",icon:ot,path:"/attendance"},{name:"Settings",icon:Gn,path:"/settings"}]};return[...t,...s[e]||[]]};var Pj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function s(){for(var r="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(r=i(r,n(l)))}return r}function n(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return s.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var o="";for(var l in r)t.call(r,l)&&r[l]&&(o=i(o,l));return o}function i(r,o){return o?r?r+" "+o:r+o:r}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(Pj);var BL=Pj.exports;const Ry=My(BL),FL=({isOpen:e,onClose:t})=>{var r,o;const{user:s,logout:n}=Te(),i=IL((s==null?void 0:s.role)||"Guest");return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),a.jsxs("div",{className:Ry("h-screen bg-slate-900 text-white flex flex-col fixed left-0 top-0 shadow-lg z-50 transition-transform duration-300","w-64","lg:translate-x-0",e?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[a.jsxs("div",{className:"p-6 text-2xl font-bold text-cyan-400 flex items-center justify-between",children:[a.jsx("span",{children:" MedCare"}),a.jsx("button",{onClick:t,className:"lg:hidden text-slate-400 hover:text-white",children:a.jsx(Me,{size:22})})]}),a.jsx("nav",{className:"flex-1 px-4 space-y-1 mt-4 overflow-y-auto scrollbar-thin",style:{scrollbarWidth:"thin",scrollbarColor:"#475569 transparent"},children:i.map(l=>a.jsxs(c_,{to:l.path,onClick:t,className:({isActive:c})=>Ry("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200",c?"bg-cyan-600 text-white shadow-md":"text-gray-400 hover:bg-slate-800 hover:text-cyan-300"),children:[a.jsx(l.icon,{size:20}),a.jsx("span",{className:"font-medium",children:l.name})]},l.path))}),a.jsx("div",{className:"px-4 py-3 border-t border-slate-800",children:a.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[s!=null&&s.profileImage?a.jsx("img",{src:s.profileImage,alt:"Profile",className:"w-9 h-9 rounded-full object-cover ring-2 ring-cyan-500/50 shrink-0"}):a.jsxs("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center text-white text-sm font-bold shrink-0",children:[(r=s==null?void 0:s.firstName)==null?void 0:r[0],(o=s==null?void 0:s.lastName)==null?void 0:o[0]]}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("p",{className:"text-sm font-medium text-slate-200 truncate",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:s==null?void 0:s.role})]})]})}),a.jsx("div",{className:"px-4 pb-4",children:a.jsxs("button",{onClick:n,className:"flex items-center gap-3 w-full px-4 py-3 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:[a.jsx($p,{size:20}),a.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})},zL={patients:{icon:bi,label:"Patients",color:"text-blue-500 bg-blue-50"},doctors:{icon:r2,label:"Doctors",color:"text-purple-500 bg-purple-50"},appointments:{icon:je,label:"Appointments",color:"text-cyan-500 bg-cyan-50"},medicines:{icon:s2,label:"Medicines",color:"text-green-500 bg-green-50"}},VL=({isOpen:e,onClose:t})=>{const[s,n]=N.useState(""),[i,r]=N.useState(null),[o,l]=N.useState(!1),c=N.useRef(null),d=ki(),u=N.useRef(null);N.useEffect(()=>{e&&c.current&&setTimeout(()=>{var p;return(p=c.current)==null?void 0:p.focus()},100),e||(n(""),r(null))},[e]),N.useEffect(()=>{if(s.trim().length<2){r(null);return}clearTimeout(u.current),u.current=setTimeout(async()=>{l(!0);try{const p=await I.get(`/search?q=${encodeURIComponent(s)}`);r(p.data)}catch(p){console.error(p)}finally{l(!1)}},300)},[s]);const h=p=>{t(),d(p)},f=i?Object.values(i).reduce((p,g)=>p+g.length,0):0;return e?a.jsx(tt,{children:a.jsx("div",{className:"fixed inset-0 z-[60] flex items-start justify-center pt-[10vh] bg-black/40 backdrop-blur-sm",onClick:t,children:a.jsxs(q.div,{initial:{opacity:0,y:-20,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.97},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-slate-100",children:[a.jsx(Us,{className:"text-slate-400 shrink-0",size:20}),a.jsx("input",{ref:c,type:"text",placeholder:"Search patients, doctors, medicines, appointments...",value:s,onChange:p=>n(p.target.value),className:"flex-1 text-sm outline-none placeholder:text-slate-400"}),s&&a.jsx("button",{onClick:()=>n(""),className:"text-slate-300 hover:text-slate-500",children:a.jsx(Me,{size:18})}),a.jsx("kbd",{className:"hidden md:inline-flex items-center px-2 py-0.5 text-[10px] font-bold text-slate-400 bg-slate-100 rounded border border-slate-200",children:"ESC"})]}),a.jsxs("div",{className:"max-h-[60vh] overflow-y-auto",children:[o&&a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-500"})}),!o&&i&&f===0&&a.jsxs("div",{className:"py-8 text-center text-slate-500 text-sm",children:['No results found for "',a.jsx("span",{className:"font-medium",children:s}),'"']}),!o&&i&&f>0&&a.jsx("div",{className:"py-2",children:Object.entries(i).map(([p,g])=>{if(!g||g.length===0)return null;const v=zL[p];if(!v)return null;const x=v.icon;return a.jsxs("div",{children:[a.jsx("div",{className:"px-5 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:v.label}),g.map(m=>{var y,b;return a.jsxs("button",{className:"w-full text-left px-5 py-2.5 hover:bg-slate-50 flex items-center gap-3 transition-colors",onClick:()=>{p==="patients"?h("/patients"):p==="doctors"?h("/doctors"):p==="appointments"?h("/appointments"):p==="medicines"&&h("/pharmacy")},children:[a.jsx("div",{className:`p-2 rounded-lg ${v.color}`,children:a.jsx(x,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[p==="patients"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm font-medium text-slate-800 truncate",children:[m.firstName," ",m.lastName]}),a.jsx("p",{className:"text-xs text-slate-500",children:m.email})]}),p==="doctors"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm font-medium text-slate-800 truncate",children:["Dr. ",m.firstName," ",m.lastName]}),a.jsx("p",{className:"text-xs text-slate-500",children:m.doctorDepartment||"General"})]}),p==="appointments"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:m.reason}),a.jsxs("p",{className:"text-xs text-slate-500",children:[(y=m.patient)==null?void 0:y.firstName," ",(b=m.patient)==null?void 0:b.lastName,"  ",new Date(m.appointmentDate).toLocaleDateString(),"  ",m.status]})]}),p==="medicines"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:m.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[m.category,"  Stock: ",m.stock,"  ",m.price]})]})]})]},m._id)})]},p)})}),!o&&!i&&a.jsx("div",{className:"py-8 text-center text-sm text-slate-400",children:"Type at least 2 characters to search"})]}),a.jsxs("div",{className:"px-5 py-3 border-t border-slate-100 flex items-center justify-between text-xs text-slate-400",children:[a.jsx("span",{children:f>0?`${f} results`:"Search across all data"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-100 rounded border border-slate-200 font-bold",children:""}),a.jsx("span",{children:"to navigate"})]})]})]})})}):null},Tj=N.createContext(),$L=()=>N.useContext(Tj),UL=({children:e})=>{const[t,s]=N.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});N.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(t)),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const n=()=>s(i=>!i);return a.jsx(Tj.Provider,{value:{darkMode:t,toggleDarkMode:n},children:e})},HL=()=>{const e=ki(),[t,s]=N.useState(0),[n,i]=N.useState(!1),[r,o]=N.useState(!1),{darkMode:l,toggleDarkMode:c}=$L();return N.useEffect(()=>{const d=async()=>{try{const h=await I.get("/notifications/unread-count");s(h.data.count)}catch{}};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[]),N.useEffect(()=>{const d=u=>{(u.ctrlKey||u.metaKey)&&u.key==="k"&&(u.preventDefault(),i(h=>!h)),u.key==="Escape"&&i(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),a.jsxs("div",{className:"flex bg-slate-50 min-h-screen",children:[a.jsx(FL,{isOpen:r,onClose:()=>o(!1)}),a.jsxs("div",{className:"flex-1 lg:ml-64 flex flex-col h-screen",children:[a.jsxs("header",{className:"bg-white border-b border-slate-100 px-4 sm:px-6 lg:px-8 py-3 flex items-center gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>o(!0),className:"lg:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors text-slate-600",children:a.jsx(NE,{size:22})}),a.jsx("div",{className:"flex-1"}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-lg text-sm text-slate-500 transition-colors",children:[a.jsx(Us,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Search..."}),a.jsx("kbd",{className:"hidden md:inline-flex items-center px-1.5 py-0.5 text-[10px] font-bold text-slate-400 bg-white rounded border border-slate-200 ml-2",children:"Ctrl+K"})]}),a.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-slate-100 transition-colors",title:l?"Light Mode":"Dark Mode",children:l?a.jsx(PE,{size:20,className:"text-amber-400"}):a.jsx(kE,{size:20,className:"text-slate-600"})}),a.jsxs("button",{onClick:()=>e("/notifications"),className:"relative p-2 rounded-lg hover:bg-slate-100 transition-colors",children:[a.jsx(qo,{size:20,className:"text-slate-600"}),t>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center",children:t>9?"9+":t})]})]}),a.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:a.jsx(s1,{})})]}),a.jsx(VL,{isOpen:n,onClose:()=>i(!1)})]})},WL=({allowedRoles:e})=>{const{user:t,loading:s}=Te();return s?a.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500"})}):t?e&&!e.includes(t.role)?a.jsx(Hi,{to:"/unauthorized",replace:!0}):a.jsx(s1,{}):a.jsx(Hi,{to:"/login",replace:!0})};function qL(){const{user:e}=Te();return a.jsxs(a.Fragment,{children:[a.jsxs(Jk,{children:[a.jsx(ae,{path:"/login",element:e?a.jsx(Hi,{to:"/dashboard"}):a.jsx(ME,{})}),a.jsx(ae,{path:"/register",element:e?a.jsx(Hi,{to:"/dashboard"}):a.jsx(LE,{})}),a.jsx(ae,{element:a.jsx(WL,{}),children:a.jsxs(ae,{element:a.jsx(HL,{}),children:[a.jsx(ae,{path:"/dashboard",element:a.jsx($E,{})}),a.jsx(ae,{path:"/patients",element:a.jsx(j6,{})}),a.jsx(ae,{path:"/doctors",element:a.jsx(S6,{})}),a.jsx(ae,{path:"/appointments",element:a.jsx(_6,{})}),a.jsx(ae,{path:"/billing",element:a.jsx(tx,{})}),a.jsx(ae,{path:"/pharmacy",element:a.jsx(T6,{})}),a.jsx(ae,{path:"/records",element:a.jsx(M6,{})}),a.jsx(ae,{path:"/prescriptions",element:a.jsx(L6,{})}),a.jsx(ae,{path:"/bills",element:a.jsx(tx,{})}),a.jsx(ae,{path:"/settings",element:a.jsx(O6,{})}),a.jsx(ae,{path:"/lab-reports",element:a.jsx(F6,{})}),a.jsx(ae,{path:"/reports",element:a.jsx(C3,{})}),a.jsx(ae,{path:"/beds",element:a.jsx(D3,{})}),a.jsx(ae,{path:"/schedule",element:a.jsx(M3,{})}),a.jsx(ae,{path:"/notifications",element:a.jsx(O3,{})}),a.jsx(ae,{path:"/activity-log",element:a.jsx(B3,{})}),a.jsx(ae,{path:"/inventory-alerts",element:a.jsx(V3,{})}),a.jsx(ae,{path:"/attendance",element:a.jsx($3,{})}),a.jsx(ae,{path:"/leaves",element:a.jsx(U3,{})}),a.jsx(ae,{path:"/chat",element:a.jsx(OL,{})}),a.jsx(ae,{path:"/",element:a.jsx(Hi,{to:"/dashboard"})})]})}),a.jsx(ae,{path:"*",element:a.jsx(Hi,{to:"/login"})})]}),a.jsx(Dh,{position:"top-right",theme:"dark"})]})}const KL=N.createContext(),YL=({children:e})=>{const[t,s]=N.useState(null);return N.useEffect(()=>{const n=jo("http://localhost:5000",{withCredentials:!0});return s(n),n.on("notification",i=>{R.info(i.message)}),()=>n.close()},[]),a.jsx(KL.Provider,{value:t,children:e})};Lu.createRoot(document.getElementById("root")).render(a.jsx(ie.StrictMode,{children:a.jsx(o_,{children:a.jsx(UL,{children:a.jsx(XC,{children:a.jsx(YL,{children:a.jsx(qL,{})})})})})}));
